import{p as e,a as t,u as o,g as i,s as l,c as r,o as a,f as n,h as s,b as d,d as c,e as u,i as g,j as v,k as h,l as p,m,n as f,t as b,q as w,r as I,S as x,v as $,w as T,x as y,y as C,z as B,A as S,B as k,C as O,D as F,J as R,E as A,F as j,G as M,H as D,I as P,K as q,L,M as W,N as V,O as N,P as z,Q as U,R as G,T as E,U as H,V as _,W as J,X as Y,Y as X,Z,_ as K,$ as Q,a0 as ee,a1 as te,a2 as oe,a3 as ie,a4 as le,a5 as re,a6 as ae,a7 as ne,a8 as se,a9 as de,aa as ce,ab as ue,ac as ge,ad as ve,ae as he,af as pe,ag as me,ah as fe,ai as be,aj as we,ak as Ie,al as xe,am as $e,an as Te,ao as ye,ap as Ce,aq as Be,ar as Se,as as ke,at as Oe,au as Fe,av as Re,aw as Ae,ax as je,ay as Me,az as De,aA as Pe,aB as qe,aC as Le,aD as We,aE as Ve,aF as Ne,aG as ze,aH as Ue,aI as Ge,aJ as Ee,aK as He,aL as _e,aM as Je,aN as Ye,aO as Xe,aP as Ze,aQ as Ke,aR as Qe,aS as et,aT as tt,aU as ot,aV as it,aW as lt,aX as rt,aY as at,aZ as nt,a_ as st,a$ as dt,b0 as ct,b1 as ut,b2 as gt,b3 as vt,b4 as ht,b5 as pt,b6 as mt,b7 as ft,b8 as bt,b9 as wt,ba as It,bb as xt,bc as $t,bd as Tt,be as yt,bf as Ct,bg as Bt,bh as St,bi as kt,bj as Ot,bk as Ft}from"./chunk-vendors.ae283b72.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const o of e)if("childList"===o.type)for(const e of o.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const Rt=e({anchor:null,text:"",isVisible:!0});var At=n('<div class="mdc-tooltip" role="tooltip" style="z-index: 9999;"><div class="mdc-tooltip__surface"><!></div></div>');function jt(e,n){t(n,!0);let h=l(void 0),p=null;o(()=>{i(h)&&""!==Rt.text&&(Rt.isVisible&&Rt.anchor?(p?.destroy(),p=r(Rt.anchor,i(h),{placement:"bottom",modifiers:[{name:"offset",options:{offset:[0,6]}},{name:"preventOverflow",options:{boundary:"viewport"}},{name:"flip",options:{fallbackPlacements:["bottom","top"]}}]}),i(h).classList.add("mdc-tooltip--shown")):p&&(p.destroy(),p=null,i(h).classList.remove("mdc-tooltip--shown")))}),a(()=>{p?.destroy()});var m=At(),f=v(m),b=v(f);s(b,()=>Rt.text),d(m,e=>c(h,e),()=>i(h)),u(e,m),g()}var Mt=n("<div><!></div>");const Dt=function(e,o){t(o,!0);let i,l=h(o,"text",3,""),r=h(o,"innerClass",3,"");function a(){Rt.anchor=i,Rt.text=l(),Rt.isVisible=!0}function n(){Rt.isVisible=!1}p(()=>(i.addEventListener("mouseenter",a),i.addEventListener("mouseleave",n),i.addEventListener("focusin",a),i.addEventListener("focusout",n),()=>{i.removeEventListener("mouseenter",a),i.removeEventListener("mouseleave",n),i.removeEventListener("focusin",a),i.removeEventListener("focusout",n)}));var s=Mt(),c=v(s);m(c,()=>o.children??f),d(s,e=>i=e,()=>i),b(()=>w(s,1,I(r()))),u(e,s),g()};
/*!
 * canvas-size
 * v2.0.0
 * https://github.com/jhildenbiddle/canvas-size
 * (c) 2015-2024 John Hildenbiddle <http://hildenbiddle.com>
 * MIT license
 */function Pt(e){const t=e.sizes.shift(),o=Math.max(Math.ceil(t[0]),1),i=Math.max(Math.ceil(t[1]),1),l=[o-1,i-1,1,1],r=performance.now(),a="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope;let n,s;a?(n=new OffscreenCanvas(1,1),s=new OffscreenCanvas(o,i)):(n=document.createElement("canvas"),n.width=1,n.height=1,s=document.createElement("canvas"),s.width=o,s.height=i);const d=n.getContext("2d"),c=s.getContext("2d");c&&(c.fillRect.apply(c,l),d.drawImage(s,o-1,i-1,1,1,0,0,1,1));const u=d&&0!==d.getImageData(0,0,1,1).data[3],g=parseInt(performance.now()-r);return[n,s].forEach(e=>{e.height=0,e.width=0}),a?(postMessage({width:o,height:i,testTime:g,isTestPass:u}),!u&&e.sizes.length&&setTimeout(()=>{Pt(e)},0)):u?e.onSuccess({width:o,height:i,testTime:g}):(e.onError({width:o,height:i,testTime:g}),e.sizes.length&&setTimeout(()=>{Pt(e)},0)),u}const qt={area:[16384,14188,11402,11180,10836,8192,4096,1],height:[8388607,65535,32767,16384,8192,4096,1],width:[4194303,65535,32767,16384,8192,4096,1]},Lt={max:null,min:1,sizes:[],step:1024,useWorker:!1,onError:Function.prototype,onSuccess:Function.prototype},Wt={};function Vt(e){const t=e.width===e.height,o=1===e.height,i=1===e.width,l=[];if(e.width&&e.height){const r=e.min||Lt.min,a=e.step||Lt.step;let n=Math.max(e.width,e.height);for(;n>=r;){const e=t||o?n:1,r=t||i?n:1;l.push([e,r]),n-=a}}else e.sizes.forEach(e=>{const r=t||o?e:1,a=t||i?e:1;l.push([r,a])});return l}function Nt(e){const t="undefined"!=typeof window,o=t&&"Promise"in window,i=t&&"HTMLCanvasElement"in window,l=t&&"OffscreenCanvas"in window,r=URL.createObjectURL(new Blob([])).slice(-36),a=performance.now(),{onError:n,onSuccess:s,...d}=e,c=()=>parseInt(performance.now()-a);let u=null;if(!i)return!1;if(e.useWorker&&l){const e=`\n            var canvasTest = ${Pt.toString()};\n            onmessage = function(e) {\n                canvasTest(e.data);\n            };\n        `,t=new Blob([e],{type:"application/javascript"}),o=URL.createObjectURL(t);u=new Worker(o),URL.revokeObjectURL(o),u.onmessage=function(e){const{width:t,height:o,testTime:i,isTestPass:l}=e.data,a={width:t,height:o,testTime:i,totalTime:c()};l?(Wt[r].onSuccess(a),delete Wt[r]):Wt[r].onError(a)}}return o?new Promise(t=>{const o={...e,onError(o){let{width:i,height:l,testTime:r}=o;const a={width:i,height:l,testTime:r,totalTime:c()};let s;if(0===e.sizes.length)s=!0;else{const[[t,o]]=e.sizes.slice(-1);s=i===t&&l===o}n(a),s&&t({...a,success:!1})},onSuccess(e){let{width:o,height:i,testTime:l}=e;const r={width:o,height:i,testTime:l,totalTime:c()};s(r),t({...r,success:!0})}};if(u){const{onError:e,onSuccess:t}=o;Wt[r]={onError:e,onSuccess:t},u.postMessage(d)}else Pt(o)}):u?(Wt[r]={onError:n,onSuccess:s},void u.postMessage(d)):Pt(e)}const zt={maxArea(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Vt({width:e.max,height:e.max,min:e.min,step:e.step,sizes:[...qt.area]});return Nt({...Lt,...e,sizes:t})},maxHeight(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Vt({width:1,height:e.max,min:e.min,step:e.step,sizes:[...qt.height]});return Nt({...Lt,...e,sizes:t})},maxWidth(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Vt({width:e.max,height:1,min:e.min,step:e.step,sizes:[...qt.width]});return Nt({...Lt,...e,sizes:t})},test(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={...Lt,...e};return t.sizes=[...t.sizes],t.width&&t.height&&(t.sizes=[[t.width,t.height]]),Nt(t)}},Ut="2.1.6",Gt={selFilterBlurIsOn:!1,selFilterBlur:0,selFilterBrightIsOn:!1,selFilterBright:100,selFilterContIsOn:!1,selFilterCont:100,selFilterGrayIsOn:!1,selFilterGray:0,selFilterHueIsOn:!1,selFilterHue:0,selFilterInvertIsOn:!1,selFilterInvert:0,selFilterOpacIsOn:!1,selFilterOpac:100,selFilterSaturIsOn:!1,selFilterSatur:1,selFilterSepiaIsOn:!1,selFilterSepia:0,selBgColorIsOn:!0,selOverlayOnImage:!1,selFilterBgColor:"#70FF7EFF",selBorderColorIsOn:!1,selFilterBorderColor:"#000000FF",selCTitleColorIsOn:!1,selFilterCTitleColor:"#000000FF",selCTextColorIsOn:!1,selFilterCTextColor:"#000000FF",selATitleColorIsOn:!1,selFilterATitleColor:"#000000FF",selATextColorIsOn:!1,selFilterATextColor:"#000000FF",selScoreTextColorIsOn:!1,selFilterSTextColor:"#000000FF",reqFilterBlurIsOn:!1,reqFilterBlur:0,reqFilterBrightIsOn:!1,reqFilterBright:100,reqFilterContIsOn:!1,reqFilterCont:100,reqFilterGrayIsOn:!1,reqFilterGray:0,reqFilterHueIsOn:!1,reqFilterHue:0,reqFilterInvertIsOn:!1,reqFilterInvert:0,reqFilterOpacIsOn:!0,reqFilterOpac:50,reqFilterSaturIsOn:!1,reqFilterSatur:1,reqFilterSepiaIsOn:!1,reqFilterSepia:0,reqBgColorIsOn:!1,reqOverlayOnImage:!1,reqFilterBgColor:"#FFFFFFFF",reqBorderColorIsOn:!1,reqFilterBorderColor:"#000000FF",reqCTitleColorIsOn:!1,reqFilterCTitleColor:"#000000FF",reqCTextColorIsOn:!1,reqFilterCTextColor:"#000000FF",reqATitleColorIsOn:!1,reqFilterATitleColor:"#000000FF",reqATextColorIsOn:!1,reqFilterATextColor:"#000000FF",reqScoreTextColorIsOn:!1,reqFilterSTextColor:"#000000FF",reqFilterVisibleIsOn:!1,unselFilterBlurIsOn:!1,unselFilterBlur:0,unselFilterBrightIsOn:!1,unselFilterBright:100,unselFilterContIsOn:!1,unselFilterCont:100,unselFilterGrayIsOn:!1,unselFilterGray:0,unselFilterHueIsOn:!1,unselFilterHue:0,unselFilterInvertIsOn:!1,unselFilterInvert:0,unselFilterOpacIsOn:!1,unselFilterOpac:100,unselFilterSaturIsOn:!1,unselFilterSatur:1,unselFilterSepiaIsOn:!1,unselFilterSepia:0},Et={customRowTitle:!1,rowTitle:"Times New Roman",customRowText:!1,rowText:"Times New Roman",customObjectTitle:!1,objectTitle:"Times New Roman",customObjectText:!1,objectText:"Times New Roman",customAddonTitle:!1,addonTitle:"Times New Roman",customAddonText:!1,addonText:"Times New Roman",customScoreText:!1,scoreText:"Times New Roman",rowTitleTextSize:200,rowTextTextSize:100,objectTitleTextSize:200,objectTextTextSize:100,addonTitleTextSize:200,addonTextTextSize:100,scoreTextSize:75,rowTitleColor:"#000000",rowTextColor:"#000000",objectTitleColor:"#000000",objectTextColor:"#000000",addonTitleColor:"#000000",addonTextColor:"#000000",scoreTextColor:"#000000",rowTitleAlign:"center",rowTextAlign:"center",objectTitleAlign:"center",objectTextAlign:"center",addonTitleAlign:"center",addonTextAlign:"center",scoreTextAlign:"center"},Ht={objectImgBorderStyle:"solid",objectImgBorderWidth:2,objectImageWidth:100,objectImageMarginTop:0,objectImageMarginBottom:0,objectImgBorderRadiusTopLeft:0,objectImgBorderRadiusTopRight:0,objectImgBorderRadiusBottomRight:0,objectImgBorderRadiusBottomLeft:0,objectImgBorderRadiusIsPixels:!0,objectImgBorderIsOn:!1,objectImgOverflowIsOn:!1,objectImgBorderColor:"red",objectImgObjectFillStyle:"",objectImgObjectFillIsOn:!1,objectImageBoxWidth:50},_t={rowImgBorderStyle:"solid",rowImgBorderWidth:2,rowImageWidth:100,rowImageMarginTop:0,rowImageMarginBottom:0,rowImgBorderRadiusTopLeft:0,rowImgBorderRadiusTopRight:0,rowImgBorderRadiusBottomRight:0,rowImgBorderRadiusBottomLeft:0,rowImgBorderRadiusIsPixels:!0,rowImgBorderIsOn:!1,rowImgOverflowIsOn:!1,rowImgBorderColor:"red",rowImageBoxWidth:50},Jt={useAddonImage:!1,addonImgBorderStyle:"solid",addonImgBorderWidth:2,addonImageWidth:100,addonImageMarginTop:0,addonImageMarginBottom:0,addonImgBorderRadiusTopLeft:0,addonImgBorderRadiusTopRight:0,addonImgBorderRadiusBottomRight:0,addonImgBorderRadiusBottomLeft:0,addonImgBorderRadiusIsPixels:!0,addonImgBorderIsOn:!1,addonImgOverflowIsOn:!1,addonImgBorderColor:"red",addonImgObjectFillStyle:"",addonImgObjectFillIsOn:!1,addonImageBoxWidth:50},Yt={bgColorIsOn:!1,backgroundColor:"#FFFFFFFF",rowBgColorIsOn:!1,rowBgColor:"#FFFFFFFF",objectBgColorIsOn:!1,objectBgColor:"#FFFFFFFF",isBackgroundRepeat:!1,isBackgroundFitIn:!1,backgroundImage:"",isRowBackgroundRepeat:!1,isRowBackgroundFitIn:!1,rowBackgroundImage:"",isObjectBackgroundRepeat:!1,isObjectBackgroundFitIn:!1,objectBackgroundImage:""},Xt={objectHeight:!0,objectDesignIsAdvanced:!1,objectMargin:10,objectTextPadding:10,objectBorderStyle:"solid",objectBorderWidth:2,objectBorderIsOn:!1,objectDropShadowH:0,objectDropShadowV:0,objectDropShadowBlur:0,objectDropShadowSpread:0,objectDropShadowIsOn:!1,objectUseBoxShadowIsOn:!1,objectBorderRadiusTopLeft:0,objectBorderRadiusTopRight:0,objectBorderRadiusBottomRight:0,objectBorderRadiusBottomLeft:0,objectBorderRadiusIsPixels:!0,objectOverflowIsOn:!0,objectDropShadowColor:"grey",objectGradientIsOn:!1,objectGradient:"",objectGradientOnSelect:"",objectGradientOnReq:"",objectBorderColor:"red",objectBorderImage:"",objectBorderImageRepeat:"stretch",objectBorderImageWidth:5,objectBorderImageSliceTop:5,objectBorderImageSliceBottom:5,objectBorderImageSliceLeft:5,objectBorderImageSliceRight:5,removeSpaceAddonIsOn:!1,titlePaddingIsOn:!1},Zt={rowDesignIsAdvanced:!1,rowMargin:10,rowBodyMarginSides:1,rowBodyMarginTop:25,rowBodyMarginBottom:25,rowTextPaddingY:5,rowTextPaddingX:10,rowOverflowIsOn:!0,rowDropShadowH:0,rowDropShadowV:0,rowDropShadowBlur:0,rowDropShadowSpread:0,rowDropShadowColor:"grey",rowButtonXPadding:0,rowButtonYPadding:0,rowDropShadowIsOn:!1,rowUseBoxShadowIsOn:!1,rowBorderRadiusTopLeft:0,rowBorderRadiusTopRight:0,rowBorderRadiusBottomRight:0,rowBorderRadiusBottomLeft:0,rowBorderRadiusIsPixels:!0,rowBorderStyle:"solid",rowBorderWidth:2,rowBorderIsOn:!1,rowBorderColor:"red",rowGradientIsOn:!1,rowGradient:"",rowBorderImage:"",rowBorderImageRepeat:"stretch",rowBorderImageWidth:5,rowBorderImageSliceTop:5,rowBorderImageSliceBottom:5,rowBorderImageSliceLeft:5,rowBorderImageSliceRight:5},Kt={useAddonDesign:!1,addonDesignIsAdvanced:!1,addonMargin:10,addonTextPadding:10,addonBorderStyle:"solid",addonBorderWidth:2,addonBorderIsOn:!1,addonDropShadowH:0,addonDropShadowV:0,addonDropShadowBlur:0,addonDropShadowSpread:0,addonDropShadowIsOn:!1,addonUseBoxShadowIsOn:!1,addonBorderRadiusTopLeft:0,addonBorderRadiusTopRight:0,addonBorderRadiusBottomRight:0,addonBorderRadiusBottomLeft:0,addonBorderRadiusIsPixels:!0,addonOverflowIsOn:!0,addonDropShadowColor:"grey",addonGradientIsOn:!1,addonGradient:"",addonGradientOnSelect:"",addonGradientOnReq:"",addonBorderColor:"red",addonBorderImage:"",addonBorderImageRepeat:"stretch",addonBorderImageWidth:5,addonBorderImageSliceTop:5,addonBorderImageSliceBottom:5,addonBorderImageSliceLeft:5,addonBorderImageSliceRight:5,useAddonBackgroundImage:!1,addonBackgroundImage:"",isAddonBackgroundFitIn:!1,isAddonBackgroundRepeat:!1,addonBgColorIsOn:!1,addonBgColor:"#FFFFFFFF",addonTitlePaddingIsOn:!1},Qt={customMultiTextFont:!1,multiChoiceCounterPosition:0,multiChoiceCounterSize:170,multiChoiceTextFont:"Times New Roman",multiChoiceTextSize:100},eo={barTextPadding:17,barTextMargin:0,customBarTextFont:!1,barTextFont:"Times New Roman",barPadding:0,barMargin:0,barTextSize:15,barTextColor:"#000000",barPointPos:"#FF0000FF",barPointNeg:"#FF0000FF",barIconColor:"#0000008A",barBackgroundColor:"#FFFFFFFF"},to={useBackpackDesign:!1,backpackBgColor:"#FFFFFF",isBackpackBgRepeat:!1,isBackpackBgFitIn:!1,backpackBgImage:"",backPackWidth:1200},app=e({version:Ut,isEditModeOnAll:!0,isPointerCursor:!1,importedChoicesIsOpen:!0,curVolume:100,isMute:!1,showMusicPlayer:!1,fadeTransitionColor:"#000000FF",fadeTransitionTime:.25,fadeTransitionIsOn:!1,hideBackpackBtn:0,btnBackpackIsOn:0,showAllAddons:0,tmpRequired:[],tmpScore:[],tmpAddon:[],rowIdLength:4,objectIdLength:4,words:[],groups:[],rowDesignGroups:[],objectDesignGroups:[],objectsPerRow:"col-6",globalRequirements:[],googleFonts:[],customFonts:[],compressImageAuto:!1,useToolbarBtn:!1,hideScoresUpdated:!1,hideChoiceDT:!1,hideImages:!1,preloadImages:!1,preloadExternalImages:!1,useVW:!1,addPrefix:!0,activated:[],rows:[],pointTypes:[],variables:[],mdObjects:[],printThis:!1,autoSaveIsOn:!1,autoSaveInterval:10,buildAutoSaveIsOn:!1,buildAutoSaveInterval:10,checkDeleteRow:!0,checkDeleteObject:!1,defaultRowTitle:"Row",defaultRowText:"This is a row, and inside of it, you can place choices. On both rows and choices Requirements can be placed, which will block a row from being viewed, or make the player unable to select a choice, depending on either Point-types or the Ids of other choices. Point-types can be made in Features then Manage Points. Hovering over buttons will explain what they do. The Design of the project can be changed in 'Modify Design' at the side navigation bar, and private styling for each row can be turned on in the rows Settings. Default text like this can be turned off in Features -> Manage Defaults.",defaultChoiceTitle:"Choice",defaultChoiceText:"This is a Choice, and inside of it, you can place images and text. Scores can be added to it, and have Point-types attached. Addons can be added underneath the image and text. In the Functions at the bottom of the choice, there is an array of different things that can be done. Default text like this can be turned off in Features then Manage Defaults.",defaultBeforePoint:"Cost:",defaultAfterPoint:"points",defaultBeforeReq:"Required:",defaultAfterReq:"choice",defaultAddonTitle:"Addon",defaultAddonText:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.",enableShortcut:!0,orderOrReqText:"0",defaultOrReq:"of",orderSelReqText:"0",defaultSelReq:"choice from",backpack:[{index:0,id:"default_backpack_row",isBackpack:!0,title:"Result",debugTitle:"",titleText:"",objectWidth:"col-md-3",image:"",template:1,isButtonRow:!1,buttonType:!0,buttonId:"",buttonText:"Click",buttonRandom:!1,buttonRandomNumber:1,isResultRow:!0,resultGroupId:"",isInfoRow:!0,defaultAspectWidth:1,defaultAspectHeight:1,allowedChoices:0,currentChoices:0,requireds:[],isEditModeOn:!1,isRequirementOpen:!1,objects:[],rowDesignGroups:[]}],styling:{...Gt,...Et,...Ht,..._t,...Jt,...Yt,...Xt,...Zt,...Kt,...Qt,...eo,...to}}),oo={version:Ut,isEditModeOnAll:!0,isPointerCursor:!1,importedChoicesIsOpen:!0,curVolume:100,isMute:!1,showMusicPlayer:!1,fadeTransitionColor:"#000000FF",fadeTransitionTime:.25,fadeTransitionIsOn:!1,hideBackpackBtn:0,btnBackpackIsOn:0,showAllAddons:0,tmpRequired:[],tmpScore:[],tmpAddon:[],rowIdLength:4,objectIdLength:4,words:[],groups:[],rowDesignGroups:[],objectDesignGroups:[],objectsPerRow:"col-6",globalRequirements:[],googleFonts:[],customFonts:[],compressImageAuto:!1,useToolbarBtn:!1,hideScoresUpdated:!1,hideChoiceDT:!1,hideImages:!1,preloadImages:!1,preloadExternalImages:!1,useVW:!1,addPrefix:!0,activated:[],rows:[],pointTypes:[],variables:[],mdObjects:[],printThis:!1,autoSaveIsOn:!1,autoSaveInterval:10,buildAutoSaveIsOn:!1,buildAutoSaveInterval:10,checkDeleteRow:!0,checkDeleteObject:!1,defaultRowTitle:"Row",defaultRowText:"This is a row, and inside of it, you can place choices. On both rows and choices Requirements can be placed, which will block a row from being viewed, or make the player unable to select a choice, depending on either Point-types or the Ids of other choices. Point-types can be made in Features then Manage Points. Hovering over buttons will explain what they do. The Design of the project can be changed in 'Modify Design' at the side navigation bar, and private styling for each row can be turned on in the rows Settings. Default text like this can be turned off in Features -> Manage Defaults.",defaultChoiceTitle:"Choice",defaultChoiceText:"This is a Choice, and inside of it, you can place images and text. Scores can be added to it, and have Point-types attached. Addons can be added underneath the image and text. In the Functions at the bottom of the choice, there is an array of different things that can be done. Default text like this can be turned off in Features then Manage Defaults.",defaultBeforePoint:"Cost:",defaultAfterPoint:"points",defaultBeforeReq:"Required:",defaultAfterReq:"choice",defaultAddonTitle:"Addon",defaultAddonText:"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.",enableShortcut:!0,orderOrReqText:"0",defaultOrReq:"of",orderSelReqText:"0",defaultSelReq:"choice from",backpack:[{index:0,id:"default_backpack_row",isBackpack:!0,title:"Result",debugTitle:"",titleText:"",objectWidth:"col-md-3",image:"",template:1,isButtonRow:!1,buttonType:!0,buttonId:"",buttonText:"Click",buttonRandom:!1,buttonRandomNumber:1,isResultRow:!0,resultGroupId:"",isInfoRow:!0,defaultAspectWidth:1,defaultAspectHeight:1,allowedChoices:0,currentChoices:0,requireds:[],isEditModeOn:!1,isRequirementOpen:!1,objects:[],rowDesignGroups:[]}],styling:{...Gt,...Et,...Ht,..._t,...Jt,...Yt,...Xt,...Zt,...Kt,...Qt,...eo,...to}},io=[{text:"Row",value:""},{text:"1 per row",value:"col-12"},{text:"11/12",value:"col-sm-11"},{text:"10/12",value:"col-sm-10"},{text:"9/12",value:"col-sm-9"},{text:"8/12",value:"col-sm-8"},{text:"7/12",value:"col-sm-7"},{text:"2 per row",value:"col-sm-6"},{text:"5/12",value:"col-sm-5"},{text:"3 per Row",value:"col-md-4"},{text:"4 per Row",value:"col-md-3"},{text:"5 per Row",value:"w-20"},{text:"6 per Row",value:"col-lg-2"},{text:"7 per Row ",value:"w-14"},{text:"8 per Row ",value:"w-12"},{text:"9 per Row ",value:"w-11"},{text:"10 per Row",value:"w-10"},{text:"11 per Row ",value:"w-9"},{text:"12 per Row",value:"col-xl-1"}],lo=e(new x),ro=e(new x),ao=e(["Times New Roman","Arial","Roboto","Courier New","Courier","Verdana","Georgia","Comic Sans MS","Candara","Arial Black","Impact","Helvetica","Calibri","Cambria","Trebuchet MS","Tahoma"]),no=e(new x),so=e(new x);so.set(app.backpack[0].id,app.backpack[0]);const co=e(new x),uo=e(new x),go=e(new x),vo=e(new x),ho=e(new x),po=e(new x),mo=e(new x),fo=e(new $),bo=e([]),wo=e({value:"appMain"}),Io=e({value:"light"}),xo={ALLOWED_TAGS:["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","main","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr","font","iframe","img"],ADD_ATTR:["href","target","style"]},$o=k(null),To=e({isBgmInit:!1,bgmIsPlaying:!1,bgmPlayInterval:0,bgmTitleInterval:0,bgmFadeInterval:0,bgmFadeTimer:0,bgmTitle:"No Audio Title",curBgmTime:0,curBgmLength:0,isSeeking:!1,lastFadeTime:0,isFadingOut:!1,bgmObjectId:""}),yo=e({currentDialog:"none"}),Co=e({labelText:"",timeoutMs:4e3,isOpen:!1}),Bo=e({allowDeselect:!1,isSingleFile:!1}),So=e({stored:!1,name:"Auto Save",time:"",app:""}),ko=e(Array.from({length:99},(e,t)=>({stored:!1,name:`Slot ${t+1}`,time:"",app:""}))),Oo=e({stored:!1,name:"Auto Save",time:"",app:""}),Fo=e(Array.from({length:99},(e,t)=>({stored:!1,name:`Slot ${t+1}`,time:"",app:""}))),Ro=e(Array.from({length:99},(e,t)=>({stored:!1,name:`Slot ${t+1}`,time:"",app:""})));e({backgroundColor:"",backgroundImage:"",barBgColor:""});const Ao=S(window.innerWidth,e=>{const t=()=>e(window.innerWidth);return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}),jo=S(app,e=>{o(()=>e(app))});let Mo=T(jo,e=>e.rows.map(({id:e})=>e)),Do=T(jo,e=>e.rows.flatMap(e=>e.objects).map(({id:e})=>e)),Po=T(jo,e=>e.backpack.map(({id:e})=>e)),qo=T(jo,e=>e.backpack.flatMap(e=>e.objects).map(({id:e})=>e)),Lo=T(jo,e=>e.groups.map(({id:e})=>e)),Wo=T(jo,e=>e.pointTypes.map(({id:e})=>e)),Vo=T(jo,e=>e.variables.map(({id:e})=>e)),No=T(jo,e=>e.words.map(({id:e})=>e)),zo=T(jo,e=>e.globalRequirements?.map(({id:e})=>e)),Uo=null;function Go(){return new Promise((e,t)=>{const o=indexedDB.open("cyoaPlusDB");o.onupgradeneeded=e=>{const t=e.target.result;t.objectStoreNames.contains("cyoaStore")||t.createObjectStore("cyoaStore"),t.objectStoreNames.contains("buildStore")||t.createObjectStore("buildStore")},o.onsuccess=t=>{const o=t.target.result;e(o)},o.onerror=t})}function Eo(){return new Promise((e,t)=>{if(Uo)return e(Uo);const o=indexedDB.open("cyoaDB");let i=!1,l=[],r=[],a=[];o.onupgradeneeded=e=>{const t=e.target.result;t.objectStoreNames.contains("buildStore")||t.createObjectStore("buildStore",{keyPath:"title"}),i=!0},o.onsuccess=o=>{const n=o.target.result;if(1===n.version)if(i)Go().then(t=>{Uo=t,e(Uo)}).catch(t).finally(()=>{n.close()});else if(n.objectStoreNames.contains("buildStore")){const o=n.transaction(["buildStore"],"readonly").objectStore("buildStore").getAll();o.onsuccess=()=>{const i=o.result;for(let e=0;e<i.length;e++){const t=o.result[e];Ro[e].stored=!0,Ro[e].name=t.title,Ro[e].time="Unknown",Ro[e].app=Array.isArray(t.value)?t.value.join(","):t.value}Go().then(t=>{Uo=t,e(Uo)}).catch(t).finally(()=>{n.close()})},o.onerror=o=>{console.error(o),Go().then(t=>{Uo=t,e(Uo)}).catch(t).finally(()=>{n.close()})}}else Go().then(t=>{Uo=t,e(Uo)}).catch(t).finally(()=>{n.close()});else{const o=[new Promise((e,t)=>{if(n.objectStoreNames.contains("cyoaStore")){const o=n.transaction("cyoaStore","readonly").objectStore("cyoaStore").openCursor();o.onsuccess=t=>{const o=t.target.result;o?(l.push({key:o.key,value:o.value}),o.continue()):e()},o.onerror=t}else e()}),new Promise((e,t)=>{if(n.objectStoreNames.contains("buildStore")){const o=n.transaction("buildStore","readonly").objectStore("buildStore").openCursor();o.onsuccess=t=>{const o=t.target.result;o?(r.push({key:o.key,value:o.value}),o.continue()):e()},o.onerror=t}else e()})];Promise.all(o).then(()=>(n.close(),new Promise((e,t)=>{const o=indexedDB.deleteDatabase("cyoaDB");o.onsuccess=()=>{const o=indexedDB.open("cyoaDB",1);o.onupgradeneeded=e=>{e.target.result.createObjectStore("buildStore",{keyPath:"title"});const t=e.target.transaction;if(t){const e=t.objectStore("buildStore");let o=0;for(let t=0;t<r.length;t++){const i=r[t];void 0!==i.value.title?(e.put(i.value),Ro[o].stored=!0,Ro[o].name=i.title,Ro[o].time="Unknown",Ro[o].app=Array.isArray(i.value)?i.value.join(","):i.value,o+=1):a.push(i)}}},o.onsuccess=t=>{t.target.result.close(),e()},o.onerror=e=>{console.error(e,"L872"),t(e)}},o.onerror=e=>{console.error(e,"L877"),t(e)}}))).catch(e=>{console.error(e),n.close()}).finally(()=>{const o=indexedDB.open("cyoaPlusDB");o.onupgradeneeded=e=>{const t=e.target.result;!t.objectStoreNames.contains("cyoaStore")&&l.length>0&&t.createObjectStore("cyoaStore"),t.objectStoreNames.contains("buildStore")||t.createObjectStore("buildStore");const o=e.target.transaction;if(o){if(l.length>0){const e=o.objectStore("cyoaStore");for(let t=0;t<l.length;t++){const o=l[t];e.put(o.value,o.key)}}if(a.length>0){const e=o.objectStore("buildStore");for(let t=0;t<a.length;t++){const o=a[t];e.put(o.value,o.key)}}}},o.onsuccess=t=>{const o=t.target.result;Uo=o,e(Uo)},o.onerror=e=>{t(e)}})}},o.onerror=e=>{t(e)}})}let Ho=null,_o=null;function Jo(e,t){return new Promise((o,i)=>{const l=setTimeout(()=>o(),e);t&&t.addEventListener("abort",()=>{clearTimeout(l),i(new DOMException("Aborted","AbortError"))})})}async function Yo(){const e=new AbortController;Ho=e;const t=`${location.pathname.replace(/\/index\.html$/,"/")}autoSave`;for(;app.autoSaveIsOn;){try{await Jo(1e3*app.autoSaveInterval*60,e.signal)}catch(o){break}if(!app.autoSaveIsOn)break;const i=(await Eo()).transaction("cyoaStore","readwrite").objectStore("cyoaStore"),l=navigator.language,r=new Date,a=new Intl.DateTimeFormat(l,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(r);app.activated=ei().split(",");const n={stored:!0,name:"Auto Save",time:a,app:JSON.parse(JSON.stringify(app))};try{await new Promise((e,o)=>{const l=i.put(n,t);l.onsuccess=()=>e(),l.onerror=()=>o(l.error)}),So.stored=!0,So.time=a,So.app=n.app,Co.labelText="Auto-save completed successfully.",Co.isOpen=!0}catch(o){console.error(o)}}}async function Xo(){const e=new AbortController;_o=e;const t=`${location.pathname.replace(/\/index\.html$/,"/")}autoSave`;for(;app.buildAutoSaveIsOn;){try{await Jo(1e3*app.buildAutoSaveInterval*60,e.signal)}catch(o){break}if(!app.buildAutoSaveIsOn)break;const i=(await Eo()).transaction("buildStore","readwrite").objectStore("buildStore"),l=navigator.language,r=new Date,a=new Intl.DateTimeFormat(l,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(r),n={stored:!0,name:"Auto Save",time:a,app:ei()};try{await new Promise((e,o)=>{const l=i.put(n,t);l.onsuccess=()=>e(),l.onerror=()=>o(l.error)}),Oo.stored=!0,Oo.time=a,Oo.app=n.app,Co.labelText="Auto-save completed successfully.",Co.isOpen=!0}catch(o){console.error(o)}}}async function Zo(e,t,o,i,l){const r=(await Eo()).transaction(i,"readwrite").objectStore(i);try{await new Promise((o,i)=>{const l=r.put(e,t);l.onsuccess=()=>o(),l.onerror=()=>i(l.error)}),l?(Fo[o].stored=!0,Fo[o].time=e.time,Fo[o].name=e.name,Fo[o].app=e.app):(ko[o].stored=!0,ko[o].time=e.time,ko[o].name=e.name,ko[o].app=e.app)}catch(a){console.error(a)}}async function Ko(e,t,o,i){const l=(await Eo()).transaction(o,"readwrite").objectStore(o);try{await new Promise((t,o)=>{const i=l.delete(e);i.onsuccess=()=>t(),i.onerror=()=>o(i.error)}),i?(Fo[t].stored=!1,Fo[t].name=`Slot ${t+1}`,Fo[t].time="",Fo[t].app=""):(ko[t].stored=!1,ko[t].name=`Slot ${t+1}`,ko[t].time="",ko[t].app="")}catch(r){console.error(r)}}async function Qo(){const e=await async function(){return new Promise((e,t)=>{const o=indexedDB.open("ICCPlus",1);o.onupgradeneeded=t=>{t.target.result.close(),indexedDB.deleteDatabase("ICCPlus"),e(null)},o.onsuccess=o=>{const i=o.target.result;i.objectStoreNames.contains("autoSave")||(i.close(),indexedDB.deleteDatabase("ICCPlus"),e(null));const l=i.transaction(["autoSave"],"readonly").objectStore("autoSave").get("1");l.onsuccess=()=>{const t=void 0!==l.result?l.result:null;i.close();const o=indexedDB.deleteDatabase("ICCPlus");o.onsuccess=()=>{e(t)},o.onerror=()=>{e(t)}},l.onerror=e=>{i.close(),indexedDB.deleteDatabase("ICCPlus"),t(e)}},o.onerror=e=>{t(e)}})}();e&&(So.stored=!0,So.time="Unknown",So.app=JSON.stringify(e));const t=(await Eo()).transaction("cyoaStore","readonly").objectStore("cyoaStore"),o=location.pathname.replace(/\/index\.html$/,"/");await new Promise((e,i)=>{const l=t.openCursor();l.onsuccess=t=>{const i=t.target.result;if(!i)return void e();const l=i.key,r=i.value;if("string"==typeof l&&l.startsWith(o)){const e=l.slice(o.length);if("autoSave"===e)So.stored=!0,So.time=r.time,So.app=r.app;else{const t=e.match(/^slot-(\d+)$/),o=Number(t?.[1]);ko[o].stored=!0,ko[o].name=void 0!==r.name?r.name:`Slot ${o+1}`,ko[o].time=r.time,ko[o].app=r.app}}i.continue()},l.onerror=i})}function ei(){let e=[];return Array.from(lo.entries()).forEach(([t,o])=>{let i=co.get(t);if(void 0!==i){const l=i.choice;let r=t;0===o.multiple?(l.isActivateRandom&&l.activatedRandom&&(r+=`/RND#${l.activatedRandom.join("/AND#").replace(/\/ON#/g,"/RON#")}`),l.textfieldIsOn&&l.customTextfieldIsOn&&void 0!==l.wordChangeSelect&&(r+=`/WORD#${l.wordChangeSelect.replace(/,/g,"/CHAR#")}`),l.isImageUpload&&l.image!==l.defaultImage&&(r+=`/IMG#${l.image.replace(/,/g,"/CHAR#")}`),e.push(r)):(r+=`/ON#${o.multiple}`,l.isActivateRandom&&l.activatedRandomMul&&(r+=`/RND#${l.activatedRandomMul.flat(2).join("/AND#").replace(/\/ON#/g,"/RON#")}`),e.push(r))}}),e.join(",")}function ti(){const e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}_${String(e.getHours()).padStart(2,"0")}-${String(e.getMinutes()).padStart(2,"0")}-${String(e.getSeconds()).padStart(2,"0")}`}function oi(e){let t=no.get(e);return void 0!==t?`${t.id} | ${t.name}`:""}function ii(e){let t=co.get(e);return void 0!==t?`${t.choice.id} | ${t.choice.title}`:""}function li(e){let t=uo.get(e);return void 0!==t?`${t.id} | ${t.name}`:""}function ri(e){let t=so.get(e);return void 0!==t?`${t.id} | ${t.title}`:""}function ai(e){let t=go.get(e);return void 0!==t?`${t.id} | ${t.name}`:""}function ni(e){if(e.customTextIsOn)return void 0!==e.customText?e.customText:"";switch(e.type){case"id":{let t=e.reqId.split("/ON#"),o=co.get(t[0]);if(void 0!==o){let i=o.choice;return`${e.beforeText} ${t.length>1?`${t[1]} `:""} ${i.title} ${e.afterText}`}break}case"point":{let t=no.get(e.reqId);if(void 0!==t)return`${e.beforeText} ${e.reqPoints} ${t.name} ${e.afterText}`;break}case"or":{let t=[];for(let o=0;o<e.orRequired.length;o++){let i=e.orRequired[o].req;if(void 0!==i){let e=i.split("/ON#"),o=co.get(e[0]),l="";if(void 0!==o){let i=o.choice;l=e.length>1?`${e[1]} `:"",t.push(`${l}${i.title}`)}}}return"1"===app.orderOrReqText?`${e.beforeText} ${t.join(", ")} ${void 0!==e.orNum?`${app.defaultOrReq} ${e.orNum}`:`${app.defaultOrReq} 1`} ${e.afterText}`:`${e.beforeText} ${void 0!==e.orNum?`${e.orNum} ${app.defaultOrReq}`:`1 ${app.defaultOrReq}`} ${t.join(", ")} ${e.afterText}`}case"selFromGroups":if(void 0!==e.selGroups){let t=[];for(let o=0;o<e.selGroups.length;o++){let i=e.selGroups[o],l=uo.get(i);void 0!==l&&t.push(l.name)}return"1"===app.orderSelReqText?`${e.beforeText} ${t.join(", ")} ${app.defaultOrReq} ${e.selNum} ${e.afterText}`:`${e.beforeText} ${e.selNum} ${app.defaultOrReq} ${t.join(", ")} ${e.afterText}`}case"selFromRows":if(void 0!==e.selRows){let t=[];for(let o=0;o<e.selRows.length;o++){let i=e.selRows[o],l=so.get(i);void 0!==l&&t.push(l.title)}return"1"===app.orderSelReqText?`${e.beforeText} ${t.join(", ")} ${app.defaultOrReq} ${e.selNum} ${e.afterText}`:`${e.beforeText} ${e.selNum} ${app.defaultOrReq} ${t.join(", ")} ${e.afterText}`}case"selFromWhole":return"1"===app.orderSelReqText?`${e.beforeText} ${app.defaultOrReq} ${e.selNum} ${e.afterText}`:`${e.beforeText} ${e.selNum} ${app.defaultOrReq} ${e.afterText}`}return`${e.beforeText} ${e.afterText}`}function si(e){return so.has(e)||co.has(e)||vo.has(e)||no.has(e)||po.has(e)||mo.has(e)||uo.has(e)||ho.has(e)}function di(e,t){let o=app.addPrefix?"row-":"",i="abcdefghijklmnopqrstuvwxyz0123456789";for(var l=0;l<t;l++)o+=i.charAt(Math.floor(36*Math.random()));return si(o)?e>2?di(0,++t):di(++e,t):o}function ci(e,t){let o=app.addPrefix?"word-":"",i="abcdefghijklmnopqrstuvwxyz0123456789";for(var l=0;l<t;l++)o+=i.charAt(Math.floor(36*Math.random()));return si(o)?e>2?ci(0,++t):ci(++e,t):o}function ui(e,t){let o=app.addPrefix?"choice-":"",i="abcdefghijklmnopqrstuvwxyz0123456789";for(var l=0;l<t;l++)o+=i.charAt(Math.floor(36*Math.random()));return si(o)?e>2?ui(0,++t):ui(++e,t):o}function gi(e,t,o){let i=app.addPrefix?"design-":"",l="abcdefghijklmnopqrstuvwxyz0123456789";for(var r=0;r<t;r++)i+=l.charAt(Math.floor(36*Math.random()));return si(i)?e>2?gi(0,++t):gi(++e,t):i}function vi(e,t){let o=app.addPrefix?"group-":"",i="abcdefghijklmnopqrstuvwxyz0123456789";for(var l=0;l<t;l++)o+=i.charAt(Math.floor(36*Math.random()));return si(o)?e>2?vi(0,++t):vi(++e,t):o}function hi(e,t){let o=app.addPrefix?"point-":"",i="abcdefghijklmnopqrstuvwxyz0123456789";for(var l=0;l<t;l++)o+=i.charAt(Math.floor(36*Math.random()));return si(o)?e>2?hi(0,++t):hi(++e,t):o}function pi(e,t){let o=app.addPrefix?"variable-":"",i="abcdefghijklmnopqrstuvwxyz0123456789";for(var l=0;l<t;l++)o+=i.charAt(Math.floor(36*Math.random()));return si(o)?e>2?pi(0,++t):pi(++e,t):o}function mi(e,t){let o="s-",i="abcdefghijklmnopqrstuvwxyz0123456789";for(var l=0;l<t;l++)o+=i.charAt(Math.floor(36*Math.random()));return fo.has(o)?e>2?mi(0,++t):mi(++e,t):o}function fi(e){switch(e){case"col-sm-6":case"col-sm-5":return 2;case"col-md-4":return 3;case"col-md-3":return 4;case"w-20":return 5;case"col-lg-2":return 6;case"w-14":return 7;case"w-12":return 8;case"w-11":return 9;case"w-10":return 10;case"w-9":return 11;case"col-xl-1":return 12;default:return 1}}let bi,wi=[];function Ii(){return function(){if(wi.length!==app.words.length)return!0;for(let e=0;e<wi.length;e++){if(wi[e].id!==app.words[e].id)return!0;if(wi[e].replaceText!==app.words[e].replaceText)return!0}return!1}()&&(wi=JSON.parse(JSON.stringify(app.words)),bi=new RegExp(app.words.map(e=>e.id).sort((e,t)=>t.length-e.length).map(e=>e.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")).join("|"),"g")),bi}function xi(e){let t=e;return app.words&&(t=t.replace(Ii(),e=>{const t=no.get(e);if(void 0!==t){return(t.startingSum%1==0?t.startingSum:parseFloat(t.startingSum.toFixed(void 0!==t.decimalPlaces?t.decimalPlaces:2))).toString()}{const t=co.get(e);if(void 0!==t){const e=t.choice;if(e.isSelectableMultiple&&e.isMultipleUseVariable)return e.multipleUseVariable.toString()}else{const t=vo.get(e);if(void 0!==t)return t.replaceText}}return e})),t}function $i(e,t,o){if(void 0!==o){if(void 0!==o.styling&&o.isPrivateStyling&&o[e])return o.styling;if(void 0!==app.objectDesignGroups&&o.objectDesignGroups)for(let t=0;t<o.objectDesignGroups.length;t++){let i=mo.get(o.objectDesignGroups[t]);if(void 0!==i&&i[e]){let e=i.activatedId,t=go.get(e);if(""===e||Ci(i.activatedId))return i.styling;if(void 0!==app.globalRequirements&&void 0!==t&&Si(t.requireds))return i.styling}}}if(void 0!==t){if(void 0!==t.styling&&t.isPrivateStyling&&t[e])return t.styling;if(void 0!==app.rowDesignGroups&&t.rowDesignGroups)for(let o=0;o<t.rowDesignGroups.length;o++){let i=po.get(t.rowDesignGroups[o]);if(void 0!==i&&i[e]){let e=i.activatedId,t=go.get(e);if(""===e||Ci(i.activatedId))return i.styling;if(void 0!==app.globalRequirements&&void 0!==t&&Si(t.requireds))return i.styling}}}return app.styling}function Ti(e,t){if(t.has(e)){return Ti(`${e}_dup`,t)}return e}function yi(e){if(e.isNotShownPointBar){if(void 0!==e.activatedId&&""!==e.activatedId){let t=go.get(e.activatedId),o=ho.get(e.activatedId);return void 0!==t?Si(t.requireds):void 0!==o?o.isTrue:Ci(e.activatedId)}return!1}return!0}function Ci(e,t=lo){const[o,i="0"]=e.split("/ON#"),l=parseInt(i);if(l>0){return(t.get(o)?.multiple||0)>=l}return t.has(o)}function Bi(e,t=lo){if(e.required)switch(e.type){case"id":return Ci(e.reqId,t);case"points":const o=no.get(e.reqId);if(void 0!==o){if(void 0===e.operator)return o.startingSum>e.reqPoints;switch(e.operator){case"1":return o.startingSum>e.reqPoints;case"2":return o.startingSum>=e.reqPoints;case"3":return o.startingSum==e.reqPoints;case"4":return o.startingSum<=e.reqPoints;case"5":return o.startingSum<e.reqPoints}}return!1;case"or":let i=void 0===e.orNum?1:e.orNum,l=0;for(let g=0;g<e.orRequired.length;g++){let o=e.orRequired[g].req;void 0!==o&&Ci(o,t)&&l++}return l>=i;case"pointCompare":const r=no.get(e.reqId),a=no.get(e.reqId1);if(void 0!==r&&void 0!==a){let t=a.startingSum;if(e.more)for(let o=0;o<e.more.length;o++){let i=0,l=e.more[o].id,r=e.more[o].points;if(void 0!==l){let e=no.get(l);void 0!==e&&(i=e.startingSum)}else void 0!==r&&(i=r);switch(e.more[o].operator){case"1":t+=i;break;case"2":t-=i;break;case"3":t*=i;break;case"4":t/=i;break;case"5":t%=i}}switch(e.operator){case"1":return r.startingSum>t;case"2":return r.startingSum>=t;case"3":return r.startingSum==t;case"4":return r.startingSum<=t;case"5":return r.startingSum<t;default:return!1}}return!1;case"selFromGroups":if(e.selGroups){let t=0,o=void 0===e.selFromOperators?"1":e.selFromOperators,i=void 0===e.selNum?1:e.selNum;for(let l=0;l<e.selGroups.length;l++){const o=uo.get(e.selGroups[l]);if(void 0!==o){const e=o.elements;for(let o=0;o<e.length;o++)lo.has(e[o])&&t++}}switch(o){case"1":return!(i>t||0===i&&t>0);case"2":return i===t;case"3":return!(i<t||0===i&&t>0);default:return!1}}case"selFromRows":if(e.selRows){let t=0,o=void 0===e.selFromOperators?"1":e.selFromOperators,i=void 0===e.selNum?1:e.selNum;for(let l=0;l<e.selRows.length;l++){const o=so.get(e.selRows[l]);void 0!==o&&(t+=o.currentChoices)}switch(o){case"1":return!(i>t||0===i&&t>0);case"2":return i===t;case"3":return!(i<t||0===i&&t>0);default:return!1}}case"selFromWhole":let n=0,s=void 0===e.selFromOperators?"1":e.selFromOperators,d=void 0===e.selNum?1:e.selNum;for(let e=0;e<app.rows.length;e++)n+=app.rows[e].currentChoices;switch(s){case"1":return!(d>n||0===d&&n>0);case"2":return d===n;case"3":return!(d<n||0===d&&n>0);default:return!1}case"gid":const c=go.get(e.reqId);return void 0!==c&&void 0!==app.globalRequirements&&Si(c.requireds,t);case"word":const u=vo.get(e.reqId);if(void 0!==u){let t=0;for(let o=0;o<e.orRequired.length;o++){let i=e.orRequired[o].req;void 0!==i&&u.replaceText===i&&t++}return t>=1}return!1}else switch(e.type){case"id":return!Ci(e.reqId,t);case"or":let o=void 0===e.orNum?1:e.orNum,i=0;for(let r=0;r<e.orRequired.length;r++){let o=e.orRequired[r].req;(""===o||void 0!==o&&Ci(o,t))&&i++}return i<e.orRequired.length-o+1;case"gid":const l=go.get(e.reqId);return void 0!==l&&void 0!==app.globalRequirements&&!Si(l.requireds,t)}return!1}function Si(e,t=lo){let o=!0;if(void 0!==e)for(let i=0;i<e.length;i++){const l=e[i];let r=!0;if(void 0!==l.requireds)for(let e=0;e<l.requireds.length;e++)r=r&&Bi(l.requireds[e],t);r&&(o=o&&Bi(e[i],t))}return o}function ki(e,t,o,i){function l(){let l=0,r=0,a=0;if(o&&(i.loadVideoById(t),e.bgmNoLoop?i.setLoop(!1):(i.loadPlaylist(t),i.setLoop(!0))),e.bgmFadeIn&&void 0!==e.bgmFadeInSec&&e.bgmFadeInSec>0){const t=e.bgmFadeInSec/20;To.lastFadeTime=e.bgmFadeInSec,i.setVolume(0),i.playVideo(),0!==To.bgmFadeInterval&&(window.clearInterval(To.bgmFadeInterval),To.bgmFadeInterval=0),0!==To.bgmPlayInterval&&(window.clearInterval(To.bgmPlayInterval),To.bgmPlayInterval=0),To.isFadingOut&&(To.isFadingOut=!1),To.bgmFadeInterval=window.setInterval(()=>{1===i.getPlayerState()&&(l<app.curVolume?(l+=5,i.setVolume(l),To.lastFadeTime=To.lastFadeTime-t):(i.setVolume(app.curVolume),window.clearInterval(To.bgmFadeInterval),To.bgmFadeInterval=0,To.lastFadeTime=0))},t)}else To.isFadingOut&&(To.isFadingOut=!1,window.clearInterval(To.bgmFadeInterval),To.bgmFadeInterval=0),i.playVideo(),i.setVolume(app.curVolume);To.bgmObjectId=e.id,app.showMusicPlayer&&(0!==To.bgmTitleInterval&&(window.clearInterval(To.bgmTitleInterval),To.bgmTitleInterval=0),To.bgmTitleInterval=window.setInterval(()=>{if(void 0!==i.playerInfo.videoData){let e=i.playerInfo.videoData;e.video_id===t&&void 0!==e.title&&""!==e.title&&(To.bgmTitle=e.title,To.curBgmLength=i.getDuration(),window.clearInterval(To.bgmTitleInterval),To.bgmTitleInterval=0)}},1e3),0!==To.bgmPlayInterval&&(window.clearInterval(To.bgmPlayInterval),To.bgmPlayInterval=0),To.bgmPlayInterval=window.setInterval(()=>{if(void 0!==i.playerInfo.videoData&&!To.isSeeking&&1===i.getPlayerState()){const e=Math.floor(i.getCurrentTime());e!==To.curBgmTime?r!==e?To.curBgmTime=e:(a++,a>To.curBgmLength&&(a=1),To.curBgmTime=a):(r=e,a=e+1,To.curBgmTime=a)}},1e3))}if(To.isFadingOut){const e=To.lastFadeTime;0!==To.bgmFadeTimer&&(window.clearTimeout(To.bgmFadeTimer),To.bgmFadeTimer=0),To.bgmFadeTimer=window.setTimeout(()=>{l()},e)}else l()}function Oi(e,t){const o=app.curVolume/5;if(e.bgmFadeOut&&void 0!==e.bgmFadeOutSec&&e.bgmFadeOutSec>0&&o>0){const i=e.bgmFadeOutSec/o;let l=app.curVolume;To.lastFadeTime=e.bgmFadeOutSec,To.isFadingOut=!0,0!==To.bgmFadeInterval&&(window.clearInterval(To.bgmFadeInterval),To.bgmFadeInterval=0),To.bgmFadeInterval=window.setInterval(()=>{void 0!==t.setVolume&&(l>0?(l-=5,t.setVolume(l),To.lastFadeTime-=i):To.isFadingOut&&(t.pauseVideo(),t.setVolume(app.curVolume),window.clearInterval(To.bgmFadeInterval),To.bgmFadeInterval=0,To.lastFadeTime=0,To.isFadingOut=!1,0!==To.bgmTitleInterval&&(window.clearInterval(To.bgmTitleInterval),To.bgmTitleInterval=0),0!==To.bgmPlayInterval&&(window.clearInterval(To.bgmPlayInterval),To.bgmPlayInterval=0),To.bgmTitle="No Audio Title",To.curBgmTime=0,To.curBgmLength=0))},i)}else t.pauseVideo(),0!==To.bgmTitleInterval&&(window.clearInterval(To.bgmTitleInterval),To.bgmTitleInterval=0),0!==To.bgmPlayInterval&&(window.clearInterval(To.bgmPlayInterval),To.bgmPlayInterval=0),To.bgmTitle="No Audio Title",To.curBgmTime=0,To.curBgmLength=0}function Fi(e,t,o){const i=O($o);if(i&&void 0!==i.playerInfo.videoData){const o=To.bgmIsPlaying,l=i.playerInfo.videoData.video_id,r=i.getPlayerState();l===t?To.bgmObjectId===e.id?o?(2===r||i.stopVideo(),ki(e,t,!1,i)):Oi(e,i):o?(i.stopVideo(),ki(e,t,!1,i)):Oi(e,i):o&&ki(e,t,!0,i)}else o<10?window.setTimeout(()=>{Fi(e,t,++o)},200):console.log("Failed to play bgm")}async function Ri(e){const t=new((await new Promise(e=>{if(window.YT&&window.YT.Player)e(window.YT);else{const t=document.createElement("script");t.src="https://www.youtube.com/iframe_api",document.head.appendChild(t),window.onYouTubeIframeAPIReady=()=>e(window.YT)}})).Player)("bgm-player",{width:0,height:0,events:{onReady:()=>{$o.set(t),Fi(e,e.bgmId||"",0),app.isMute&&!t.isMuted()&&t.mute()}}})}function Ai(e,t,o=!1){if(void 0!==e){if(t){const t=["addonBorderRadiusTopLeft","addonBorderRadiusTopRight","addonBorderRadiusBottomLeft","addonBorderRadiusBottomRight","addonImgBorderRadiusTopLeft","addonImgBorderRadiusTopRight","addonImgBorderRadiusBottomLeft","addonImgBorderRadiusBottomRight","objectBorderRadiusTopLeft","objectBorderRadiusTopRight","objectBorderRadiusBottomLeft","objectBorderRadiusBottomRight","objectImgBorderRadiusTopLeft","objectImgBorderRadiusTopRight","objectImgBorderRadiusBottomLeft","objectImgBorderRadiusBottomRight","rowBorderRadiusTopLeft","rowBorderRadiusTopRight","rowBorderRadiusBottomLeft","rowBorderRadiusBottomRight","rowImgBorderRadiusTopLeft","rowImgBorderRadiusTopRight","rowImgBorderRadiusBottomLeft","rowImgBorderRadiusBottomRight"];for(let o=0;o<t.length;o++){const i=t[o];void 0!==e[i]&&(e[i]=10*e[i])}}const i=["selFilterBgColor","selFilterBorderColor","selFilterCTitleColor","selFilterCTextColor","selFilterATitleColor","selFilterATextColor","selFilterSTextColor","reqFilterBgColor","reqFilterBorderColor","reqFilterCTitleColor","reqFilterCTextColor","reqFilterATitleColor","reqFilterATextColor","reqFilterSTextColor","rowTitleColor","rowTextColor","objectTitleColor","objectTextColor","addonTitleColor","addonTextColor","scoreTextColor","objectImgBorderColor","rowImgBorderColor","addonImgBorderColor","backgroundColor","rowBgColor","objectBgColor","objectDropShadowColor","objectBorderColor","rowDropShadowColor","rowBorderColor","addonDropShadowColor","addonBorderColor","addonBgColor","barTextColor","barIconColor","barBackgroundColor","backpackBgColor","barPointNeg","barPointPos"];for(let t=0;t<i.length;t++){const o=i[t];"object"==typeof e[o]&&(e[o]=e[o].hexa)}o&&(void 0===e.customMultiTextFont&&(e.customMultiTextFont=!1),void 0===e.multiChoiceCounterPosition&&(e.multiChoiceCounterPosition=0),void 0===e.multiChoiceCounterSize&&(e.multiChoiceCounterSize=170),void 0===e.multiChoiceTextFont&&(e.multiChoiceTextFont="Times New Roman"),void 0===e.multiChoiceTextSize&&(e.multiChoiceTextSize=100))}}function ji(e,t,o){switch(t){case"1":return e-o;case"2":return e+o;case"3":return e*o;case"4":return e/o;default:return e}}function Mi(e){delete e.tmpDiscount,delete e.discountTextA,delete e.discountTextB,delete e.dupTextA,delete e.dupTextB,delete e.discountedFrom,delete e.discountIsOn,delete e.discountScore,delete e.discountScoreCal,delete e.notStackableDiscount}function Di(e,t){const o=no.get(t.id);if(void 0!==o&&void 0!==e.discountOperator&&void 0!==e.discountValue){let i=o.allowFloat?t.value:Math.floor(t.value),l=t.discountIsOn&&void 0!==t.discountScore?t.discountScore:t.value;l=o.allowFloat?l:Math.floor(l);let r=0,a=0,n=[],s=!1,d=0;if(e.stackableDiscount){if(t.notStackableDiscount){if(void 0!==t.tmpDiscount){for(let e=0;e<t.tmpDiscount.length;e++)t.tmpDiscount[e].isStackable&&(n=t.tmpDiscount[e].discountedFrom,i=t.tmpDiscount[e].discountedValue,d=e);t.tmpDiscount.splice(d,1)}}else if(void 0!==t.discountedFrom){let l=t.discountedFrom.indexOf(e.id);if(t.discountedFrom.splice(l,1),void 0!==t.discountedFrom&&t.discountedFrom.length>0){r=i;for(let e=0;e<t.discountedFrom.length;e++){const i=co.get(t.discountedFrom[e]);if(void 0!==i){const e=i.choice;void 0!==e.discountOperator&&void 0!==e.discountValue&&(r=ji(r,e.discountOperator,e.discountValue),r=o.allowFloat?r:Math.floor(r),a=r,e.discountLowLimitIsOn&&void 0!==e.discountLowLimit&&(r=Math.max(r,e.discountLowLimit)))}}if(e.discountShow){let o=void 0!==e.discountAfterText&&void 0!==t.discountTextA?t.discountTextA.indexOf(e.discountAfterText):-1,i=void 0!==e.discountBeforeText&&void 0!==t.discountTextB?t.discountTextB.indexOf(e.discountBeforeText):-1;e.discountTextDuplicated?(-1!==o&&void 0!==t.dupTextA&&void 0!==e.discountAfterText&&(t.dupTextA[e.discountAfterText]-=1,0===t.dupTextA[e.discountAfterText]&&(t.discountTextA?.splice(o,1),delete t.dupTextA[e.discountAfterText])),-1!==i&&void 0!==t.dupTextB&&void 0!==e.discountBeforeText&&(t.dupTextB[e.discountBeforeText]-=1,0===t.dupTextB[e.discountBeforeText]&&(t.discountTextB?.splice(o,1),delete t.dupTextB[e.discountBeforeText]))):(-1!==o&&void 0!==t.discountTextA&&(t.discountTextA.splice(o,1),t.discountAfterText=t.discountTextA.join("")),-1!==i&&void 0!==t.discountTextB&&(t.discountTextB.splice(i,1),t.discountBeforeText=t.discountTextB.join("")))}t.discountScore=r,t.discountScoreCal=a}else{if(void 0!==t.tmpDiscount)for(let e=0;e<t.tmpDiscount.length;e++)t.tmpDiscount[e].isStackable||r>t.tmpDiscount[e].discountedValue&&(n=t.tmpDiscount[e].discountedFrom,a=t.tmpDiscount[e].calcValue,r=t.tmpDiscount[e].discountedValue,d=e,s=!0);s&&void 0!==t.tmpDiscount?0===n.length?t.tmpDiscount.splice(d,1):(t.discountedFrom=n,t.tmpDiscount[d].showDiscount&&(t.discountBeforeText=t.tmpDiscount[d].beforeText,t.discountAfterText=t.tmpDiscount[d].afterText),t.tmpDiscount.splice(d,1),t.notStackableDiscount=!0):Mi(t)}}}else if(t.notStackableDiscount)if(void 0!==t.discountedFrom&&t.discountedFrom.length>0&&void 0!==t.tmpDiscount){if(-1!==t.discountedFrom.indexOf(e.id)){if(t.tmpDiscount.length>0){i=t.tmpDiscount[0].discountedValue,s=!0;for(let e=1;e<t.tmpDiscount.length;e++)i>t.tmpDiscount[e].discountedValue&&(i=t.tmpDiscount[e].discountedValue,d=e)}s?(t.discountScore=i,t.discountScoreCal=t.tmpDiscount[d].calcValue,t.discountedFrom=t.tmpDiscount[d].discountedFrom,t.notStackableDiscount=!t.tmpDiscount[d].isStackable,t.discountShow=t.tmpDiscount[d].showDiscount,t.tmpDiscount[d].isStackable&&t.tmpDiscount[d].showDiscount?(t.discountBeforeText=t.discountTextB?.join(""),t.discountAfterText=t.discountTextA?.join("")):t.tmpDiscount[d].showDiscount?(t.discountBeforeText=t.tmpDiscount[d].beforeText,t.discountAfterText=t.tmpDiscount[d].afterText):(t.discountBeforeText="",t.discountAfterText=""),t.tmpDiscount.splice(d,1)):Mi(t)}else for(let o=0;o<t.tmpDiscount.length;o++)if(-1!==t.tmpDiscount[o].discountedFrom.indexOf(e.id)){t.tmpDiscount.splice(o,1);break}}else Mi(t);else if(void 0!==t.tmpDiscount){if(t.tmpDiscount=t.tmpDiscount.filter(t=>-1!==t.discountedFrom.indexOf(e.id)),t.tmpDiscount.length>0){i=t.tmpDiscount[0].discountedValue,s=!0;for(let e=1;e<t.tmpDiscount.length;e++)i>t.tmpDiscount[e].discountedValue&&(i=t.tmpDiscount[e].discountedValue,d=e)}s?(t.discountScore=i,t.discountScoreCal=t.tmpDiscount[d].calcValue,t.discountedFrom=t.tmpDiscount[d].discountedFrom,t.notStackableDiscount=!t.tmpDiscount[d].isStackable,t.notStackableDiscount?t.tmpDiscount[d].showDiscount?(t.discountBeforeText=t.tmpDiscount[d].beforeText,t.discountAfterText=t.tmpDiscount[d].afterText):(t.discountBeforeText="",t.discountAfterText=""):(t.discountBeforeText=t.discountTextB?.join(""),t.discountAfterText=t.discountTextA?.join("")),t.tmpDiscount.splice(d,1)):Mi(t)}else Mi(t);let c=void 0!==t.discountScore?t.discountScore:t.value;c=o.allowFloat?c:Math.floor(c),c!==l?(t.tmpDisScore=l-c,t.isChangeDiscount=!0):delete t.isChangeDiscount}}function Pi(e,t){const o=no.get(t.id);if(void 0!==o&&void 0!==e.discountOperator&&void 0!==e.discountValue){let i,l=o.allowFloat?t.value:Math.floor(t.value),r=t.discountIsOn&&void 0!==t.discountScore?t.discountScore:l,a=0,n=0,s=[],d=!1,c=0;if(void 0===t.discountedFrom&&(t.discountedFrom=[]),e.stackableDiscount)if(t.notStackableDiscount){if(void 0!==t.tmpDiscount){for(let o=0;o<t.tmpDiscount.length;o++)t.tmpDiscount[o].isStackable&&(s=t.tmpDiscount[o].discountedFrom,s.push(e.id),l=t.tmpDiscount[o].discountedValue,d=!0,c=o);a=ji(l,e.discountOperator,e.discountValue),a=o.allowFloat?a:Math.floor(a),n=a,e.discountLowLimitIsOn&&void 0!==e.discountLowLimit&&(a=Math.max(a,e.discountLowLimit)),void 0!==t.discountScore&&t.discountScore>a?(t.tmpDisScore=t.discountScore-a,t.isChangeDiscount=!0,i={isStackable:!1,discountedFrom:t.discountedFrom,calcValue:void 0!==t.discountScoreCal?t.discountScoreCal:t.discountScore,discountedValue:t.discountScore,showDiscount:!1},t.discountShow&&(i.showDiscount=!0,i.beforeText=e.discountBeforeText,i.afterText=e.discountAfterText),t.discountScore=a,t.discountScoreCal=n,e.discountShow&&(t.discountShow=!0,qi(e,t)),void 0!==t.discountTextA&&(t.discountAfterText=t.discountTextA.join("")),void 0!==t.discountTextB&&(t.discountBeforeText=t.discountTextB.join("")),t.discountedFrom.push(...s),d&&t.tmpDiscount.splice(c,1),t.tmpDiscount.push(i),t.notStackableDiscount=!1):(t.isChangeDiscount=!1,s.push(e.id),e.discountShow&&qi(e,t),d?(t.tmpDiscount[c].discountedFrom=s,t.tmpDiscount[c].calcValue=n,t.tmpDiscount[c].discountedValue=a):(i={isStackable:e.stackableDiscount||!1,discountedFrom:s,calcValue:n,discountedValue:a,showDiscount:e.discountShow||!1},t.tmpDiscount.push(i)))}}else l=t.discountIsOn&&void 0!==t.discountScoreCal?t.discountScoreCal:t.value,l=o.allowFloat?l:Math.floor(l),r=t.discountIsOn&&void 0!==t.discountScore?t.discountScore:t.value,r=o.allowFloat?r:Math.floor(r),a=ji(l,e.discountOperator,e.discountValue),a=o.allowFloat?a:Math.floor(a),n=a,e.discountLowLimitIsOn&&void 0!==e.discountLowLimit&&(a=Math.max(a,e.discountLowLimit)),Array.isArray(t.discountedFrom)||(t.discountedFrom=[]),t.discountScore=a,t.discountScoreCal=n,t.discountedFrom.push(e.id),t.discountScore!==r?(t.tmpDisScore=r-t.discountScore,t.isChangeDiscount=!0):t.isChangeDiscount=!1,t.discountIsOn||(t.discountIsOn=!0),e.discountShow&&(t.discountShow=!0,qi(e,t)),void 0!==t.discountTextA&&(t.discountAfterText=t.discountTextA.join("")),void 0!==t.discountTextB&&(t.discountBeforeText=t.discountTextB.join(""));else void 0===t.tmpDiscount&&(t.tmpDiscount=[]),a=ji(l,e.discountOperator,e.discountValue),a=o.allowFloat?a:Math.floor(a),n=a,e.discountLowLimitIsOn&&void 0!==e.discountLowLimit&&(a=Math.max(a,e.discountLowLimit)),t.discountIsOn?void 0!==t.discountScore&&(t.discountScore>a?(i={isStackable:!t.notStackableDiscount,discountedFrom:t.discountedFrom,calcValue:void 0!==t.discountScoreCal?t.discountScoreCal:t.discountScore,discountedValue:t.discountScore,showDiscount:t.discountShow||!1},t.discountShow&&(i.showDiscount=!0,i.beforeText=t.discountBeforeText,i.afterText=t.discountAfterText),t.discountScore=a,t.discountScoreCal=n,t.discountShow=e.discountShow,t.discountBeforeText=e.discountBeforeText,t.discountAfterText=e.discountAfterText,t.discountedFrom=[e.id],t.notStackableDiscount=!0):(i={isStackable:e.stackableDiscount||!1,discountedFrom:[e.id],calcValue:n,discountedValue:a,showDiscount:e.discountShow||!1},e.discountShow&&(i.showDiscount=!0,i.beforeText=e.discountBeforeText,i.afterText=e.discountAfterText)),t.tmpDiscount.push(i)):(t.discountScore=a,t.discountScoreCal=n,e.discountShow&&(t.discountShow=e.discountShow,t.discountBeforeText=e.discountBeforeText,t.discountAfterText=e.discountAfterText),Array.isArray(t.discountedFrom)||(t.discountedFrom=[]),t.discountIsOn=!0,t.discountedFrom.push(e.id),t.notStackableDiscount=!0),void 0!==t.discountScore&&t.discountScore!==r?(t.tmpDisScore=r-t.discountScore,t.isChangeDiscount=!0):t.isChangeDiscount=!1}}function qi(e,t){void 0===t.discountTextA&&(t.discountTextA=[]),void 0===t.discountTextB&&(t.discountTextB=[]),void 0===t.dupTextA&&(t.dupTextA={}),void 0===t.dupTextB&&(t.dupTextB={}),e.discountTextDuplicated?(void 0!==e.discountAfterText&&(-1!==t.discountTextA.indexOf(e.discountAfterText)?t.dupTextA[e.discountAfterText]=(t.dupTextA[e.discountAfterText]||0)+1:(t.dupTextA[e.discountAfterText]=1,t.discountTextA.push(e.discountAfterText))),void 0!==e.discountBeforeText&&(-1!==t.discountTextB.indexOf(e.discountBeforeText)?t.dupTextB[e.discountBeforeText]=(t.dupTextB[e.discountBeforeText]||0)+1:(t.dupTextB[e.discountBeforeText]=1,t.discountTextB.push(e.discountBeforeText)))):(void 0!==e.discountAfterText&&t.discountTextA.push(e.discountAfterText),void 0!==e.discountBeforeText&&t.discountTextB.push(e.discountBeforeText))}function Li(e,t){let o=!0,i=new Map;for(let l=0;l<e.scores.length;l++){let r=e.scores[l],a=r.discountIsOn&&void 0!==r.discountScore?r.discountScore:r.value;if(r.multiplyByTimes&&(a*=Math.abs(e.multipleUseVariable)+1),Si(r.requireds)&&!r.isActive){let e=no.get(r.id);if(void 0!==e&&e.belowZeroNotAllowed){let l=i.get(r.id);void 0!==l?(o=o&&(t?l-a>=0:l+a>=0),i.set(r.id,l-r.value)):(o=o&&(t?e.startingSum-a>=0:e.startingSum+a>=0),i.set(r.id,e.startingSum-a))}}}return o}function Wi(){const e=new Set;function t(o){if(o.activateOtherChoice&&void 0!==o.activateThisChoice)if(o.activatedRandom){if(o.isSelectableMultiple){for(let l=0;l<o.multipleUseVariable;l++)if(void 0!==o.activatedRandomMul)for(var i=0;i<o.activatedRandomMul[i].length;i++){const r=o.activatedRandomMul[l][i].split("/ON#"),a=co.get(r[0]);if(void 0!==a){const i=a.choice;if(lo.has(i.id))o.isAllowDeselect||(e.add(i.id),r.length>1&&i.isSelectableMultiple&&(void 0===i.tempMultipleValue?i.tempMultipleValue=parseInt(r[1]):i.tempMultipleValue+=parseInt(r[1])),t(i));else{const e=ro.get(i.id);void 0!==e?r.length>1&&(e.multiple+=parseInt(r[1])):ro.set(i.id,{multiple:r.length>1?parseInt(r[1]):0,isAllowDeselect:i.isAllowDeselect||!1})}}}}else if(void 0!==o.activatedRandom)for(let l=0;l<o.activatedRandom.length;l++){const i=o.activatedRandom[l].split("/ON#"),r=co.get(i[0]);if(void 0!==r){const l=r.choice;if(lo.has(l.id))o.isAllowDeselect||(e.add(l.id),i.length>1&&l.isSelectableMultiple&&(void 0===l.tempMultipleValue?l.tempMultipleValue=parseInt(i[1]):l.tempMultipleValue+=parseInt(i[1])),t(l));else{const e=ro.get(l.id);void 0!==e?i.length>1&&(e.multiple+=parseInt(i[1])):ro.set(l.id,{multiple:i.length>1?parseInt(i[1]):0,isAllowDeselect:l.isAllowDeselect||!1})}}}}else{const i=o.activateThisChoice.split(",");for(let l=0;l<i.length;l++){const r=i[l].split("/ON#"),a=co.get(r[0]);if(void 0!==a){const i=a.choice;if(lo.has(i.id))o.isAllowDeselect||(e.add(i.id),r.length>1&&i.isSelectableMultiple&&(void 0===i.tempMultipleValue?i.tempMultipleValue=parseInt(r[1]):i.tempMultipleValue+=parseInt(r[1])),t(i));else{const e=ro.get(i.id);void 0!==e?r.length>1&&(e.multiple+=parseInt(r[1])):ro.set(i.id,{multiple:r.length>1?parseInt(r[1]):0,isAllowDeselect:i.isAllowDeselect||!1})}}}}}ro.clear(),Array.from(lo.entries()).forEach(([o])=>{const i=co.get(o);if(void 0!==i){const o=i.choice;o.notDeselectedByClean&&(e.add(o.id),t(o))}else lo.delete(o)});let o=[...lo.keys()],i=Array.from(co.entries()).filter(([e,t])=>!0===t.choice.isActive).map(([e])=>e),l=Array.from(new Set([...o,...i]));for(let r=l.length-1;r>=0;r--){const t=co.get(l[r]);if(void 0!==t){const o=t.choice;if(!e.has(o.id)){if(delete o.multiplyPointtypeIsOnCheck,delete o.startingSumAtMultiply,delete o.multiplyPointtypeIsOnCheck,delete o.startingSumAtDivide,delete o.activatedRandom,delete o.activatedRandomMul,o.addToAllowChoice&&void 0!==o.idOfAllowChoice&&void 0!==o.numbAddToAllowChoice)for(let e=0;e<o.idOfAllowChoice.length;e++){const t=so.get(o.idOfAllowChoice[e]);void 0!==t&&(t.allowedChoices-=o.numbAddToAllowChoice)}if(o.isChangeVariables&&void 0!==o.changedVariables)for(let e=0;e<o.changedVariables.length;e++){const t=ho.get(o.changedVariables[e]);void 0!==t&&("1"===o.changeType?t.isTrue=!0:"2"===o.changeType?t.isTrue=!1:"3"===o.changeType&&(t.isTrue=!t.isTrue))}if(o.textfieldIsOn&&void 0!==o.idOfTheTextfieldWord&&void 0!==o.wordChangeSelect){const e=vo.get(o.idOfTheTextfieldWord);void 0!==e&&(e.replaceText=void 0===o.wordChangeDeselect?"":o.wordChangeDeselect)}if(o.isImageUpload&&void 0!==o.defaultImage&&(o.image=o.defaultImage),o.setBgmIsOn&&$o&&o.bgmId){const e=O($o);if(e&&void 0!==e.playerInfo.videoData){const t=e.playerInfo.videoData.video_id;o.bgmId===t&&(e.stopVideo(),To.bgmIsPlaying=!1,0!==To.bgmFadeInterval&&(window.clearInterval(To.bgmFadeInterval),To.bgmFadeInterval=0),0!==To.bgmTitleInterval&&(window.clearInterval(To.bgmTitleInterval),To.bgmTitleInterval=0),0!==To.bgmPlayInterval&&(window.clearInterval(To.bgmPlayInterval),To.bgmPlayInterval=0),To.lastFadeTime=0,To.isFadingOut=!1,To.bgmTitle="No Audio Title",To.curBgmTime=0,To.curBgmLength=0)}}if(o.muteBgm&&$o){const e=O($o);e&&"function"==typeof e.unMute&&(app.isMute=!1,e.unMute())}if(o.isContentHidden&&void 0!==o.hiddenContentsRow&&void 0!==o.hiddenContentsType)for(let e=0;e<o.hiddenContentsRow.length;e++){const t=so.get(o.hiddenContentsRow[e]);if(void 0!==t)for(let e=0;e<o.hiddenContentsType.length;e++)switch(o.hiddenContentsType[e]){case"1":delete t.objectTitleRemoved;break;case"2":delete t.objectImageRemoved;break;case"3":delete t.objectTextRemoved;break;case"4":delete t.objectScoreRemoved;break;case"5":delete t.objectRequirementRemoved;break;case"6":delete t.addonTitleRemoved;break;case"7":delete t.addonImageRemoved;break;case"8":delete t.addonTextRemoved}}o.multipleUseVariable=0,o.isActive=!1,lo.delete(o.id)}}else lo.delete(l[r])}for(let r=0;r<app.pointTypes.length;r++){const e=app.pointTypes[r];e.startingSum=e.initValue}for(let r=0;r<app.rows.length;r++){const e=app.rows[r];e.isEditModeOn=!1,e.currentChoices=0,e.index=r;for(let t=0;t<e.objects.length;t++){const o=e.objects[t];o.index=t,void 0!==o.defaultTemplate&&(o.template=o.defaultTemplate),void 0!==o.defaultWidth&&(o.width=o.defaultWidth),o.isActive||(delete o.forcedActivated,delete o.activatedFrom),delete o.templateStack,delete o.widthStack;for(let e=0;e<o.scores.length;e++){const t=o.scores[e];o.isSelectableMultiple?(delete t.isActiveMul,delete t.isActiveMulMinus):delete t.isActive,Mi(t)}}}for(let r=0;r<app.backpack.length;r++){const e=app.backpack[r];e.isEditModeOn=!1,e.currentChoices=0,e.index=r;for(let t=0;t<e.objects.length;t++){const o=e.objects[t];o.index=t,void 0!==o.defaultTemplate&&(o.template=o.defaultTemplate),void 0!==o.defaultWidth&&(o.width=o.defaultWidth),o.isActive||(delete o.forcedActivated,delete o.activatedFrom),delete o.templateStack,delete o.widthStack;for(let e=0;e<o.scores.length;e++){const t=o.scores[e];o.isSelectableMultiple?(delete t.isActiveMul,delete t.isActiveMulMinus):delete t.isActive,Mi(t)}}}if(void 0!==app.defaultBgColor&&(app.styling.backgroundColor=app.defaultBgColor,delete app.defaultBgColor),void 0!==app.defaultBgImage&&(app.styling.backgroundImage=app.defaultBgImage,delete app.defaultBgImage),void 0!==app.defaultBarBgColor&&(app.styling.barBackgroundColor=app.defaultBarBgColor,delete app.defaultBarBgColor),void 0!==app.defaultBarIconColor&&(app.styling.barIconColor=app.defaultBarIconColor,delete app.defaultBarIconColor),void 0!==app.defaultBarTextColor&&(app.styling.barTextColor=app.defaultBarTextColor,delete app.defaultBarTextColor),delete app.bgColorStack,delete app.bgImageStack,delete app.barBgColorStack,delete app.barIconColorStack,delete app.barTextColorStack,app.btnBackpackIsOn=0,app.showAllAddons=0,app.isMute=!1,app.curVolume=100,$o){const e=O($o);e&&"function"==typeof e.unMute&&e.unMute()}bo.splice(0),l=[...lo.keys()];for(let r=0;r<l.length;r++){const e=co.get(l[r]);if(void 0!==e){const t=e.choice;if(Si(t.requireds)&&Li(t,!0)){if(t.discountOther&&void 0!==t.discountOperator&&void 0!==t.discountValue)if(t.isDisChoices){if(void 0!==t.discountChoices)for(let e=0;e<t.discountChoices.length;e++){const o=co.get(t.discountChoices[e]);if(void 0!==o)for(let e=0;e<o.choice.scores.length;e++){const i=o.choice.scores[e];i.isNotDiscountable||0!==t.discountPointTypes?.length&&-1===t.discountPointTypes?.indexOf(i.id)||Pi(t,i)}}}else if(void 0!==t.discountGroups)for(let e=0;e<t.discountGroups.length;e++){const o=uo.get(t.discountGroups[e]);if(void 0!==o)for(let e=0;e<o.elements.length;e++){const i=co.get(o.elements[e]);if(void 0!==i)for(let e=0;e<i.choice.scores.length;e++){const o=i.choice.scores[e];o.isNotDiscountable||0!==t.discountPointTypes?.length&&-1===t.discountPointTypes?.indexOf(o.id)||Pi(t,o)}}}if(t.addToAllowChoice&&void 0!==t.idOfAllowChoice&&void 0!==t.numbAddToAllowChoice)for(let e=0;e<t.idOfAllowChoice.length;e++){const o=so.get(t.idOfAllowChoice[e]);void 0!==o&&(o.allowedChoices+=t.numbAddToAllowChoice)}}}}for(let r=0;r<l.length;r++){const e=co.get(l[r]);if(void 0!==e){const t=e.choice,o=e.row;if(Si(t.requireds)&&Li(t,!0)){for(let e=0;e<t.scores.length;e++){const o=t.scores[e],i=no.get(o.id);if(void 0!==i)if(t.isSelectableMultiple&&t.isMultipleUseVariableultiple)for(let e=0;e<t.multipleUseVariable;e++)Si(o.requireds)&&(void 0===o.isActiveMul&&(o.isActiveMul=[]),o.isActiveMul[e]||(o.multiplyByTimes?i.startingSum-=o.discountIsOn&&void 0!==o.discountScore?o.discountScore*(e+1):o.value*(e+1):i.startingSum-=o.discountIsOn&&void 0!==o.discountScore?o.discountScore:o.value,o.isActiveMul[e]=!0));else t.isSelectableMultiple||Si(o.requireds)&&!o.isActive&&(i.startingSum-=o.discountIsOn&&void 0!==o.discountScore?o.discountScore:o.value,o.isActive=!0)}if(t.multiplyPointtypeIsOn&&void 0!==t.pointTypeToMultiply&&void 0!==t.multiplyWithThis){let e=0;t.multiplyPointtypeIsOnCheck=!0,"object"!=typeof t.startingSumAtMultiply&&(t.startingSumAtMultiply=[]);for(let o=0;o<t.pointTypeToMultiply.length;o++){let i=no.get(t.pointTypeToMultiply[o]);if(void 0!==i)if(t.multiplyPointtypeIsId&&"string"==typeof t.multiplyWithThis){let l=no.get(t.multiplyWithThis);void 0!==l?(t.startingSumAtMultiply[o]={value:i.startingSum,calcVal:l.startingSum},i.startingSum*=l.startingSum):e++}else"number"==typeof t.multiplyWithThis&&(t.startingSumAtMultiply[o]={value:i.startingSum,calcVal:t.multiplyWithThis},i.startingSum*=t.multiplyWithThis);else e++}e===t.pointTypeToMultiply.length&&delete t.multiplyPointtypeIsOnCheck,t.multiplyPointtypeIsOnCheck&&bo.push(t)}if(t.dividePointtypeIsOn&&void 0!==t.pointTypeToDivide&&void 0!==t.divideWithThis){let e=0;t.dividePointtypeIsOnCheck=!0,"object"!=typeof t.startingSumAtDivide&&(t.startingSumAtDivide=[]);for(let o=0;o<t.pointTypeToDivide.length;o++){let i=no.get(t.pointTypeToDivide[o]);if(void 0!==i)if(t.dividePointtypeIsId&&"string"==typeof t.divideWithThis){let l=no.get(t.divideWithThis);void 0!==l?0===l.startingSum?e++:(t.startingSumAtDivide[o]={value:i.startingSum,calcVal:l.startingSum},i.startingSum/=l.startingSum):e++}else"number"==typeof t.divideWithThis&&(0===t.dividedWithThis?e++:(t.startingSumAtDivide[o]={value:i.startingSum,calcVal:t.divideWithThis},i.startingSum/=t.divideWithThis));else e++}e===t.pointTypeToDivide.length&&delete t.dividePointtypeIsOnCheck,!t.multiplyPointtypeIsOnCheck&&t.dividePointtypeIsOnCheck&&bo.push(t)}if(t.changeBackground&&(t.changeBgImage?void 0!==t.bgImage&&(void 0===app.bgImageStack&&(app.bgImageStack=[],app.defaultBgImage=app.styling.backgroundImage||""),app.bgImageStack.push({id:t.id,data:t.bgImage}),app.styling.backgroundImage=t.bgImage):void 0!==t.changedBgColorCode&&(void 0===app.bgColorStack&&(app.bgColorStack=[],app.defaultBgColor=app.styling.backgroundColor||""),app.bgColorStack.push({id:t.id,data:t.changedBgColorCode}),app.styling.backgroundColor=t.changedBgColorCode)),t.changePointBar&&(t.changeBarBgColorIsOn&&void 0!==t.changedBarBgColor&&(void 0===app.barBgColorStack&&(app.barBgColorStack=[],app.defaultBarBgColor=app.styling.barBackgroundColor||"#FFFFFFFF"),app.barBgColorStack.push({id:t.id,data:t.changedBarBgColor}),app.styling.barBackgroundColor=t.changedBarBgColor),t.changeBarIconColorIsOn&&void 0!==t.changedBarIconColor&&(void 0===app.barIconColorStack&&(app.barIconColorStack=[],app.defaultBarIconColor=app.styling.barIconColor||"#0000008A"),app.barIconColorStack.push({id:t.id,data:t.changedBarIconColor}),app.styling.barIconColor=t.changedBarIconColor),t.changeBarTextColorIsOn&&void 0!==t.changedBarTextColor&&(void 0===app.barTextColorStack&&(app.barTextColorStack=[],app.defaultBarTextColor=app.styling.barTextColor||"#000000"),app.barTextColorStack.push({id:t.id,data:t.changedBarTextColor}),app.styling.barTextColor=t.changedBarTextColor)),t.changeTemplates&&t.changeTemplatesList&&t.changeToThisTemplate){const e=t.changeTemplatesList.split(",");for(let o=0;o<e.length;o++){const i=e[o],l=co.get(i);if(void 0!==l){const e=l.choice;if(kl(e,t.id,t.changeToThisTemplate),t.changeAddonTemplate)for(let o=0;o<e.addons.length;o++){kl(e.addons[o],t.id,t.changeToThisTemplate)}continue}const r=so.get(i);if(void 0!==r){kl(r,t.id,t.changeToThisTemplate);continue}const a=uo.get(i[0]);if(void 0!==a){const e=a.rowElements;for(let i=0;i<e.length;i++){const o=so.get(e[i]);void 0!==o&&kl(o,t.id,t.changeToThisTemplate)}const o=a.elements;for(let i=0;i<o.length;i++){const e=co.get(o[i]);if(void 0!==e){kl(e.choice,t.id,t.changeToThisTemplate)}}continue}}}if(t.changeWidth&&t.changeWidthList&&t.changeToThisWidth){const e=t.changeWidthList.split(",");for(let o=0;o<e.length;o++){const i=e[o],l=co.get(i);if(void 0!==l){Fl(l.choice,t.id,t.changeToThisWidth);continue}const r=so.get(i);if(void 0!==r){Fl(r,t.id,t.changeToThisWidth);continue}const a=uo.get(i[0]);if(void 0!==a){const e=a.rowElements;for(let i=0;i<e.length;i++){const o=so.get(e[i]);void 0!==o&&Fl(o,t.id,t.changeToThisWidth)}const o=a.elements;for(let i=0;i<o.length;i++){const e=co.get(o[i]);if(void 0!==e){Fl(e.choice,t.id,t.changeToThisWidth)}}continue}}}if(t.muteBgm&&$o){const e=O($o);app.isMute=!0,e&&"function"==typeof e.mute&&e.mute()}t.backpackBtnRequirement&&(app.btnBackpackIsOn+=1),t.showAllAddons&&(app.showAllAddons+=1),o.currentChoices+=1}else{if(t.discountOther&&void 0!==t.discountOperator&&void 0!==t.discountValue)if(t.isDisChoices){if(void 0!==t.discountChoices)for(let e=0;e<t.discountChoices.length;e++){const o=co.get(t.discountChoices[e]);if(void 0!==o)for(let e=0;e<o.choice.scores.length;e++){const i=o.choice.scores[e];i.isNotDiscountable||0!==t.discountPointTypes?.length&&-1===t.discountPointTypes?.indexOf(i.id)||Di(t,i)}}}else if(void 0!==t.discountGroups)for(let e=0;e<t.discountGroups.length;e++){const o=uo.get(t.discountGroups[e]);if(void 0!==o)for(let e=0;e<o.elements.length;e++){const i=co.get(o.elements[e]);if(void 0!==i)for(let e=0;e<i.choice.scores.length;e++){const o=i.choice.scores[e];o.isNotDiscountable||0!==t.discountPointTypes?.length&&-1===t.discountPointTypes?.indexOf(o.id)||Di(t,o)}}}if(t.addToAllowChoice&&void 0!==t.idOfAllowChoice&&void 0!==t.numbAddToAllowChoice)for(let e=0;e<t.idOfAllowChoice.length;e++){const o=so.get(t.idOfAllowChoice[e]);void 0!==o&&(o.allowedChoices-=t.numbAddToAllowChoice)}lo.delete(t.id),t.forcedActivated&&ro.set(t.id,{multiple:t.multipleUseVariable})}}else lo.delete(l[r])}}function Vi(e,t,o,i=new Set){Array.from(lo.entries()).forEach(([l])=>{const r=co.get(l);if(void 0!==r){const l=r.row,a=r.choice,n=new x;let s=!1;for(let o=0;o<a.scores.length;o++){const r=a.scores[o];if(!r.isNotRecalculatable){const o=no.get(r.id);if(void 0!==o){if(e.discountOther&&r.isChangeDiscount&&void 0!==r.tmpDisScore){const e=a.multipleUseVariable;if(a.isSelectableMultiple&&a.isMultipleUseVariable&&void 0!==a.numMultipleTimesMinus){for(let t=e-1;t>=0;t--)a.isActive&&(o.startingSum+=r.tmpDisScore);a.isActive&&(n.set(r.id,r.tmpDisScore),delete r.isChangeDiscount,delete r.tmpDisScore)}else a.isSelectableMultiple||(o.startingSum+=r.tmpDisScore,n.set(r.id,r.tmpDisScore),delete r.isChangeDiscount,delete r.tmpDisScore)}if(!i.has(r.idx)){const d=e.scores.length>0,c=e.scores.length||1;for(let u=0;u<c;u++){const c=d?e.scores[u]:null,g=c&&t.get(c.id)||0,v=c?no.get(c.id):null;if((!d||d&&v)&&a.isActive){const t=Si(r.requireds),d=new x(JSON.parse(JSON.stringify([...lo])));d.delete(e.id),l.currentChoices-=1,v&&(v.startingSum+=g);const c=Si(r.requireds,d);if(l.currentChoices+=1,v&&(v.startingSum-=g),c!==t){let e=r.discountIsOn&&void 0!==r.discountScore?r.discountScore:r.value;if(c)if(a.isSelectableMultiple&&a.isMultipleUseVariable&&void 0!==a.numMultipleTimesMinus){for(let t=a.multipleUseVariable-1;t>=0;t--)void 0!==r.isActiveMul&&r.isActiveMul[t]&&(o.startingSum+=e,n.set(r.id,e),r.isActiveMul[t]=!1)}else a.isSelectableMultiple||r.isActive&&(o.startingSum+=e,n.set(r.id,e),delete r.isActive);else if(a.isSelectableMultiple&&a.isMultipleUseVariable&&void 0!==a.numMultipleTimesMinus){const t=a.multipleUseVariable;void 0===r.isActiveMul&&(r.isActiveMul=[]);for(let i=t-1;i>=0;i--)r.isActiveMul[i]||(o.startingSum-=e,n.set(r.id,e),r.isActiveMul[i]=!0)}else a.isSelectableMultiple||r.isActive||(o.startingSum-=e,n.set(r.id,e),r.isActive=!0);s=!0,i.add(r.idx)}}}}}}}s&&Vi(a,n,++o,i)}})}function Ni(e,t){let o=e.split("/IMG#");const i=o.length>1?o[1]:"";o=o[0].split("/WORD#");const l=o.length>1?o[1].replace(/\/CHAR#/g,","):"";o=o[0].split("/RND#");const r=o.length>1?o[1].split("/AND#"):"",a=o[0],n=co.get(a);if(void 0!==n){const e=n.row,o=n.choice;for(let t=0;t<o.scores.length;t++){const e=o.scores[t],i=no.get(e.id);void 0!==i&&e.isRandom&&!e.setValue&&void 0!==e.maxValue&&void 0!==e.minValue&&(e.value=Math.floor(Math.random()*(e.maxValue-e.minValue+1))+e.minValue,e.value=i.allowFloat?e.value:Math.floor(e.value),e.setValue=!0)}const a=new x;if(o.isActive=!0,lo.set(o.id,{multiple:0}),e.currentChoices+=1,o.discountOther&&void 0!==o.discountOperator&&void 0!==o.discountValue)if(o.isDisChoices){const e=new Set;if(void 0!==o.discountRows)for(let t=0;t<o.discountRows.length;t++){const i=so.get(o.discountRows[t]);if(void 0!==i)for(let t=0;t<i.objects.length;t++){const l=i.objects[t];for(let e=0;e<l.scores.length;e++){const t=l.scores[e];t.isNotDiscountable||0!==o.discountPointTypes?.length&&-1===o.discountPointTypes?.indexOf(t.id)||Pi(o,t)}e.add(l.id)}}if(void 0!==o.discountChoices)for(let t=0;t<o.discountChoices.length;t++)if(!e.has(o.discountChoices[t])){const e=co.get(o.discountChoices[t]);if(void 0!==e){const t=e.choice;for(let e=0;e<t.scores.length;e++){const i=t.scores[e];i.isNotDiscountable||0!==o.discountPointTypes?.length&&-1===o.discountPointTypes?.indexOf(i.id)||Pi(o,i)}}}}else if(void 0!==o.discountGroups)for(let t=0;t<o.discountGroups.length;t++){const e=uo.get(o.discountGroups[t]);if(void 0!==e)for(let t=0;t<e.elements.length;t++){const i=co.get(e.elements[t]);if(void 0!==i)for(let e=0;e<i.choice.scores.length;e++){const t=i.choice.scores[e];t.isNotDiscountable||0!==o.discountPointTypes?.length&&-1===o.discountPointTypes?.indexOf(t.id)||Pi(o,t)}}}for(let t=0;t<o.scores.length;t++){const e=o.scores[t];if(Si(e.requireds)&&!e.isActive){const t=no.get(e.id);if(void 0!==t){let o=e.discountIsOn&&void 0!==e.discountScore?e.discountScore:e.value;o=t.allowFloat?o:Math.floor(o),t.startingSum-=o,e.isActive=!0;let i=a.get(e.id);void 0!==i?a.set(e.id,o+i):a.set(e.id,o)}}}if(o.duplicateRow&&void 0!==o.duplicateRowId&&void 0!==o.duplicateRowPlace&&Ei(o),o.activateOtherChoice&&void 0!==o.activateThisChoice){const e=new Set(t.map(e=>e.split("/ON#")[0]));if(o.isActivateRandom&&void 0!==o.numActivateRandom)if(""===r){let t=o.activateThisChoice.split(",").filter(t=>e.has(t.split("/ON#")[0]));const i=o.numActivateRandom>t.length?t.length:o.numActivateRandom;let l=new Set;for(let e=0;e<t.length;e++){const o=co.get(t[e]);if(void 0!==o){if(!Si(o.choice.requireds)){const o=t[e];t.splice(e,1),t.push(o)}}}for(let e=t.length-1;e>=0;e--)l.add(t[e]);t=[...l].reverse(),o.activatedRandom=t.slice(0,i);for(let e=0;e<i;e++){const t=o.activatedRandom[e].split("/ON#"),i=co.get(t[0]);if(void 0!==i){const e=i.choice;if(!o.isAllowDeselect){if(e.isSelectableMultiple&&e.isMultipleUseVariable){const o=parseInt(t[1]);for(let t=0;t<Math.abs(o);t++)o>0&&void 0!==e.numMultipleTimesMinus?e.numMultipleTimesMinus++:o<0&&void 0!==e.numMultipleTimesPluss&&e.numMultipleTimesPluss--}e.forcedActivated=!0}}}}else{let t=r.filter(t=>e.has(t.split("/RON#")[0]));o.activatedRandom=t;for(let e=0;e<t.length;e++){const t=o.activatedRandom[e].split("/RON#"),i=co.get(t[0]);if(void 0!==i){const e=i.choice;if(!o.isAllowDeselect){if(e.isSelectableMultiple&&e.isMultipleUseVariable){const o=parseInt(t[1]);for(let t=0;t<Math.abs(o);t++)o>0&&void 0!==e.numMultipleTimesMinus?e.numMultipleTimesMinus++:o<0&&void 0!==e.numMultipleTimesPluss&&e.numMultipleTimesPluss--}e.forcedActivated=!0}}}}else{const t=o.activateThisChoice.split(",").filter(t=>e.has(t.split("/ON#")[0]));for(let e=0;e<t.length;e++){const i=t[e].split("/ON#"),l=i.length>1?parseInt(i[1]):0,r=co.get(i[0]);if(void 0!==r){const e=r.choice;if(!o.isAllowDeselect){if(e.isSelectableMultiple&&e.isMultipleUseVariable)if(o.isSelectableMultiple&&o.isMultipleUseVariable)for(let t=0;t<Math.abs(o.multipleUseVariable);t++)for(let o=0;o<Math.abs(l);o++)l>0&&void 0!==e.numMultipleTimesMinus?e.numMultipleTimesMinus++:l<0&&void 0!==e.numMultipleTimesPluss&&e.numMultipleTimesPluss--;else for(let t=0;t<Math.abs(l);t++)l>0&&void 0!==e.numMultipleTimesMinus?e.numMultipleTimesMinus++:l<0&&void 0!==e.numMultipleTimesPluss&&e.numMultipleTimesPluss--;e.forcedActivated=!0}}else{const e=uo.get(i[0]);if(void 0!==e){const t=e.elements;for(let e=0;e<t.length;e++){const i=co.get(t[e]);if(void 0!==i){const e=i.choice;if(!o.isAllowDeselect){if(e.isSelectableMultiple&&e.isMultipleUseVariable)if(o.isSelectableMultiple&&o.isMultipleUseVariable)for(let t=0;t<Math.abs(o.multipleUseVariable);t++)for(let o=0;o<Math.abs(l);o++)l>0&&void 0!==e.numMultipleTimesMinus?e.numMultipleTimesMinus++:l<0&&void 0!==e.numMultipleTimesPluss&&e.numMultipleTimesPluss--;else for(let t=0;t<Math.abs(l);t++)l>0&&void 0!==e.numMultipleTimesMinus?e.numMultipleTimesMinus++:l<0&&void 0!==e.numMultipleTimesPluss&&e.numMultipleTimesPluss--;e.forcedActivated=!0}}}}}}}}if(o.multiplyPointtypeIsOn&&void 0!==o.pointTypeToMultiply&&void 0!==o.multiplyWithThis){let e=0;o.multiplyPointtypeIsOnCheck=!0,"object"!=typeof o.startingSumAtMultiply&&(o.startingSumAtMultiply=[]);for(let t=0;t<o.pointTypeToMultiply.length;t++){let i=no.get(o.pointTypeToMultiply[t]);if(void 0!==i)if(o.multiplyPointtypeIsId&&"string"==typeof o.multiplyWithThis){let l=no.get(o.multiplyWithThis);void 0!==l?(o.startingSumAtMultiply[t]={value:i.startingSum,calcVal:l.startingSum},i.startingSum*=l.startingSum,i.startingSum=i.allowFloat?i.startingSum:Math.floor(i.startingSum)):e++}else"number"==typeof o.multiplyWithThis&&(o.startingSumAtMultiply[t]={value:i.startingSum,calcVal:o.multiplyWithThis},i.startingSum*=o.multiplyWithThis,i.startingSum=i.allowFloat?i.startingSum:Math.floor(i.startingSum));else e++}e===o.pointTypeToMultiply.length&&delete o.multiplyPointtypeIsOnCheck,o.multiplyPointtypeIsOnCheck&&bo.push(o)}if(o.dividePointtypeIsOn&&void 0!==o.pointTypeToDivide&&void 0!==o.divideWithThis){let e=0;o.dividePointtypeIsOnCheck=!0,"object"!=typeof o.startingSumAtDivide&&(o.startingSumAtDivide=[]);for(let t=0;t<o.pointTypeToDivide.length;t++){let i=no.get(o.pointTypeToDivide[t]);if(void 0!==i)if(o.dividePointtypeIsId&&"string"==typeof o.divideWithThis){let l=no.get(o.divideWithThis);void 0!==l?0===l.startingSum?e++:(o.startingSumAtDivide[t]={value:i.startingSum,calcVal:l.startingSum},i.startingSum/=l.startingSum,i.startingSum=i.allowFloat?i.startingSum:Math.floor(i.startingSum)):e++}else"number"==typeof o.divideWithThis&&(0===o.dividedWithThis?e++:(o.startingSumAtDivide[t]={value:i.startingSum,calcVal:o.divideWithThis},i.startingSum/=o.divideWithThis,i.startingSum=i.allowFloat?i.startingSum:Math.floor(i.startingSum)));else e++}e===o.pointTypeToDivide.length&&delete o.dividePointtypeIsOnCheck,!o.multiplyPointtypeIsOnCheck&&o.dividePointtypeIsOnCheck&&bo.push(o)}if(o.isChangeVariables&&void 0!==o.changedVariables)for(let t=0;t<o.changedVariables.length;t++){const e=ho.get(o.changedVariables[t]);void 0!==e&&("1"===o.changeType?e.isTrue=!0:"2"===o.changeType?e.isTrue=!1:"3"===o.changeType&&(e.isTrue=!e.isTrue))}if(o.addToAllowChoice&&void 0!==o.idOfAllowChoice&&void 0!==o.numbAddToAllowChoice)for(let t=0;t<o.idOfAllowChoice.length;t++){const e=so.get(o.idOfAllowChoice[t]);void 0!==e&&(e.allowedChoices+=o.numbAddToAllowChoice)}if(o.textfieldIsOn&&void 0!==o.idOfTheTextfieldWord&&void 0!==o.wordChangeSelect){const e=vo.get(o.idOfTheTextfieldWord);void 0!==e&&(o.customTextfieldIsOn?e.replaceText=l:e.replaceText=o.wordChangeSelect)}if(o.isImageUpload&&(o.defaultImage=o.image,o.image=i),o.backpackBtnRequirement&&(void 0===app.btnBackpackIsOn&&(app.btnBackpackIsOn=0),app.btnBackpackIsOn+=1),o.showAllAddons&&(void 0===app.showAllAddons&&(app.showAllAddons=0),app.showAllAddons+=1),o.changeBackground&&(o.changeBgImage?void 0!==o.bgImage&&(void 0===app.bgImageStack&&(app.bgImageStack=[],app.defaultBgImage=app.styling.backgroundImage||""),app.bgImageStack.push({id:o.id,data:o.bgImage}),app.styling.backgroundImage=o.bgImage):void 0!==o.changedBgColorCode&&(void 0===app.bgColorStack&&(app.bgColorStack=[],app.defaultBgColor=app.styling.backgroundColor||""),app.bgColorStack.push({id:o.id,data:o.changedBgColorCode}),app.styling.backgroundColor=o.changedBgColorCode)),o.changePointBar&&(o.changeBarBgColorIsOn&&void 0!==o.changedBarBgColor&&(void 0===app.barBgColorStack&&(app.barBgColorStack=[],app.defaultBarBgColor=app.styling.barBackgroundColor||"#FFFFFFFF"),app.barBgColorStack.push({id:o.id,data:o.changedBarBgColor}),app.styling.barBackgroundColor=o.changedBarBgColor),o.changeBarIconColorIsOn&&void 0!==o.changedBarIconColor&&(void 0===app.barIconColorStack&&(app.barIconColorStack=[],app.defaultBarIconColor=app.styling.barIconColor||"#0000008A"),app.barIconColorStack.push({id:o.id,data:o.changedBarIconColor}),app.styling.barIconColor=o.changedBarIconColor),o.changeBarTextColorIsOn&&void 0!==o.changedBarTextColor&&(void 0===app.barTextColorStack&&(app.barTextColorStack=[],app.defaultBarTextColor=app.styling.barTextColor||"#000000"),app.barTextColorStack.push({id:o.id,data:o.changedBarTextColor}),app.styling.barTextColor=o.changedBarTextColor)),o.changeTemplates&&o.changeTemplatesList&&o.changeToThisTemplate){const e=o.changeTemplatesList.split(",");for(let t=0;t<e.length;t++){const i=e[t],l=co.get(i);if(void 0!==l){const e=l.choice;if(kl(e,o.id,o.changeToThisTemplate),o.changeAddonTemplate)for(let t=0;t<e.addons.length;t++){kl(e.addons[t],o.id,o.changeToThisTemplate)}continue}const r=so.get(i);if(void 0!==r){kl(r,o.id,o.changeToThisTemplate);continue}const a=uo.get(i[0]);if(void 0!==a){const e=a.rowElements;for(let i=0;i<e.length;i++){const t=so.get(e[i]);void 0!==t&&kl(t,o.id,o.changeToThisTemplate)}const t=a.elements;for(let i=0;i<t.length;i++){const e=co.get(t[i]);if(void 0!==e){kl(e.choice,o.id,o.changeToThisTemplate)}}continue}}}if(o.changeWidth&&o.changeWidthList&&o.changeToThisWidth){const e=o.changeWidthList.split(",");for(let t=0;t<e.length;t++){const i=e[t],l=co.get(i);if(void 0!==l){Fl(l.choice,o.id,o.changeToThisWidth);continue}const r=so.get(i);if(void 0!==r){Fl(r,o.id,o.changeToThisWidth);continue}const a=uo.get(i[0]);if(void 0!==a){const e=a.rowElements;for(let i=0;i<e.length;i++){const t=so.get(e[i]);void 0!==t&&Fl(t,o.id,o.changeToThisWidth)}const t=a.elements;for(let i=0;i<t.length;i++){const e=co.get(t[i]);if(void 0!==e){Fl(e.choice,o.id,o.changeToThisWidth)}}continue}}}if(o.setBgmIsOn&&o.bgmId&&(To.bgmIsPlaying=!0,To.isBgmInit?Fi(o,o.bgmId,0):(Ri(o),To.isBgmInit=!0)),o.muteBgm&&$o){const e=O($o);e&&"function"==typeof e.mute&&(app.isMute=!0,e.mute())}if(o.isContentHidden&&void 0!==o.hiddenContentsRow&&void 0!==o.hiddenContentsType)for(let t=0;t<o.hiddenContentsRow.length;t++){const e=so.get(o.hiddenContentsRow[t]);if(void 0!==e){e.textIsRemoved||(e.textIsRemoved=!0);for(let t=0;t<o.hiddenContentsType.length;t++)switch(o.hiddenContentsType[t]){case"1":e.objectTitleRemoved=!0;break;case"2":e.objectImageRemoved=!0;break;case"3":e.objectTextRemoved=!0;break;case"4":e.objectScoreRemoved=!0;break;case"5":e.objectRequirementRemoved=!0;break;case"6":e.addonTitleRemoved=!0;break;case"7":e.addonImageRemoved=!0;break;case"8":e.addonTextRemoved=!0}}}Vi(o,a,0)}}function zi(e,t){const o=e.length>1?e[1].split("/AND#"):"",i=e[0].split("/ON#"),l=co.get(i[0]);if(void 0!==l){const e=l.choice,i=l.row;for(let t=0;t<e.scores.length;t++){const o=e.scores[t],i=no.get(o.id);void 0!==i&&o.isRandom&&!o.setValue&&void 0!==o.maxValue&&void 0!==o.minValue&&(o.value=Math.floor(Math.random()*(o.maxValue-o.minValue+1))+o.minValue,o.value=i.allowFloat?o.value:Math.floor(o.value),o.setValue=!0)}const r=new x,a=e.isActive,n=e.multipleUseVariable>=0,s=Math.abs(e.multipleUseVariable);if(e.isActive||(e.isActive=!0,i.currentChoices+=1),e.multipleUseVariable++,lo.set(e.id,{multiple:e.multipleUseVariable}),n&&e.discountOther&&void 0!==e.discountOperator&&void 0!==e.discountValue)if(e.isDisChoices){const t=new Set;if(void 0!==e.discountRows)for(let o=0;o<e.discountRows.length;o++){const i=so.get(e.discountRows[o]);if(void 0!==i)for(let o=0;o<i.objects.length;o++){const l=i.objects[o];for(let t=0;t<l.scores.length;t++){const o=l.scores[t];o.isNotDiscountable||0!==e.discountPointTypes?.length&&-1===e.discountPointTypes?.indexOf(o.id)||Pi(e,o)}t.add(l.id)}}if(void 0!==e.discountChoices)for(let o=0;o<e.discountChoices.length;o++)if(!t.has(e.discountChoices[o])){const t=co.get(e.discountChoices[o]);if(void 0!==t){const o=t.choice;for(let t=0;t<o.scores.length;t++){const i=o.scores[t];i.isNotDiscountable||0!==e.discountPointTypes?.length&&-1===e.discountPointTypes?.indexOf(i.id)||Pi(e,i)}}}}else if(void 0!==e.discountGroups)for(let t=0;t<e.discountGroups.length;t++){const o=uo.get(e.discountGroups[t]);if(void 0!==o)for(let t=0;t<o.elements.length;t++){const i=co.get(o.elements[t]);if(void 0!==i)for(let t=0;t<i.choice.scores.length;t++){const o=i.choice.scores[t];o.isNotDiscountable||0!==e.discountPointTypes?.length&&-1===e.discountPointTypes?.indexOf(o.id)||Pi(e,o)}}}for(let t=0;t<e.scores.length;t++){const o=e.scores[t];if(void 0===o.isActiveMul&&(o.isActiveMul=[]),Si(o.requireds)&&!o.isActiveMul[s]){const e=no.get(o.id);if(void 0!==e){let t=o.discountIsOn&&void 0!==o.discountScore?o.discountScore:o.value;t=e.allowFloat?t:Math.floor(t),o.multiplyByTimes&&(t*=s+1),e.startingSum-=t,o.isActiveMul[s]=!0;let i=r.get(o.id);void 0!==i?r.set(o.id,t+i):r.set(o.id,t)}}}if(n&&(e.duplicateRow&&void 0!==e.duplicateRowId&&void 0!==e.duplicateRowPlace&&Ei(e),e.activateOtherChoice&&void 0!==e.activateThisChoice)){const i=new Set(t.map(e=>e.split("/ON#")[0]));if(e.isActivateRandom&&void 0!==e.numActivateRandom)if(void 0===e.activatedRandomMul&&(e.activatedRandomMul=[]),""===o){if(1===e.multipleUseVariable){let t=e.activateThisChoice.split(",").filter(e=>i.has(e.split("/ON#")[0]));e.numActivateRandom>t.length?t.length:e.numActivateRandom;let o=new Set;for(let e=0;e<t.length;e++){const o=co.get(t[e]);if(void 0!==o){if(!Si(o.choice.requireds)){const o=t[e];t.splice(e,1),t.push(o)}}}for(let e=t.length-1;e>=0;e--)o.add(t[e]);t=[...o].reverse();let l=0,r=[];for(let i=0;i<e.numActivateRandom;i++){r[i]=t.length/(e.numActivateRandom*(i+1))<1?t.length%(e.numActivateRandom*(i+1)):e.numActivateRandom,e.activatedRandomMul.push(t.slice(l,r[i]+l));for(let t=0;t<r[i]-l;t++){const o=e.activatedRandomMul[i][t].split("/ON#"),l=o.length>1?parseInt(o[1]):0,r=co.get(o[0]);if(void 0!==r){const t=r.choice;if(!e.isAllowDeselect){if(t.isSelectableMultiple&&t.isMultipleUseVariable)for(let e=0;e<Math.abs(l);e++)l>0&&void 0!==t.numMultipleTimesMinus?t.numMultipleTimesMinus++:l<0&&void 0!==t.numMultipleTimesPluss&&t.numMultipleTimesPluss--;t.forcedActivated=!0}}}l+=r[i]}}}else{const t=(e.multipleUseVariable-1)*e.numActivateRandom,l=o.splice(t,t+e.numActivateRandom);e.activatedRandomMul.push(l);for(let o=0;o<e.activatedRandomMul[e.multipleUseVariable-1].length;o++){const t=e.activatedRandomMul[e.multipleUseVariable-1][o].split("/RON#"),l=t.length>1?parseInt(t[1]):0,r=co.get(t[0]);if(void 0!==r){const t=r.choice;if(!e.isAllowDeselect&&i.has(t.id)){if(t.isSelectableMultiple&&t.isMultipleUseVariable)for(let e=0;e<Math.abs(l);e++)l>0&&void 0!==t.numMultipleTimesMinus?t.numMultipleTimesMinus++:l<0&&void 0!==t.numMultipleTimesPluss&&t.numMultipleTimesPluss--;t.forcedActivated=!0}}}}else{const t=e.activateThisChoice.split(",").filter(e=>i.has(e.split("/ON#")[0]));for(let o=0;o<t.length;o++){const i=t[o].split("/ON#"),l=i.length>1?parseInt(i[1]):0,r=co.get(i[0]);if(void 0!==r){const t=r.choice;if(!e.isAllowDeselect){if(t.isSelectableMultiple&&t.isMultipleUseVariable)if(e.isSelectableMultiple&&e.isMultipleUseVariable)for(let o=0;o<Math.abs(e.multipleUseVariable);o++)for(let e=0;e<Math.abs(l);e++)l>0&&void 0!==t.numMultipleTimesMinus?t.numMultipleTimesMinus++:l<0&&void 0!==t.numMultipleTimesPluss&&t.numMultipleTimesPluss--;else for(let e=0;e<Math.abs(l);e++)l>0&&void 0!==t.numMultipleTimesMinus?t.numMultipleTimesMinus++:l<0&&void 0!==t.numMultipleTimesPluss&&t.numMultipleTimesPluss--;t.forcedActivated=!0}}else{const t=uo.get(i[0]);if(void 0!==t){const o=t.elements;for(let t=0;t<o.length;t++){const i=co.get(o[t]);if(void 0!==i){const t=i.choice;if(!e.isAllowDeselect){if(t.isSelectableMultiple&&t.isMultipleUseVariable)if(e.isSelectableMultiple&&e.isMultipleUseVariable)for(let o=0;o<Math.abs(e.multipleUseVariable);o++)for(let e=0;e<Math.abs(l);e++)l>0&&void 0!==t.numMultipleTimesMinus?t.numMultipleTimesMinus++:l<0&&void 0!==t.numMultipleTimesPluss&&t.numMultipleTimesPluss--;else for(let e=0;e<Math.abs(l);e++)l>0&&void 0!==t.numMultipleTimesMinus?t.numMultipleTimesMinus++:l<0&&void 0!==t.numMultipleTimesPluss&&t.numMultipleTimesPluss--;t.forcedActivated=!0}}}}}}}}if(e.addToAllowChoice&&void 0!==e.idOfAllowChoice&&void 0!==e.numbAddToAllowChoice)for(let t=0;t<e.idOfAllowChoice.length;t++){const o=so.get(e.idOfAllowChoice[t]);void 0!==o&&(o.allowedChoices+=e.numbAddToAllowChoice)}if(!a){if(e.isChangeVariables&&void 0!==e.changedVariables)for(let t=0;t<e.changedVariables.length;t++){const o=ho.get(e.changedVariables[t]);void 0!==o&&("1"===e.changeType?o.isTrue=!0:"2"===e.changeType?o.isTrue=!1:"3"===e.changeType&&(o.isTrue=!o.isTrue))}if(e.backpackBtnRequirement&&(app.btnBackpackIsOn+=1),e.showAllAddons&&(app.showAllAddons+=1),e.changeBackground&&(e.changeBgImage?void 0!==e.bgImage&&(void 0===app.bgImageStack&&(app.bgImageStack=[],app.defaultBgImage=app.styling.backgroundImage||""),app.bgImageStack.push({id:e.id,data:e.bgImage}),app.styling.backgroundImage=e.bgImage):void 0!==e.changedBgColorCode&&(void 0===app.bgColorStack&&(app.bgColorStack=[],app.defaultBgColor=app.styling.backgroundColor||""),app.bgColorStack.push({id:e.id,data:e.changedBgColorCode}),app.styling.backgroundColor=e.changedBgColorCode)),e.changePointBar&&(e.changeBarBgColorIsOn&&void 0!==e.changedBarBgColor&&(void 0===app.barBgColorStack&&(app.barBgColorStack=[],app.defaultBarBgColor=app.styling.barBackgroundColor||"#FFFFFFFF"),app.barBgColorStack.push({id:e.id,data:e.changedBarBgColor}),app.styling.barBackgroundColor=e.changedBarBgColor),e.changeBarIconColorIsOn&&void 0!==e.changedBarIconColor&&(void 0===app.barIconColorStack&&(app.barIconColorStack=[],app.defaultBarIconColor=app.styling.barIconColor||"#0000008A"),app.barIconColorStack.push({id:e.id,data:e.changedBarIconColor}),app.styling.barIconColor=e.changedBarIconColor),e.changeBarTextColorIsOn&&void 0!==e.changedBarTextColor&&(void 0===app.barTextColorStack&&(app.barTextColorStack=[],app.defaultBarTextColor=app.styling.barTextColor||"#000000"),app.barTextColorStack.push({id:e.id,data:e.changedBarTextColor}),app.styling.barTextColor=e.changedBarTextColor)),e.changeTemplates&&e.changeTemplatesList&&e.changeToThisTemplate){const t=e.changeTemplatesList.split(",");for(let o=0;o<t.length;o++){const i=t[o],l=co.get(i);if(void 0!==l){const t=l.choice;if(kl(t,e.id,e.changeToThisTemplate),e.changeAddonTemplate)for(let o=0;o<t.addons.length;o++){kl(t.addons[o],e.id,e.changeToThisTemplate)}continue}const r=so.get(i);if(void 0!==r){kl(r,e.id,e.changeToThisTemplate);continue}const a=uo.get(i[0]);if(void 0!==a){const t=a.rowElements;for(let i=0;i<t.length;i++){const o=so.get(t[i]);void 0!==o&&kl(o,e.id,e.changeToThisTemplate)}const o=a.elements;for(let i=0;i<o.length;i++){const t=co.get(o[i]);if(void 0!==t){kl(t.choice,e.id,e.changeToThisTemplate)}}continue}}}if(e.changeWidth&&e.changeWidthList&&e.changeToThisWidth){const t=e.changeWidthList.split(",");for(let o=0;o<t.length;o++){const i=t[o],l=co.get(i);if(void 0!==l){Fl(l.choice,e.id,e.changeToThisWidth);continue}const r=so.get(i);if(void 0!==r){Fl(r,e.id,e.changeToThisWidth);continue}const a=uo.get(i[0]);if(void 0!==a){const t=a.rowElements;for(let i=0;i<t.length;i++){const o=so.get(t[i]);void 0!==o&&Fl(o,e.id,e.changeToThisWidth)}const o=a.elements;for(let i=0;i<o.length;i++){const t=co.get(o[i]);if(void 0!==t){Fl(t.choice,e.id,e.changeToThisWidth)}}continue}}}if(e.setBgmIsOn&&e.bgmId&&(To.bgmIsPlaying=!0,To.isBgmInit?Fi(e,e.bgmId,0):(Ri(e),To.isBgmInit=!0)),e.muteBgm&&$o){const e=O($o);e&&"function"==typeof e.mute&&(app.isMute=!0,e.mute())}if(e.isContentHidden&&void 0!==e.hiddenContentsRow&&void 0!==e.hiddenContentsType)for(let t=0;t<e.hiddenContentsRow.length;t++){const o=so.get(e.hiddenContentsRow[t]);if(void 0!==o){o.textIsRemoved||(o.textIsRemoved=!0);for(let t=0;t<e.hiddenContentsType.length;t++)switch(e.hiddenContentsType[t]){case"1":o.objectTitleRemoved=!0;break;case"2":o.objectImageRemoved=!0;break;case"3":o.objectTextRemoved=!0;break;case"4":o.objectScoreRemoved=!0;break;case"5":o.objectRequirementRemoved=!0;break;case"6":o.addonTitleRemoved=!0;break;case"7":o.addonImageRemoved=!0;break;case"8":o.addonTextRemoved=!0}}}}Vi(e,r,0)}}function Ui(e,t){const o=new x,i=Math.abs(e.multipleUseVariable-1);for(let l=0;l<e.scores.length;l++){const t=e.scores[l];if(void 0===t.isActiveMulMinus&&(t.isActiveMulMinus=[]),Si(t.requireds)&&!t.isActiveMulMinus[i]){const e=no.get(t.id);if(void 0!==e){let l=t.discountIsOn&&void 0!==t.discountScore?t.discountScore:t.value;l=e.allowFloat?l:Math.floor(l),t.multiplyByTimes&&(l*=Math.abs(i)),e.startingSum+=l;let r=o.get(t.id);void 0!==r?o.set(t.id,-l+r):o.set(t.id,-l),t.isActiveMulMinus[i]=!0}}}if(e.multipleUseVariable-=1,0===e.multipleUseVariable?(e.isActive=!1,t.currentChoices-=1,lo.delete(e.id)):(-1===e.multipleUseVariable&&(e.isActive=!0,t.currentChoices+=1),lo.set(e.id,{multiple:e.multipleUseVariable})),e.addToAllowChoice&&void 0!==e.idOfAllowChoice&&void 0!==e.numbAddToAllowChoice)for(let l=0;l<e.idOfAllowChoice.length;l++){const t=so.get(e.idOfAllowChoice[l]);void 0!==t&&(t.allowedChoices-=e.numbAddToAllowChoice)}Vi(e,o,0)}function Gi(e){Wi();const t=e.split(",");for(let o=0;o<t.length;o++){const e=t[o].split(/\/(IMG|WORD|RND)#/)[0].split("/ON#"),i=e.length>1?parseInt(e[1]):0,l=co.get(e[0]);if(void 0!==l){const e=l.choice;if(e.isSelectableMultiple&&e.isMultipleUseVariable)for(let r=0;r<Math.abs(i);r++){const r=t[o].split("/RND#");i>0?zi(r,t):Ui(e,l.row)}else Ni(t[o],t)}}}function Ei(e,t){if(void 0!==e.duplicateRowId&&void 0!==e.duplicateRowPlace){const t=e.duplicateRowId;let o=0;Array.from(so.entries()).forEach(([e])=>{e.split("/D#")[0]===t.split("/D#")[0]&&o++});const i=so.get(e.duplicateRowId),l=so.get(e.duplicateRowPlace),r=`/D#${o}`;if(void 0!==i&&void 0!==l){const t=JSON.parse(JSON.stringify(i));if(t.id=`${t.id.split("/D#")[0]}${r}`,l.isBackpack){app.backpack.splice(l.index+1,0,t);for(let e=l.index+1;e<app.backpack.length;e++)app.backpack[e].index=e}else{app.rows.splice(l.index+1,0,t);for(let e=l.index+1;e<app.rows.length;e++)app.rows[e].index=e}so.set(t.id,t);for(let o=0;o<t.objects.length;o++){const i=t.objects[o];i.id=`${i.id.split("/D#")[0]}${r}`,i.isActive=!1,delete i.forcedActivated;for(let e=0;e<i.scores.length;e++){const t=i.scores[e];t.idx=mi(0,5),fo.add(t.idx),delete t.isActive,delete t.setValue,delete t.discountIsOn,delete t.discountShow,delete t.discountBeforeText,delete t.discountAfterText,delete t.discountScore,delete t.discountScoreCal,delete t.isChangeDiscount,delete t.tmpDisScore,delete t.tmpDiscount,delete t.discountedFrom,delete t.dupTextA,delete t.dupTextB,delete t.discountTextA,delete t.discountTextB,delete t.notStackableDiscount}for(let e=0;e<i.addons.length;e++){i.addons[e].parentId=i.id}if(!e.dRowAddSufReq){for(let e=0;e<i.requireds.length;e++){const t=i.requireds[e];if("id"===t.type){const e=t.reqId.split("/ON#"),o=`${e[0].split("/D#")[0]}${r}`;e.length>1?t.reqId=`${o}/ON#${e[1]}`:t.reqId=o}else if("or"===t.type)for(let e=0;e<t.orRequired.length;e++){const o=t.orRequired[e];if(void 0!==o.req){const e=o.req.split("/ON#"),t=`${e[0].split("/D#")[0]}${r}`;e.length>1?o.req=`${t}/ON#${e[1]}`:o.req=t}}if(void 0!==t.requireds)for(let o=0;o<t.requireds.length;o++){const t=i.requireds[e];if("id"===t.type){const e=t.reqId.split("/ON#"),o=`${e[0].split("/D#")[0]}${r}`;e.length>1?t.reqId=`${o}/ON#${e[1]}`:t.reqId=o}else if("or"===t.type)for(let e=0;e<t.orRequired.length;e++){const o=t.orRequired[e];if(void 0!==o.req){const e=o.req.split("/ON#"),t=`${e[0].split("/D#")[0]}${r}`;e.length>1?o.req=`${t}/ON#${e[1]}`:o.req=t}}}}for(let e=0;e<i.scores.length;e++){const t=i.scores[e];if(void 0!==t.requireds)for(let e=0;e<t.requireds.length;e++){const o=t.requireds[e];if("id"===o.type){const e=o.reqId.split("/ON#"),t=`${e[0].split("/D#")[0]}${r}`;e.length>1?o.reqId=`${t}/ON#${e[1]}`:o.reqId=t}else if("or"===o.type)for(let e=0;e<o.orRequired.length;e++){const t=o.orRequired[e];if(void 0!==t.req){const e=t.req.split("/ON#"),o=`${e[0].split("/D#")[0]}${r}`;e.length>1?t.req=`${o}/ON#${e[1]}`:t.req=o}}}}for(let e=0;e<i.addons.length;e++){const t=i.addons[e];if(void 0!==t.requireds)for(let e=0;e<t.requireds.length;e++){const o=t.requireds[e];if("id"===o.type){const e=o.reqId.split("/ON#"),t=`${e[0].split("/D#")[0]}${r}`;e.length>1?o.reqId=`${t}/ON#${e[1]}`:o.reqId=t}else if("or"===o.type)for(let e=0;e<o.orRequired.length;e++){const t=o.orRequired[e];if(void 0!==t.req){const e=t.req.split("/ON#"),o=`${e[0].split("/D#")[0]}${r}`;e.length>1?t.req=`${o}/ON#${e[1]}`:t.req=o}}}}}if(!e.dRowAddSufFunc){if(i.activateOtherChoice&&void 0!==i.activateThisChoice){const e=i.activateThisChoice.split(",");let t="";for(let o=0;o<e.length;o++){const i=e[o].split("/ON#"),l=`${i[0].split("/D#")[0]}${r}`;i.length>1?t+=`${l}/ON#${i[1]},`:t+=`${l},`}i.activateThisChoice=t}if(i.deactivateOtherChoice&&void 0!==i.deactivateThisChoice){const e=i.deactivateThisChoice.split(",");let t="";for(let o=0;o<e.length;o++){const i=e[o].split("/ON#"),l=`${i[0].split("/D#")[0]}${r}`;i.length>1?t+=`${l}/ON#${i[1]},`:t+=`${l},`}i.deactivateThisChoice=t}if(i.duplicateRow&&void 0!==i.duplicateRowId&&void 0!==i.duplicateRowPlace){const e=i.duplicateRowId,t=i.duplicateRowPlace;i.duplicateRowId=`${e.split("/D")[0]}${r}`,i.duplicateRowPlace=`${t.split("/D")[0]}${r}`}}if(i.backpackBtnRequirement&&(void 0!==app.hideBackpackBtn?app.hideBackpackBtn+=1:delete i.backpackBtnRequirement),co.set(i.id,{choice:i,row:t}),i.groups)for(let e=0;e<i.groups.length;e++){let t=uo.get(i.groups[e]);if(void 0!==t){-1===t.elements.indexOf(i.id)&&t.elements.push(i.id)}}if(i.objectDesignGroups)for(let e=0;e<i.objectDesignGroups.length;e++){let t=mo.get(i.objectDesignGroups[e]);if(void 0!==t){-1===t.elements.indexOf(i.id)&&t.elements.push(i.id)}}}}}}function Hi(e){const t=e.match(/^data:.+;base64,(.+)$/);return t?t[1]:e}function _i(e){return/^data:[a-zA-Z]+\/[a-zA-Z]+;base64,/.test(e)}const Ji=y({selFilterBlur:C.number().optional(),selFilterBright:C.number().optional(),selFilterCont:C.number().optional(),selFilterGray:C.number().optional(),selFilterHue:C.number().optional(),selFilterInvert:C.number().optional(),selFilterOpac:C.number().optional(),selFilterSatur:C.number().optional(),selFilterSepia:C.number().optional(),reqFilterBlur:C.number().optional(),reqFilterBright:C.number().optional(),reqFilterCont:C.number().optional(),reqFilterGray:C.number().optional(),reqFilterHue:C.number().optional(),reqFilterInvert:C.number().optional(),reqFilterOpac:C.number().optional(),reqFilterSatur:C.number().optional(),reqFilterSepia:C.number().optional(),unselFilterBlur:C.number().optional(),unselFilterBright:C.number().optional(),unselFilterCont:C.number().optional(),unselFilterGray:C.number().optional(),unselFilterHue:C.number().optional(),unselFilterInvert:C.number().optional(),unselFilterOpac:C.number().optional(),unselFilterSatur:C.number().optional(),unselFilterSepia:C.number().optional()}).passthrough(),Yi=y({rowTitleTextSize:C.number().optional(),rowTextTextSize:C.number().optional(),objectTitleTextSize:C.number().optional(),objectTextTextSize:C.number().optional(),addonTitleTextSize:C.number().optional(),addonTextTextSize:C.number().optional(),scoreTextSize:C.number().optional()}).passthrough(),Xi=y({objectImgBorderWidth:C.number().optional(),objectImageWidth:C.number().optional(),objectImageMarginTop:C.number().optional(),objectImageMarginBottom:C.number().optional(),objectImgBorderRadiusTopLeft:C.number().optional(),objectImgBorderRadiusTopRight:C.number().optional(),objectImgBorderRadiusBottomRight:C.number().optional(),objectImgBorderRadiusBottomLeft:C.number().optional(),objectImageBoxWidth:C.number().optional()}).passthrough(),Zi=y({rowImgBorderWidth:C.number().optional(),rowImageWidth:C.number().optional(),rowImageMarginTop:C.number().optional(),rowImageMarginBottom:C.number().optional(),rowImgBorderRadiusTopLeft:C.number().optional(),rowImgBorderRadiusTopRight:C.number().optional(),rowImgBorderRadiusBottomRight:C.number().optional(),rowImgBorderRadiusBottomLeft:C.number().optional(),rowImageBoxWidth:C.number().optional()}).passthrough(),Ki=y({addonImgBorderWidth:C.number().optional(),addonImageWidth:C.number().optional(),addonImageMarginTop:C.number().optional(),addonImageMarginBottom:C.number().optional(),addonImgBorderRadiusTopLeft:C.number().optional(),addonImgBorderRadiusTopRight:C.number().optional(),addonImgBorderRadiusBottomRight:C.number().optional(),addonImgBorderRadiusBottomLeft:C.number().optional(),addonImageBoxWidth:C.number().optional()}).passthrough(),Qi=y({objectMargin:C.number().optional(),objectTextPadding:C.number().optional(),objectBorderWidth:C.number().optional(),objectDropShadowH:C.number().optional(),objectDropShadowV:C.number().optional(),objectDropShadowBlur:C.number().optional(),objectDropShadowSpread:C.number().optional(),objectBorderRadiusTopLeft:C.number().optional(),objectBorderRadiusTopRight:C.number().optional(),objectBorderRadiusBottomRight:C.number().optional(),objectBorderRadiusBottomLeft:C.number().optional(),objectBorderImageWidth:C.number().optional(),objectBorderImageSliceTop:C.number().optional(),objectBorderImageSliceBottom:C.number().optional(),objectBorderImageSliceLeft:C.number().optional(),objectBorderImageSliceRight:C.number().optional()}).passthrough(),el=y({rowMargin:C.number().optional(),rowBodyMarginSides:C.number().optional(),rowBodyMarginTop:C.number().optional(),rowBodyMarginBottom:C.number().optional(),rowTextPaddingY:C.number().optional(),rowTextPaddingX:C.number().optional(),rowDropShadowH:C.number().optional(),rowDropShadowV:C.number().optional(),rowDropShadowBlur:C.number().optional(),rowDropShadowSpread:C.number().optional(),rowButtonXPadding:C.number().optional(),rowButtonYPadding:C.number().optional(),rowBorderRadiusTopLeft:C.number().optional(),rowBorderRadiusTopRight:C.number().optional(),rowBorderRadiusBottomRight:C.number().optional(),rowBorderRadiusBottomLeft:C.number().optional(),rowBorderWidth:C.number().optional(),rowBorderImageWidth:C.number().optional(),rowBorderImageSliceTop:C.number().optional(),rowBorderImageSliceBottom:C.number().optional(),rowBorderImageSliceLeft:C.number().optional(),rowBorderImageSliceRight:C.number().optional()}).passthrough(),tl=y({addonMargin:C.number().optional(),addonTextPadding:C.number().optional(),addonBorderWidth:C.number().optional(),addonDropShadowH:C.number().optional(),addonDropShadowV:C.number().optional(),addonDropShadowBlur:C.number().optional(),addonDropShadowSpread:C.number().optional(),addonBorderRadiusTopLeft:C.number().optional(),addonBorderRadiusTopRight:C.number().optional(),addonBorderRadiusBottomRight:C.number().optional(),addonBorderRadiusBottomLeft:C.number().optional(),addonBorderImageWidth:C.number().optional(),addonBorderImageSliceTop:C.number().optional(),addonBorderImageSliceBottom:C.number().optional(),addonBorderImageSliceLeft:C.number().optional(),addonBorderImageSliceRight:C.number().optional()}).passthrough(),ol=y({multiChoiceCounterPosition:C.number().optional(),multiChoiceCounterSize:C.number().optional(),multiChoiceTextSize:C.number().optional()}).passthrough(),il=y({barTextPadding:C.number().optional(),barTextMargin:C.number().optional(),barPadding:C.number().optional(),barMargin:C.number().optional(),barTextSize:C.number().optional()}).passthrough(),ll=y({backPackWidth:C.number().optional()}).passthrough(),rl=Ji.merge(Yi).merge(Xi).merge(Zi).merge(Ki).merge(Qi).merge(el).merge(tl).merge(ol).merge(il).merge(ll).passthrough(),al=y({template:C.number().optional()}).passthrough(),nl=y({value:C.number().optional(),minValue:C.number().optional(),maxValue:C.number().optional(),discountScore:C.number().optional(),discountScoreCal:C.number().optional(),tmpDisScore:C.number().optional()}).passthrough(),sl=y({index:C.number().optional(),template:C.number().optional(),multipleUseVariable:C.number().optional(),initMultipleTimesMinus:C.number().optional(),selectedThisManyTimesProp:C.number().optional(),defaultAspectWidth:C.number().optional(),defaultAspectHeight:C.number().optional(),addons:B(al).optional(),scores:B(nl).optional(),styling:rl.optional().optional(),numMultipleTimesMinus:C.number().optional(),numMultipleTimesPluss:C.number().optional(),numActivateRandom:C.number().optional(),discountLowLimit:C.number().optional(),discountValue:C.number().optional(),numbAddToAllowChoice:C.number().optional(),bgmFadeInSec:C.number().optional(),bgmFadeOutSec:C.number().optional(),fadeTransitionTime:C.number().optional(),divideWithThis:C.number().optional(),activatedFrom:C.number().optional()}).passthrough(),dl=y({index:C.number().optional(),template:C.number().optional(),buttonRandomNumber:C.number().optional(),defaultAspectWidth:C.number().optional(),defaultAspectHeight:C.number().optional(),allowedChoices:C.number().optional(),currentChoices:C.number().optional(),objects:B(sl).optional(),styling:rl.optional(),objectImgObjectFillHeight:C.number().optional(),randomMin:C.number().optional(),randomMax:C.number().optional()}).passthrough(),cl=y({startingSum:C.number().optional(),initValue:C.number().optional(),iconWidth:C.number().optional(),iconHeight:C.number().optional(),negativeIconWidth:C.number().optional(),negativeIconHeight:C.number().optional()}).passthrough(),ul=y({styling:rl.optional()}).passthrough(),gl=y({styling:rl.optional()}).passthrough(),vl=y({curVolume:C.number().optional(),fadeTransitionTime:C.number().optional(),hideBackpackBtn:C.number().optional(),btnBackpackIsOn:C.number().optional(),rowIdLength:C.number().optional(),objectIdLength:C.number().optional(),rowDesignGroups:B(ul).optional(),objectDesignGroups:B(gl).optional(),rows:B(dl).optional(),pointTypes:B(cl).optional(),backpack:B(dl).optional(),styling:rl.optional()}).passthrough(),hl=["autoSaveInterval","bgmFadeInterval","bgmFadeTimer","bgmIsPlaying","bgmObjectId","bgmPlayInterval","bgmTitle","bgmTitleInterval","cancelForcedActivated","comp","compG","compODG","compR","compRDG","curBgmTime","curBgmLength","isSeeking","isFadingOut","lastFadeTime","objectMap","pointTypeMap","wordMap"];function pl(e){if(Array.isArray(e))return e.map(pl).filter(e=>null!==e&&!("object"==typeof e&&0===Object.keys(e).length));if(e&&"object"==typeof e){const t={},o=Object.keys(e);for(let i=0;i<o.length;i++){const l=o[i],r=pl(e[l]);null!==r&&(t[l]=r)}return Object.keys(t).length>0?t:null}return e}function ml(e){e.isPrivateStyling&&e.privateFilterIsOn&&void 0!==e.styling&&(void 0===e.styling.unselFilterBlurIsOn&&(e.styling.unselFilterBlurIsOn=!1),void 0===e.styling.unselFilterBlur&&(e.styling.unselFilterBlur=0),void 0===e.styling.unselFilterBrightIsOn&&(e.styling.unselFilterBrightIsOn=!1),void 0===e.styling.unselFilterBright&&(e.styling.unselFilterBright=100),void 0===e.styling.unselFilterCont&&(e.styling.unselFilterCont=100),void 0===e.styling.unselFilterGrayIsOn&&(e.styling.unselFilterGrayIsOn=!1),void 0===e.styling.unselFilterGray&&(e.styling.unselFilterGray=0),void 0===e.styling.unselFilterHueIsOn&&(e.styling.unselFilterHueIsOn=!1),void 0===e.styling.unselFilterHue&&(e.styling.unselFilterHue=0),void 0===e.styling.unselFilterInvertIsOn&&(e.styling.unselFilterInvertIsOn=!1),void 0===e.styling.unselFilterInvert&&(e.styling.unselFilterInvert=0),void 0===e.styling.unselFilterOpacIsOn&&(e.styling.unselFilterOpacIsOn=!1),void 0===e.styling.unselFilterOpac&&(e.styling.unselFilterOpac=100),void 0===e.styling.unselFilterSaturIsOn&&(e.styling.unselFilterSaturIsOn=!1),void 0===e.styling.unselFilterSatur&&(e.styling.unselFilterSatur=0),void 0===e.styling.unselFilterSepiaIsOn&&(e.styling.unselFilterSepiaIsOn=!1),void 0===e.styling.unselFilterSepia&&(e.styling.unselFilterSepia=0))}function fl(e,t){e.isPrivateStyling&&void 0===e.privateFilterIsOn&&void 0!==e.styling&&Object.keys(Gt).forEach(t=>{e.styling.hasOwnProperty(t)?e.privateFilterIsOn=!0:e.privateFilterIsOn=!1}),e.isPrivateStyling&&void 0===e.privateTextIsOn&&void 0!==e.styling&&Object.keys(Et).forEach(t=>{e.styling.hasOwnProperty(t)?e.privateTextIsOn=!0:e.privateTextIsOn=!1}),e.isPrivateStyling&&void 0===e.privateObjectImageIsOn&&void 0!==e.styling&&Object.keys(Ht).forEach(t=>{e.styling.hasOwnProperty(t)?e.privateObjectImageIsOn=!0:e.privateObjectImageIsOn=!1}),e.isPrivateStyling&&void 0===e.privateObjectIsOn&&void 0!==e.styling&&Object.keys(Xt).forEach(t=>{e.styling.hasOwnProperty(t)?e.privateObjectIsOn=!0:e.privateObjectIsOn=!1}),e.isPrivateStyling&&void 0===e.privateAddonImageIsOn&&void 0!==e.styling&&Object.keys(Jt).forEach(t=>{e.styling.hasOwnProperty(t)?e.privateAddonImageIsOn=!0:e.privateAddonImageIsOn=!1}),e.isPrivateStyling&&void 0===e.privateAddonIsOn&&void 0!==e.styling&&Object.keys(Kt).forEach(t=>{e.styling.hasOwnProperty(t)?e.privateAddonIsOn=!0:e.privateAddonIsOn=!1}),e.isPrivateStyling&&void 0===e.privateBackgroundIsOn&&void 0!==e.styling&&Object.keys(Yt).forEach(t=>{e.styling.hasOwnProperty(t)?e.privateBackgroundIsOn=!0:e.privateBackgroundIsOn=!1}),t&&(e.isPrivateStyling&&void 0===e.privateRowImageIsOn&&void 0!==e.styling&&Object.keys(_t).forEach(t=>{e.styling.hasOwnProperty(t)?e.privateRowImageIsOn=!0:e.privateRowImageIsOn=!1}),e.isPrivateStyling&&void 0===e.privateRowIsOn&&void 0!==e.styling&&Object.keys(Zt).forEach(t=>{e.styling.hasOwnProperty(t)?e.privateRowIsOn=!0:e.privateRowIsOn=!1})),ml(e),e.isPrivateStyling||void 0===e.styling||(void 0!==e.styling.objectImgObjectFillHeight&&(e.objectImgObjectFillHeight=e.styling.objectImgObjectFillHeight),delete e.styling)}async function bl(e){if(e){const t=e[0],o="application/json"===t.type?"json":"application/x-zip-compressed"===t.type?"zip":"error",i=new FileReader;Co.labelText="Loading data...",Co.isOpen=!0,i.onload=async()=>{try{if(!i.result)return;if("json"===o){const e=pl(JSON.parse(i.result)),t=vl.safeParse(e);t.success?(wl(t.data),Co.labelText="Data loaded successfully.",Co.isOpen=!0):(Co.labelText="Failed to load data.",Co.isOpen=!0,console.error(t.error))}else if("zip"===o){const e=await(new R).loadAsync(i.result),t=[],o=new Map;let l;if(Object.keys(e.files).forEach(i=>{const r=e.files[i];i.endsWith(".json")?l=r:/\.[^\.]+$/.test(i)&&t.push(r.async("blob").then(e=>new Promise(t=>{const l=new FileReader;l.onload=()=>{const e=function(e){const t=e.split(".").pop()?.toLowerCase(),o={jpg:"image/jpeg",svg:"image/svg+xml",ico:"image/x-icon"};return t?o[t]||`image/${t}`:"application/octet-stream"}(i),r=l.result.replace("data:application/octet-stream",`data:${e}`);o.set(i,r),t()},l.readAsDataURL(e)})))}),await Promise.all(t),l){const e=await l.async("string"),t=pl(JSON.parse(e)),i=vl.safeParse(t);i.success?(wl(i.data),function(e){const t=["backgroundImage","rowBackgroundImage","objectBackgroundImage","addonBackgroundImage","rowBorderImage","objectBorderImage","addonBorderImage"],o=["image"],i=["image","bgImage"];Il(app.styling,t,e);for(let l=0;l<app.rows.length;l++){const r=app.rows[l];void 0!==r.styling&&Il(r.styling,t,e),Il(r,o,e);for(let l=0;l<r.objects.length;l++){const a=r.objects[l];void 0!==a.styling&&Il(a.styling,t,e),Il(a,i,e);for(let t=0;t<a.addons.length;t++){Il(a.addons[t],o,e)}}}for(let l=0;l<app.backpack.length;l++){const r=app.backpack[l];void 0!==r.styling&&Il(r.styling,t,e),Il(r,o,e);for(let l=0;l<r.objects.length;l++){const a=r.objects[l];void 0!==a.styling&&Il(a.styling,t,e),Il(a,i,e);for(let t=0;t<a.addons.length;t++){Il(a.addons[t],o,e)}}}if(void 0!==app.rowDesignGroups)for(let l=0;l<app.rowDesignGroups.length;l++){const o=app.rowDesignGroups[l];void 0!==o.styling&&Il(o.styling,t,e)}if(void 0!==app.objectDesignGroups)for(let l=0;l<app.objectDesignGroups.length;l++){const o=app.objectDesignGroups[l];void 0!==o.styling&&Il(o.styling,t,e)}}(o),Co.labelText="Data loaded successfully.",Co.isOpen=!0):(Co.labelText="Failed to load data.",Co.isOpen=!0,console.error(i.error))}}}catch(e){Co.labelText="Failed to load data.",Co.isOpen=!0,console.error(e)}},"json"===o?i.readAsText(t):"zip"===o?i.readAsArrayBuffer(t):(Co.labelText="Invalid file type.",Co.isOpen=!0)}}function wl(e){const t=Object.keys(e);for(let l=0;l<t.length;l++){const o=t[l];if(-1!==hl.indexOf(o))delete e[o];else if(Array.isArray(e[o])){if("rows"===o||"backpack"===o)for(let t=0;t<e[o].length;t++){const i=e[o][t];if(i.index=t,"backpack"===o&&(i.isBackpack=!0),fl(i,!0),void 0!==i.styling&&Ai(i.styling,void 0===e.version||"2.0.0-beta"===e.version),void 0!==i.rowDesignGroups)for(let e=0;e<i.rowDesignGroups.length;e++)"object"==typeof i.rowDesignGroups[e]&&(i.rowDesignGroups[e]=i.rowDesignGroups[e].id);if(void 0!==i.objects)for(let t=0;t<i.objects.length;t++){const o=i.objects[t];if(o.index=t,fl(o,!1),void 0!==o.styling&&Ai(o.styling,void 0===e.version||"2.0.0-beta"===e.version),o.multiplyPointtypeIsOn&&("string"==typeof o.pointTypeToMultiply&&(o.pointTypeToMultiply=[o.pointTypeToMultiply]),"number"==typeof o.startingSumAtMultiply&&(o.startingSumAtMultiply=[o.startingSumAtMultiply])),o.dividePointtypeIsOn&&("string"==typeof o.pointTypeToDivide&&(o.pointTypeToDivide=[o.pointTypeToDivide]),"number"==typeof o.startingSumAtDivide&&(o.startingSumAtDivide=[o.startingSumAtDivide])),o.fadeTransitionIsOn&&void 0!==o.fadeTransitionTime&&(o.fadeInTransitionTime=o.fadeTransitionTime,o.fadeOutTransitionTime=o.fadeTransitionTime,delete o.fadeTransitionTime),o.addToAllowChoice&&"string"==typeof o.idOfAllowChoice&&(o.idOfAllowChoice=[o.idOfAllowChoice]),void 0!==o.groups)for(let e=0;e<o.groups.length;e++)"object"==typeof o.groups[e]&&(o.groups[e]=o.groups[e].id);if(void 0!==o.objectDesignGroups)for(let e=0;e<o.objectDesignGroups.length;e++)"object"==typeof o.objectDesignGroups[e]&&(o.objectDesignGroups[e]=o.objectDesignGroups[e].id);for(let e=0;e<o.addons.length;e++){const t=o.addons[e];void 0!==t.template&&0!==t.template||(t.template=1),t.parentId=o.id}}}else if("objectDesignGroups"===o||"rowDesignGroups"===o)for(let t=0;t<e[o].length;t++){const i=e[o][t];void 0===i.activatedId&&(i.activatedId=""),void 0===i.elements&&(i.elements=[]),void 0===i.backpackElements&&(i.backpackElements=[]);for(let e=0;e<i.elements.length;e++)"object"==typeof i.elements[e]&&(i.elements[e]=i.elements[e].id);for(let e=0;e<i.backpackElements.length;e++)"object"==typeof i.backpackElements[e]&&(i.backpackElements[e]=i.backpackElements[e].id);ml(i),Ai(i.styling,void 0===e.version||"2.0.0-beta"===e.version)}else if("pointTypes"===o)for(let t=0;t<e[o].length;t++){const i=e[o][t];void 0===i.initValue&&(i.initValue=i.startingSum),"object"==typeof i.positiveColor&&void 0!==i.positiveColor.hexa&&(i.positiveColor=i.positiveColor.hexa),"object"==typeof i.negativeColor&&void 0!==i.negativeColor.hexa&&(i.negativeColor=i.negativeColor.hexa),"object"==typeof i.privateColor&&void 0!==i.privateColor.hexa&&(i.privateColor=i.privateColor.hexa),"object"==typeof i.privateNegativeColor&&void 0!==i.privateNegativeColor.hexa&&(i.privateNegativeColor=i.privateNegativeColor.hexa)}else if("groups"===o)for(let t=0;t<e[o].length;t++){const i=e[o][t];void 0===i.elements&&(i.elements=[]),void 0===i.rowElements&&(i.rowElements=[]);for(let e=0;e<i.elements.length;e++)"object"==typeof i.elements[e]&&(i.elements[e]=i.elements[e].id);for(let e=0;e<i.rowElements.length;e++)"object"==typeof i.rowElements[e]&&(i.rowElements[e]=i.rowElements[e].id)}}else"object"==typeof e[o]&&"styling"===o&&Ai(e[o],void 0===e.version||"2.0.0-beta"===e.version,!0)}lo.clear(),no.clear(),so.clear(),co.clear(),uo.clear(),go.clear(),vo.clear(),ho.clear(),po.clear(),mo.clear(),bo.splice(0),fo.clear(),0!==To.bgmTitleInterval&&(window.clearInterval(To.bgmTitleInterval),To.bgmTitleInterval=0),0!==To.bgmPlayInterval&&(window.clearInterval(To.bgmPlayInterval),To.bgmPlayInterval=0),0!==To.bgmFadeInterval&&(window.clearInterval(To.bgmFadeInterval),To.bgmFadeInterval=0),0!==To.bgmFadeTimer&&(window.clearTimeout(To.bgmFadeTimer),To.bgmFadeTimer=0),To.isBgmInit=!1,To.bgmIsPlaying=!1,To.bgmTitle="No Audio Title",To.curBgmTime=0,To.curBgmLength=0,To.isSeeking=!1,To.lastFadeTime=0,To.isFadingOut=!1,To.bgmObjectId="",$o.update(e=>(e?.destroy(),null));const o=Object.keys(oo);for(let l=0;l<o.length;l++){const e=o[l];oo.hasOwnProperty(e)?app[e]=oo[e]:delete app[e]}const i=Object.keys(e);for(let l=0;l<i.length;l++){const t=i[l];app[t]=e[t]}for(let l=0;l<app.googleFonts.length;l++){const e=app.googleFonts[l].replace(/ /g,"+"),t=`https://fonts.googleapis.com/css2?family=${e}&display=swap`,o=document.createElement("link");o.id=e,o.rel="stylesheet",o.href=t,o.crossOrigin="anonymous",document.head.appendChild(o),ao.push(app.googleFonts[l])}for(let l=0;l<app.customFonts.length;l++){const e=app.customFonts[l],t=document.createElement("link");t.id=e,t.rel="stylesheet",t.href=e,t.crossOrigin="anonymous",document.head.appendChild(t)}for(let l=0;l<app.pointTypes.length;l++){const e=app.pointTypes[l];void 0!==e.id&&""!==e.id||(e.id=hi(0,4)),e.id=Ti(e.id,no),void 0===e.initValue&&(e.initValue=e.startingSum),void 0===e.isNotShownObjects&&""!==e.activatedId&&(e.isNotShownObjects=!0),void 0===e.isNotShownPointBar&&""!==e.activatedId&&(e.isNotShownPointBar=!0),no.set(e.id,e)}for(let l=0;l<app.rows.length;l++){const e=app.rows[l];void 0!==e.id&&""!==e.id||(e.id=di(0,4)),e.id=Ti(e.id,so),so.set(e.id,e);for(let t=0;t<e.objects.length;t++){const o=e.objects[t];void 0!==o.id&&""!==o.id||(o.id=ui(0,4)),o.id=Ti(o.id,co),co.set(o.id,{choice:o,row:e});for(let e=0;e<o.scores.length;e++){const t=o.scores[e];void 0!==t.idx&&""!==t.idx||(t.idx=mi(0,5)),t.idx=Ti(t.idx,fo),fo.add(t.idx)}}}for(let l=0;l<app.backpack.length;l++){const e=app.backpack[l];void 0!==e.id&&""!==e.id||(e.id=di(0,4)),e.id=Ti(e.id,so),so.set(e.id,e);for(let t=0;t<e.objects.length;t++){const o=e.objects[t];void 0!==o.id&&""!==o.id||(o.id=ui(0,4)),o.id=Ti(o.id,co),co.set(o.id,{choice:o,row:e});for(let e=0;e<o.scores.length;e++){const t=o.scores[e];void 0!==t.idx&&""!==t.idx||(t.idx=mi(0,5)),t.idx=Ti(t.idx,fo),fo.add(t.idx)}}}for(let l=0;l<app.groups.length;l++){const e=app.groups[l];void 0!==e.id&&""!==e.id||(e.id=vi(0,4)),e.id=Ti(e.id,uo),uo.set(e.id,app.groups[l])}for(let l=0;l<app.words.length;l++){const e=app.words[l];void 0!==e.id&&""!==e.id||(e.id=ci(0,4)),e.id=Ti(e.id,vo),vo.set(e.id,app.words[l])}for(let l=0;l<app.variables.length;l++){const e=app.variables[l];void 0!==e.id&&""!==e.id||(e.id=pi(0,4)),e.id=Ti(e.id,ho),ho.set(e.id,app.variables[l])}if(void 0!==app.rowDesignGroups)for(let l=0;l<app.rowDesignGroups.length;l++){const e=app.rowDesignGroups[l];void 0!==e.id&&""!==e.id||(e.id=gi(0,4)),e.id=Ti(e.id,po),po.set(e.id,e)}if(void 0!==app.objectDesignGroups)for(let l=0;l<app.objectDesignGroups.length;l++){const e=app.objectDesignGroups[l];void 0!==e.id&&""!==e.id||(e.id=gi(0,4)),e.id=Ti(e.id,mo),mo.set(app.objectDesignGroups[l].id,app.objectDesignGroups[l])}if(void 0!==app.globalRequirements)for(let l=0;l<app.globalRequirements.length;l++){const e=app.globalRequirements[l];go.set(e.id,e)}app.activated.length>0&&Gi(app.activated.join(",")),void 0!==app.customCSS&&Ml(app.customCSS),app.autoSaveIsOn&&(Ho&&Ho.abort(),Yo()),app.buildAutoSaveIsOn&&(_o&&_o.abort(),Xo()),"boolean"!=typeof app.isMute&&(app.curVolume=100,app.isMute=!1),window.removeEventListener("keydown",Sl),app.enableShortcut&&window.addEventListener("keydown",Sl)}function Il(e,t,o){for(let i=0;i<t.length;i++){const l=t[i];if("string"==typeof e[l]){const t=o.get(e[l]);t&&(e[l]=t)}}}async function xl(e){const t=e.querySelectorAll("img"),o=Array.from(t).map(e=>e.complete?Promise.resolve():new Promise(t=>{e.onload=t,e.onerror=t}));return Promise.all(o).then(()=>{})}function $l(e){e.querySelectorAll("img").forEach(e=>{"lazy"===e.loading&&(e.loading="eager")})}async function Tl(e){const t=e.querySelectorAll("*"),o=[];t.forEach(e=>{const t=getComputedStyle(e).borderImageSource.match(/url\(["']?(.*?)["']?\)/);t&&t[1]&&o.push(t[1])});const i=o.map(e=>new Promise(t=>{const o=new Image;o.src=e,o.onload=t,o.onerror=t}));await Promise.all(i)}function yl(e=2){return new Promise(t=>{let o=0;requestAnimationFrame(function i(){if(++o>=e)return t();requestAnimationFrame(i)})})}async function Cl(e){if(e){let o=[];try{Co.labelText="Downloading image...",Co.isOpen=!0,$l(e),await xl(e),e.querySelectorAll("span.d-flex").forEach(e=>{const t=e;!t.style.height&&t.offsetHeight>0&&(t.style.height=`${t.offsetHeight+1}px`,o.push(t))});const i=(await zt.maxArea({usePromise:!0})).height,l=e.offsetHeight,r=e.offsetWidth;if(!Bo.isSingleFile&&l>i){let o=0,a=1;const n=Math.ceil(l/i);for(;o<l;){const s=Math.min(i,l-o),d=document.createElement("div");Co.labelText=`Splitting large image...(${a} / ${n})`,Co.isOpen=!0,app.styling.useBackpackDesign?(app.styling.backpackBgImage&&(d.style.backgroundImage=app.styling.backpackBgImage),app.styling.backpackBgColor&&(d.style.backgroundColor=Pl(app.styling.backpackBgColor)),app.styling.isBackpackBgRepeat?d.style.backgroundRepeat="repeat":app.styling.isBackpackBgFitIn?d.style.backgroundSize="100% 100%":d.style.backgroundSize="cover"):(app.styling.backgroundImage&&(d.style.backgroundImage=app.styling.backgroundImage),app.styling.backgroundColor&&(d.style.backgroundColor=Pl(app.styling.backgroundColor)),app.styling.isBackgroundRepeat?d.style.backgroundRepeat="repeat":app.styling.isBackgroundFitIn?d.style.backgroundSize="100% 100%":d.style.backgroundSize="cover"),e.parentElement&&e.parentElement.classList.contains("mdc-dialog__content")&&d.classList.add("backpack-wrapper"),d.style.width=`${r}px`,d.style.height=`${s}px`,d.style.overflow="hidden",d.style.position="absolute",d.style.display="block",d.style.top="0",d.style.left="0",d.style.zIndex="-9999",d.style.pointerEvents="none";const c=e.cloneNode(!0);$l(c),c.style.position="relative",c.style.top=`-${o}px`,d.appendChild(c),document.body.appendChild(d),await xl(d),await Tl(d),await yl(5);try{const e=await F(d,{filter:e=>!e.classList?.contains("mdc-top-app-bar")&&!e.classList?.contains("hidden")&&e.nodeType!==Node.COMMENT_NODE});if(!e)throw new Error("blob creation failed");const t=URL.createObjectURL(e),o=document.createElement("a");o.href=t,o.download=`Build_${ti()}_part${a++}.png`,o.target="_blank",o.click(),setTimeout(()=>{URL.revokeObjectURL(t)},1e3)}catch(t){Co.labelText="Download failed: Restricted content detected.",Co.isOpen=!0,console.error(t)}finally{document.body.removeChild(d)}o+=i}Co.labelText="Image downloads complete.",Co.isOpen=!0}else{const t=await F(e,{filter:e=>!e.classList?.contains("mdc-top-app-bar")&&!e.classList?.contains("hidden")&&e.nodeType!==Node.COMMENT_NODE});if(!t)throw new Error("blob creation failed");const o=URL.createObjectURL(t),i=document.createElement("a");i.href=o,i.download=`Build_${ti()}.png`,i.target="_blank",i.click(),setTimeout(()=>{URL.revokeObjectURL(o)},1e3),Co.labelText="Image download complete.",Co.isOpen=!0}}catch(t){Co.labelText="Download failed: Restricted content detected.",Co.isOpen=!0,console.error(t)}finally{for(let e=0;e<o.length;e++){const t=o[e];t.style.removeProperty("height"),""===t.getAttribute("style")?.trim()&&t.removeAttribute("style")}}}else Co.labelText="Download failed: Cannot find window.",Co.isOpen=!0}function Bl(){if(!window.matchMedia)return!1;try{return"not all"!==window.matchMedia("(prefers-color-scheme: dark)").media}catch(e){return!1}}function Sl(e){if(e.altKey)switch(e.key){case"1":wo.value="appCyoaCreator",document.body.classList.remove("mdc-dialog-scroll-lock");break;case"2":wo.value="appCyoaViewer",document.body.classList.remove("mdc-dialog-scroll-lock");break;case"3":wo.value="appInformation",document.body.classList.remove("mdc-dialog-scroll-lock")}}function kl(e,t,o){void 0===e.templateStack&&(e.templateStack=[],e.defaultTemplate=void 0!==e.template?e.template:1),e.templateStack.push({id:t,data:o}),e.template=o}function Ol(e,t){if(void 0!==e.templateStack){const o=e.templateStack.findIndex(e=>e.id===t);-1!==o&&e.templateStack.splice(o,1);const i=e.templateStack.length;i>0?e.template=e.templateStack[i-1].data:(e.template=void 0!==e.defaultTemplate?e.defaultTemplate:1,delete e.templateStack)}}function Fl(e,t,o){void 0===e.widthStack&&(e.widthStack=[],e.defaultWidth=void 0!==e.width?e.width:"col-md-3"),e.widthStack.push({id:t,data:o}),e.width=o}function Rl(e,t){if(void 0!==e.widthStack){const o=e.widthStack.findIndex(e=>e.id===t);-1!==o&&e.widthStack.splice(o,1);const i=e.widthStack.length;i>0?e.width=e.widthStack[i-1].data:(e.width=void 0!==e.defaultWidth?e.defaultWidth:"col-md-3",delete e.widthStack)}}function Al(e){const t=navigator.language,o=Intl.DateTimeFormat().resolvedOptions().timeZone,i=new Date(e);return new Intl.DateTimeFormat(t,{timeZone:o,dateStyle:"medium"}).format(i)}function jl(e,t,o){let i=0;t.scrollTo({top:t.scrollHeight,behavior:"smooth"}),function t(){e.getVirtualItems().find(e=>e.index===o)?e.scrollToIndex(o,{align:"end",behavior:"smooth"}):i<10&&(i++,requestAnimationFrame(t))}()}function Ml(e){let t=document.getElementById("customCSS");t?""===e?(t.remove(),delete app.customCSS):(t.textContent=e,app.customCSS=e):(t=document.createElement("style"),t.id="customCSS",t.textContent=e,app.customCSS=e,document.head.appendChild(t))}const Dl=CSS.supports("color","#00000080");function Pl(e){if(void 0===e)return"";if(Dl||!/^#([\da-f]{8})$/i.test(e))return e;return`rgba(${parseInt(e.slice(1,3),16)}, ${parseInt(e.slice(3,5),16)}, ${parseInt(e.slice(5,7),16)}, ${(parseInt(e.slice(7,9),16)/255).toFixed(3)})`}var ql=n("<input/>");function Ll(i,l){t(l,!0);let r,a=h(l,"use",19,()=>[]),n=h(l,"class",3,""),s=h(l,"type",3,"text"),c=h(l,"placeholder",3," "),v=h(l,"value",15),m=h(l,"files",15,null),f=h(l,"dirty",15,!1),b=h(l,"invalid",15,!1),w=h(l,"updateInvalid",3,!0),I=h(l,"initialInvalid",3,!1),x=h(l,"emptyValueNull",19,()=>null===v()),$=h(l,"emptyValueUndefined",19,()=>void 0===v()),T=h(l,"step",3,"any"),y=P(l,["$$slots","$$events","$$legacy","use","class","type","placeholder","value","files","dirty","invalid","updateInvalid","initialInvalid","emptyValueNull","emptyValueUndefined","step"]),C=e({}),B=e({});function S(e){return""===e?Number.NaN:+e}function k(e){if("file"!==s())if(""===e.currentTarget.value&&x())v(null);else if(""===e.currentTarget.value&&$())v(void 0);else switch(s()){case"number":v(S(e.currentTarget.value)),""!==e.currentTarget.value&&"0"!==e.currentTarget.value||("-"===e.data?(v("-0"),e.target.value="-0"):"deleteContentBackward"===e.inputType||"insertFromPaste"!==e.inputType||isNaN(parseInt(e.data))?(v("0"),e.target.value="0"):(v(parseFloat(e.data)),e.target.value=parseFloat(e.data)));break;case"range":v(S(e.currentTarget.value));break;default:v(e.currentTarget.value)}else m(e.currentTarget.files)}function O(){return r}o(()=>{"file"===s()?delete B.value:B.value=null==v()?"":v()}),p(()=>{w()&&I()&&b(O().matches(":invalid"))});var F=ql(),R=e=>{"file"!==s()&&k(e),l.oninput?.(e)},A=e=>{!function(e){"file"!==s()&&"range"!==s()||k(e),f(!0),w()&&b(O().matches(":invalid"))}(e),l.onchange?.(e)};return q(F,e=>({class:e,type:s(),placeholder:c(),...B,...C,step:T(),...y,oninput:R,onchange:A}),[()=>L({[n()]:!0,"mdc-text-field__input":!0})]),d(F,e=>r=e,()=>r),W(F,(e,t)=>V?.(e,t),a),u(i,F),g({getAttr:function(e){return e in C?void 0!==C[e]?C[e]:null:O().getAttribute(e)},addAttr:function(e,t){C[e]!==t&&(C[e]=t)},removeAttr:function(e){e in C&&null==C[e]||(C[e]=void 0)},focus:function(){O().focus()},blur:function(){O().blur()},getElement:O})}var Wl=n("<textarea></textarea>");function Vl(o,i){t(i,!0);let l,r=h(i,"use",19,()=>[]),a=h(i,"class",3,""),n=h(i,"style",3,""),s=h(i,"value",15,""),c=h(i,"dirty",15,!1),v=h(i,"invalid",15,!1),m=h(i,"updateInvalid",3,!0),f=h(i,"initialInvalid",3,!1),b=h(i,"resizable",3,!0),w=P(i,["$$slots","$$events","$$legacy","use","class","style","value","dirty","invalid","updateInvalid","initialInvalid","resizable"]),I=e({});function x(){return l}p(()=>{m()&&f()&&v(x().matches(":invalid"))});var $=Wl(),T=e=>{c(!0),m()&&v(x().matches(":invalid")),i.onchange?.(e)};return q($,e=>({class:e,style:`${b()?"":"resize: none; "}${n()}`,...I,...w,onchange:T}),[()=>L({[a()]:!0,"mdc-text-field__input":!0})]),d($,e=>l=e,()=>l),W($,(e,t)=>V?.(e,t),r),N(()=>z($,s)),u(o,$),g({getAttr:function(e){return e in I?void 0!==I[e]?I[e]:null:x().getAttribute(e)},addAttr:function(e,t){I[e]!==t&&(I[e]=t)},removeAttr:function(e){e in I&&null==I[e]||(I[e]=void 0)},focus:function(){x().focus()},blur:function(){x().blur()},getElement:x})}var Nl=n('<span class="mdc-text-field__ripple"></span>'),zl=n("<!> <!>",1),Ul=n("<span><!> <!></span>"),Gl=n("<!> <!> <!>",1),El=n("<label><!> <!> <!> <!> <!> <!> <!></label>"),Hl=n("<div><!> <!> <!> <!> <!></div>"),_l=n("<!> <!>",1);function Jl(r,n){t(n,!0);const{applyPassive:s}=_;let x=()=>{};function $(e){return e===x}let T=h(n,"use",19,()=>[]),y=h(n,"class",3,""),C=h(n,"style",3,""),B=h(n,"ripple",3,!0),S=h(n,"disabled",3,!1),k=h(n,"required",3,!1),O=h(n,"textarea",3,!1),F=h(n,"variant",19,()=>O()?"outlined":"standard"),R=h(n,"noLabel",3,!1),N=h(n,"type",3,"text"),z=h(n,"value",15),se=h(n,"files",15,x),de=h(n,"invalid",15,x),ce=h(n,"updateInvalid",19,()=>$(de())),ue=h(n,"initialInvalid",3,!1),ge=h(n,"dirty",15,!1),ve=h(n,"validateOnValueChange",19,ce),he=h(n,"useNativeValidation",19,ce),pe=h(n,"withLeadingIcon",3,x),me=h(n,"withTrailingIcon",3,x),fe=h(n,"input",7),be=h(n,"floatingLabel",7),we=h(n,"lineRipple",7),Ie=h(n,"notchedOutline",7),xe=h(n,"alwaysFloat",3,!1),$e=P(n,["$$slots","$$events","$$legacy","use","class","style","ripple","disabled","required","textarea","variant","noLabel","label","type","value","files","invalid","updateInvalid","initialInvalid","dirty","prefix","suffix","validateOnValueChange","useNativeValidation","withLeadingIcon","withTrailingIcon","input","floatingLabel","lineRipple","notchedOutline","children","leadingIcon","trailingIcon","internalCounter","line","helper","alwaysFloat"]);const Te=void 0!==z()||void 0===z()&&n.input$emptyValueUndefined||!$(se());$(se())&&se(null),$(de())&&de(!1);let ye,Ce,Be,Se,ke,Oe,Fe=l(e(document.createElement("div"))),Re=l(void 0),Ae=new H,je=e({}),Me=e({}),De=l(void 0),Pe=l(!1),qe=l(e(ue())),Le=U("SMUI:addLayoutListener"),We=new Promise(e=>Ce=e);const Ve=Q(()=>fe()&&fe().getElement());o(()=>{(ge()||i(qe)||!ce())&&i(Re)&&i(Re).isValid()!==!de()&&(ce()?de(!i(Re).isValid()):i(Re).setValid(!de()))}),o(()=>{i(Re)&&i(Re).getValidateOnValueChange()!==ve()&&i(Re).setValidateOnValueChange(!$(ve())&&ve())}),o(()=>{i(Re)&&i(Re).setUseNativeValidation(!!$(he())||he())}),o(()=>{i(Re)&&i(Re).setDisabled(S())});let Ne=z();function ze(e){return e in je?void 0!==je[e]?je[e]:null:_e().classList.contains(e)}function Ue(e){je[e]||(je[e]=!0)}function Ge(e){e in je&&!je[e]||(je[e]=!1)}function Ee(e,t){Me[e]!=t&&(""===t||null==t?delete Me[e]:Me[e]=t)}function He(){if(i(Re)){const e=i(Re).shouldFloat;i(Re).notchOutline(e)}}function _e(){return i(Fe)}o(()=>{if(i(Re)&&Te&&Ne!==z()){Ne=z();const e=`${null==z()?"":z()}`;i(Re).getValue()!==e&&i(Re).setValue(e)}}),Le&&(ye=Le(He)),G("SMUI:textfield:leading-icon:mount",e=>{Be=e}),G("SMUI:textfield:leading-icon:unmount",()=>{Be=void 0}),G("SMUI:textfield:trailing-icon:mount",e=>{Se=e}),G("SMUI:textfield:trailing-icon:unmount",()=>{Se=void 0}),G("SMUI:textfield:helper-text:id",e=>{c(De,e,!0)}),G("SMUI:textfield:helper-text:mount",e=>{ke=e}),G("SMUI:textfield:helper-text:unmount",()=>{c(De,void 0),ke=void 0}),G("SMUI:textfield:character-counter:mount",e=>{Oe=e}),G("SMUI:textfield:character-counter:unmount",()=>{Oe=void 0}),p(()=>{if(c(Re,new E({addClass:Ue,removeClass:Ge,hasClass:ze,registerTextFieldInteractionHandler:(e,t)=>Ae.on(_e(),e,t),deregisterTextFieldInteractionHandler:(e,t)=>Ae.off(_e(),e,t),registerValidationAttributeChangeHandler:e=>{const t=new MutationObserver(t=>{he()&&e((e=>e.map(e=>e.attributeName).filter(e=>e))(t))}),o={attributes:!0};return fe()&&t.observe(fe().getElement(),o),t},deregisterValidationAttributeChangeHandler:e=>{e.disconnect()},getNativeInput:()=>void 0!==fe()?.getElement()?fe().getElement():null,setInputAttr:(e,t)=>{fe()?.addAttr(e,t)},removeInputAttr:e=>{fe()?.removeAttr(e)},isFocused:()=>document.activeElement===fe()?.getElement(),registerInputInteractionHandler:(e,t)=>{const o=fe()?.getElement();if(o){const i=s();Ae.on(o,e,t,"boolean"==typeof i?{capture:i}:i)}},deregisterInputInteractionHandler:(e,t)=>{const o=fe()?.getElement();o&&Ae.off(o,e,t)},floatLabel:e=>be()&&be().float(e||xe()),getLabelWidth:()=>be()?be().getWidth():0,hasLabel:()=>!!be(),shakeLabel:e=>be()&&be().shake(e),setLabelRequired:e=>be()&&be().setRequired(e),activateLineRipple:()=>we()&&we().activate(),deactivateLineRipple:()=>we()&&we().deactivate(),setLineRippleTransformOrigin:e=>we()&&we().setRippleCenter(e),closeOutline:()=>Ie()&&Ie().closeNotch(),hasOutline:()=>!!Ie(),notchOutline:e=>Ie()&&Ie().notch(e)},{get helperText(){return ke},get characterCounter(){return Oe},get leadingIcon(){return Be},get trailingIcon(){return Se}}),!0),Te){if(null==fe())throw new Error("SMUI Textfield must be initialized with either a non-undefined initial value or an Input component.");i(Re)?.init()}else J().then(()=>{if(null==fe())throw new Error("SMUI Textfield must be initialized with either a non-undefined initial value or an Input component.");i(Re)?.init()});return Ce(),()=>{i(Re)?.destroy(),Ae.clear()}}),a(()=>{ye&&ye()});var Je=_l(),Ye=D(Je),Xe=e=>{var o=El();q(o,(e,t,o)=>({class:e,style:t,for:void 0,...o}),[()=>L({[y()]:!0,"mdc-text-field":!0,"mdc-text-field--disabled":S(),"mdc-text-field--textarea":O(),"mdc-text-field--filled":"filled"===F(),"mdc-text-field--outlined":"outlined"===F(),"smui-text-field--standard":"standard"===F()&&!O(),"mdc-text-field--no-label":R()||null==n.label,"mdc-text-field--label-floating":i(Pe)||null!=z()&&""!==z(),"mdc-text-field--with-leading-icon":$(pe())?n.leadingIcon:pe(),"mdc-text-field--with-trailing-icon":$(me())?n.trailingIcon:me(),"mdc-text-field--with-internal-counter":O()&&n.internalCounter,"mdc-text-field--invalid":de(),...je}),()=>Object.entries(Me).map(([e,t])=>`${e}: ${t};`).concat([C()]).join(" "),()=>Z($e,["input$","label$","ripple$","outline$","helperLine$"])]);var l=v(o),r=e=>{var t=zl(),o=D(t),l=e=>{var t=Nl();u(e,t)};Y(o,e=>{"filled"===F()&&e(l)});var r=X(o,2),a=e=>{const t=Q(()=>i(Pe)||xe()||null!=z()&&""!==z()&&("number"!=typeof z()||!isNaN(z())));var o=Q(()=>te($e,"label$"));d(ie(e,j({get floatAbove(){return i(t)},get required(){return k()},wrapped:!0},()=>i(o),{children:(e,t)=>{var o=M(),i=D(o),l=e=>{},r=(e,t)=>{var o=e=>{var t=le();b(()=>re(t,n.label)),u(e,t)},i=e=>{var t=M(),o=D(t);m(o,()=>n.label),u(e,t)};Y(e,e=>{"string"==typeof n.label?e(o):e(i,!1)},t)};Y(i,e=>{null==n.label?e(l):e(r,!1)}),u(e,o)},$$slots:{default:!0}})),e=>be(e),()=>be())};Y(r,e=>{R()||null==n.label||e(a)}),u(e,t)};Y(l,e=>{"outlined"!==F()&&e(r)});var a=X(l,2),s=e=>{const t=Q(()=>R()||null==n.label);var o=Q(()=>te($e,"outline$"));d(oe(e,j({get noLabel(){return i(t)}},()=>i(o),{children:(e,t)=>{var o=M(),l=D(o),r=e=>{const t=Q(()=>i(Pe)||xe()||null!=z()&&""!==z()&&("number"!=typeof z()||!isNaN(z())));var o=Q(()=>te($e,"label$"));d(ie(e,j({get floatAbove(){return i(t)},get required(){return k()},wrapped:!0},()=>i(o),{children:(e,t)=>{var o=M(),i=D(o),l=e=>{},r=(e,t)=>{var o=e=>{var t=le();b(()=>re(t,n.label)),u(e,t)},i=e=>{var t=M(),o=D(t);m(o,()=>n.label),u(e,t)};Y(e,e=>{"string"==typeof n.label?e(o):e(i,!1)},t)};Y(i,e=>{null==n.label?e(l):e(r,!1)}),u(e,o)},$$slots:{default:!0}})),e=>be(e),()=>be())};Y(l,e=>{R()||null==n.label||e(r)}),u(e,o)},$$slots:{default:!0}})),e=>Ie(e),()=>Ie())};Y(a,e=>{"outlined"===F()&&e(s)});var h=X(a,2);K(h,{key:"SMUI:textfield:icon:leading",value:!0,children:(e,t)=>{var o=M(),i=D(o);m(i,()=>n.leadingIcon??f),u(e,o)},$$slots:{default:!0}});var p=X(h,2);m(p,()=>n.children??f);var x=X(p,2),U=e=>{var t=Ul(),o=v(t),l=Q(()=>te($e,"input$"));d(Vl(o,j({get disabled(){return S()},get required(){return k()},get updateInvalid(){return ce()},get initialInvalid(){return i(qe)},get"aria-controls"(){return i(De)},get"aria-describedby"(){return i(De)}},()=>i(l),{onblur:e=>{c(Pe,!1),c(qe,!0),ae(_e(),"blur",e),n.input$onblur?.(e)},onfocus:e=>{c(Pe,!0),ae(_e(),"focus",e),n.input$onfocus?.(e)},get value(){return z()},set value(e){z(e)},get dirty(){return ge()},set dirty(e){ge(e)},get invalid(){return de()},set invalid(e){de(e)}})),e=>fe(e),()=>fe());var r=X(o,2);m(r,()=>n.internalCounter??f),b(e=>w(t,1,e),[()=>I(L({"mdc-text-field__resizer":!("input$resizable"in $e)||n.input$resizable}))]),u(e,t)},G=e=>{var o=Gl(),l=D(o),r=e=>{var o=M(),i=D(o),l=e=>{!function(e,o){t(o,!0);let i,l=P(o,["$$slots","$$events","$$legacy","children"]);d(A(e,j({_smuiClass:"mdc-text-field__affix mdc-text-field__affix--prefix",tag:"span"},()=>l,{children:(e,t)=>{var i=M(),l=D(i);m(l,()=>o.children??f),u(e,i)},$$slots:{default:!0}})),e=>i=e,()=>i),g({getElement:function(){return i.getElement()}})}(e,{children:(e,t)=>{var o=le();b(()=>re(o,n.prefix)),u(e,o)},$$slots:{default:!0}})},r=e=>{var t=M(),o=D(t);m(o,()=>n.prefix??f),u(e,t)};Y(i,e=>{"string"==typeof n.prefix?e(l):e(r,!1)}),u(e,o)};Y(l,e=>{null!=n.prefix&&e(r)});var a=X(l,2),s=Q(()=>te($e,"input$"));d(Ll(a,j({get type(){return N()},get disabled(){return S()},get required(){return k()},get updateInvalid(){return ce()},get initialInvalid(){return i(qe)},get"aria-controls"(){return i(De)},get"aria-describedby"(){return i(De)}},()=>R()&&null!=n.label&&"string"==typeof n.label?{placeholder:n.label}:{},()=>i(s),{onblur:e=>{c(Pe,!1),c(qe,!0),ae(_e(),"blur",e),n.input$onblur?.(e)},onfocus:e=>{c(Pe,!0),ae(_e(),"focus",e),n.input$onfocus?.(e)},get value(){return z()},set value(e){z(e)},get files(){return se()},set files(e){se(e)},get dirty(){return ge()},set dirty(e){ge(e)},get invalid(){return de()},set invalid(e){de(e)}})),e=>fe(e),()=>fe());var v=X(a,2),h=e=>{var o=M(),i=D(o),l=e=>{!function(e,o){t(o,!0);let i,l=P(o,["$$slots","$$events","$$legacy","children"]);d(A(e,j({_smuiClass:"mdc-text-field__affix mdc-text-field__affix--suffix",tag:"span"},()=>l,{children:(e,t)=>{var i=M(),l=D(i);m(l,()=>o.children??f),u(e,i)},$$slots:{default:!0}})),e=>i=e,()=>i),g({getElement:function(){return i.getElement()}})}(e,{children:(e,t)=>{var o=le();b(()=>re(o,n.suffix)),u(e,o)},$$slots:{default:!0}})},r=e=>{var t=M(),o=D(t);m(o,()=>n.suffix??f),u(e,t)};Y(i,e=>{"string"==typeof n.suffix?e(l):e(r,!1)}),u(e,o)};Y(v,e=>{null!=n.suffix&&e(h)}),u(e,o)};Y(x,e=>{O()&&"string"==typeof z()?e(U):e(G,!1)});var E=X(x,2);K(E,{key:"SMUI:textfield:icon:leading",value:!1,children:(e,t)=>{var o=M(),i=D(o);m(i,()=>n.trailingIcon??f),u(e,o)},$$slots:{default:!0}});var H=X(E,2),_=e=>{var t=Q(()=>te($e,"ripple$"));d(ne(e,j(()=>i(t))),e=>we(e),()=>we())};Y(H,e=>{"outlined"!==F()&&B()&&e(_)}),d(o,e=>c(Fe,e),()=>i(Fe)),W(o,(e,t)=>ee?.(e,t),()=>({ripple:"filled"===F(),unbounded:!1,addClass:Ue,removeClass:Ge,addStyle:Ee,eventTarget:i(Ve),activeTarget:i(Ve),initPromise:We})),W(o,(e,t)=>V?.(e,t),T),u(e,o)},Ze=e=>{var t=Hl();q(t,(e,t,o)=>({class:e,style:t,...o}),[()=>L({[y()]:!0,"mdc-text-field":!0,"mdc-text-field--disabled":S(),"mdc-text-field--textarea":O(),"mdc-text-field--filled":"filled"===F(),"mdc-text-field--outlined":"outlined"===F(),"smui-text-field--standard":"standard"===F()&&!O(),"mdc-text-field--no-label":R()||null==n.label,"mdc-text-field--with-leading-icon":n.leadingIcon,"mdc-text-field--with-trailing-icon":n.trailingIcon,"mdc-text-field--invalid":de(),...je}),()=>Object.entries(Me).map(([e,t])=>`${e}: ${t};`).concat([C()]).join(" "),()=>Z($e,["input$","label$","ripple$","outline$","helperLine$"])]);var o=v(t),l=e=>{var t=M(),o=D(t);m(o,()=>n.label??f),u(e,t)};Y(o,e=>{"string"!=typeof n.label&&e(l)});var r=X(o,2);K(r,{key:"SMUI:textfield:icon:leading",value:!0,children:(e,t)=>{var o=M(),i=D(o);m(i,()=>n.leadingIcon??f),u(e,o)},$$slots:{default:!0}});var a=X(r,2);m(a,()=>n.children??f);var s=X(a,2);K(s,{key:"SMUI:textfield:icon:leading",value:!1,children:(e,t)=>{var o=M(),i=D(o);m(i,()=>n.trailingIcon??f),u(e,o)},$$slots:{default:!0}});var g=X(s,2);m(g,()=>n.line??f),d(t,e=>c(Fe,e),()=>i(Fe)),W(t,(e,t)=>ee?.(e,t),()=>({ripple:B(),unbounded:!1,addClass:Ue,removeClass:Ge,addStyle:Ee})),W(t,(e,t)=>V?.(e,t),T),u(e,t)};Y(Ye,e=>{Te?e(Xe):e(Ze,!1)});var Ke=X(Ye,2),Qe=e=>{var o=Q(()=>te($e,"helperLine$"));!function(e,o){t(o,!0);let i,l=P(o,["$$slots","$$events","$$legacy","children"]);d(A(e,j({_smuiClass:"mdc-text-field-helper-line",tag:"div"},()=>l,{children:(e,t)=>{var i=M(),l=D(i);m(l,()=>o.children??f),u(e,i)},$$slots:{default:!0}})),e=>i=e,()=>i),g({getElement:function(){return i.getElement()}})}(e,j(()=>i(o),{children:(e,t)=>{var o=M(),i=D(o);m(i,()=>n.helper??f),u(e,o)},$$slots:{default:!0}}))};return Y(Ke,e=>{n.helper&&e(Qe)}),u(r,Je),g({focus:function(){fe()?.focus()},blur:function(){fe()?.blur()},layout:He,getElement:_e})}var Yl=n('<div class="row gy-4"><div class="col-sm-6 col-12"><!></div> <div class="col-sm-6 col-12"><!></div> <div class="col-12"><!> <!></div></div>'),Xl=n("<!> <!> <!>",1);function Zl(e,t){e.preventDefault(),t(e.changedTouches[0])}var Kl=n('<div class="picker svelte-1x9tz9y"><!> <div class="s svelte-1x9tz9y"><!></div> <div class="v svelte-1x9tz9y"><!></div></div>');he(["mousedown","touchstart","touchmove","touchend"]);var Ql=n("<div></div>");function er(e,o){t(o,!0);var i=Ql();let l,r;b(e=>{l=w(i,1,"picker-indicator svelte-i5mg2p",null,l,e),r=we(i,"",r,{"--pos-x":o.pos.x,"--pos-y":o.pos.y})},[()=>({"is-dark":o.isDark})]),u(e,i),g()}function tr(e,t,o,i){const l=e.target;t.test(l.value)&&(o(l.value),i.onInput({hex:o()}))}var or=n('<input class="svelte-qtukzs"/>'),ir=n('<input type="number" min="0" max="255" class="svelte-qtukzs"/> <input type="number" min="0" max="255" class="svelte-qtukzs"/> <input type="number" min="0" max="255" class="svelte-qtukzs"/>',1),lr=n('<input type="number" min="0" max="360" class="svelte-qtukzs"/> <input type="number" min="0" max="100" class="svelte-qtukzs"/> <input type="number" min="0" max="100" class="svelte-qtukzs"/>',1),rr=n('<input type="number" min="0" max="1" step="0.01" class="svelte-qtukzs"/>'),ar=(e,t,o)=>c(t,i(o),!0),nr=n('<button type="button" class="svelte-qtukzs"><span class="disappear svelte-qtukzs" aria-hidden="true"> </span> <span class="appear svelte-qtukzs"> </span></button>'),sr=n('<div class="button-like svelte-qtukzs"> </div>'),dr=n('<div class="text-input svelte-qtukzs"><div class="input-container svelte-qtukzs"><!> <!></div> <!></div>');function cr(o,r){t(r,!0);let a=h(r,"rgb",15),n=h(r,"hsv",15),s=h(r,"hex",15);const d=/^#?([A-F0-9]{6}|[A-F0-9]{8})$/i;let c=l(e(r.textInputModes[0]||"hex")),p=Q(()=>r.textInputModes[(r.textInputModes.indexOf(i(c))+1)%r.textInputModes.length]),m=Q(()=>Math.round(n().h)),f=Q(()=>Math.round(n().s)),w=Q(()=>Math.round(n().v)),I=Q(()=>void 0===n().a?1:Math.round(100*n().a)/100);function x(e){return function(t){a({...a(),[e]:parseFloat(t.target.value)}),r.onInput({rgb:a()})}}function $(e){return function(t){n({...n(),[e]:parseFloat(t.target.value)}),r.onInput({hsv:n()})}}var T=dr(),y=v(T),C=v(y),B=e=>{var t=or();t.__input=[tr,d,s,r],we(t,"",{},{flex:3}),b(()=>{xe(t,"aria-label",r.texts.label.hex),$e(t,s())}),u(e,t)},S=(e,t)=>{var o=e=>{var t=ir(),o=D(t),l=Q(()=>x("r"));o.__input=function(...e){i(l)?.apply(this,e)};var n=X(o,2),s=Q(()=>x("g"));n.__input=function(...e){i(s)?.apply(this,e)};var d=X(n,2),c=Q(()=>x("b"));d.__input=function(...e){i(c)?.apply(this,e)},b(()=>{xe(o,"aria-label",r.texts.label.r),$e(o,a().r),xe(n,"aria-label",r.texts.label.g),$e(n,a().g),xe(d,"aria-label",r.texts.label.b),$e(d,a().b)}),u(e,t)},l=e=>{var t=lr(),o=D(t),l=Q(()=>$("h"));o.__input=function(...e){i(l)?.apply(this,e)};var a=X(o,2),n=Q(()=>$("s"));a.__input=function(...e){i(n)?.apply(this,e)};var s=X(a,2),d=Q(()=>$("v"));s.__input=function(...e){i(d)?.apply(this,e)},b(()=>{xe(o,"aria-label",r.texts.label.h),$e(o,i(m)),xe(a,"aria-label",r.texts.label.s),$e(a,i(f)),xe(s,"aria-label",r.texts.label.v),$e(s,i(w))}),u(e,t)};Y(e,e=>{"rgb"===i(c)?e(o):e(l,!1)},t)};Y(C,e=>{"hex"===i(c)?e(B):e(S,!1)});var k=X(C,2),O=e=>{var t=rr(),o=Q(()=>"hsv"===i(c)?$("a"):x("a"));t.__input=function(...e){i(o)?.apply(this,e)},b(()=>{xe(t,"aria-label",r.texts.label.a),$e(t,i(I))}),u(e,t)};Y(k,e=>{r.isAlpha&&e(O)});var F=X(y,2),R=e=>{var t=nr();t.__click=[ar,c,p];var o=v(t),l=v(o),a=X(o,2),n=v(a);b(()=>{re(l,r.texts.color[i(c)]),re(n,`${r.texts.changeTo??""} ${i(p)??""}`)}),u(e,t)},A=e=>{var t=sr(),o=v(t);b(()=>re(o,r.texts.color[i(c)])),u(e,t)};Y(F,e=>{r.textInputModes.length>1?e(R):e(A,!1)}),u(o,T),g()}function ur(e){e.preventDefault()}he(["input","click"]);var gr=n('<label class="svelte-lemcb1"><div class="container svelte-lemcb1"><input type="color" aria-haspopup="dialog" class="svelte-lemcb1"/> <div class="alpha svelte-lemcb1"></div> <div class="color svelte-lemcb1"></div></div> </label>');function vr(e,o){t(o,!0);let i=h(o,"labelElement",15),l=h(o,"name",3,void 0);var r=gr();r.__click=[ur],r.__mousedown=[ur];var a=v(r),n=v(a);n.__click=[ur],n.__mousedown=[ur];var s=X(n,4);let c;var p=X(a);d(r,e=>i(e),()=>i()),b(()=>{xe(n,"name",l()),$e(n,o.hex),c=we(s,"",c,{background:o.hex}),re(p,` ${o.label??""}`)}),u(e,r),g()}he(["click","mousedown"]);var hr=n('<div aria-label="color picker"><!></div>');function pr(e,o){t(o,!0);let i=h(o,"wrapper",15);var l=hr();let r;var a=v(l);m(a,()=>o.children),d(l,e=>i(e),()=>i()),b(e=>{r=w(l,1,"wrapper svelte-h9ar9",null,r,e),xe(l,"role",o.isDialog?"dialog":void 0)},[()=>({"is-open":o.isOpen})]),u(e,l),g()}const mr={h:"hue channel",s:"saturation channel",v:"brightness channel",r:"red channel",g:"green channel",b:"blue channel",a:"alpha channel",hex:"hex color",withoutColor:"without color"},fr={rgb:"rgb",hsv:"hsv",hex:"hex"},br="change to ",wr="a[href], area[href], input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]";const Ir=e=>{const t=e.querySelector(wr);t&&t.focus();const o=(i=e,function(e){if(e.target===window)return;const t=e.target;if(!i.contains(t))return;const o=i.querySelectorAll(wr),l=o[0],r=o[o.length-1];var a;"Tab"!==(a=e).code||a.shiftKey||e.target!==r?function(e){return"Tab"===e.code&&e.shiftKey}(e)&&e.target===l&&(e.preventDefault(),r.focus()):(e.preventDefault(),l.focus())});var i;return document.addEventListener("keydown",o),{destroy(){document.removeEventListener("keydown",o)}}};var xr=n('<label class="nullability-checkbox svelte-oskb5b"><div class="svelte-oskb5b"><input type="checkbox" class="svelte-oskb5b"/> <span class="svelte-oskb5b"></span></div> </label>');function $r(e,o){t(o,!0);let i=h(o,"isUndefined",15);var l=xr(),r=v(l),a=v(r),n=X(r);b(()=>re(n,` ${o.texts.label.withoutColor??""}`)),Te(a,i),u(e,l),g()}var Tr=n('<input type="hidden"/>'),yr=n('<div class="a svelte-gmioh4"><!></div>'),Cr=n('<!> <!> <div class="h svelte-gmioh4"><!></div> <!> <!> <!>',1),Br=n("<span><!> <!></span>");function Sr(r,a){t(a,!0);let n,s=h(a,"components",19,()=>({})),p=h(a,"label",3,"Choose a color"),m=h(a,"name",3,void 0),f=h(a,"nullable",3,!1),I=h(a,"rgb",31,()=>e(f()?null:{r:255,g:0,b:0,a:1})),x=h(a,"hsv",31,()=>e(f()?null:{h:0,s:100,v:100,a:1})),$=h(a,"hex",31,()=>e(f()?null:"#ff0000")),T=h(a,"color",15,null),y=h(a,"isDark",15,!1),C=h(a,"isAlpha",3,!0),B=h(a,"isDialog",3,!0),S=h(a,"isOpen",31,()=>!B()),k=h(a,"position",3,"fixed"),O=h(a,"isTextInput",3,!0),F=h(a,"textInputModes",19,()=>["hex","rgb","hsv"]),R=h(a,"sliderDirection",3,"vertical"),A=h(a,"disableCloseClickOutside",3,!1),j=h(a,"a11yColors",19,()=>[{bgHex:"#ffffff"}]),P=h(a,"a11yLevel",3,"AA"),q=h(a,"texts",3,void 0),L=h(a,"a11yTexts",3,void 0),W=l(e({r:255,g:0,b:0,a:1})),V=l(e({h:0,s:100,v:100,a:1})),N=l("#ff0000"),z=l(!1),U=l(e(i(z))),G=l(void 0),E=l(void 0),H=l(void 0),_=l(1080),Z=l(720);const K=12,ee={pickerIndicator:er,textInput:cr,input:vr,nullabilityCheckbox:$r,wrapper:pr};function te(){return{...ee,...s()}}function oe(){return{label:{...mr,...q()?.label},color:{...fr,...q()?.color},changeTo:q()?.changeTo??br}}function ie(){return i(z)&&!i(U)?(c(U,!0),x(null),I(null),$(null),void a.onInput?.({color:T(),hsv:x(),rgb:I(),hex:$()})):i(U)&&!i(z)?(c(U,!1),x(Ce(i(V))),I(Ce(i(W))),$(Ce(i(N))),void a.onInput?.({color:T(),hsv:x(),rgb:I(),hex:$()})):x()||I()||$()?void(x()&&I()&&x().h===i(V).h&&x().s===i(V).s&&x().v===i(V).v&&x().a===i(V).a&&I().r===i(W).r&&I().g===i(W).g&&I().b===i(W).b&&I().a===i(W).a&&$()===i(N)||(c(z,!1),x()&&void 0===x().a&&x({...x(),a:1}),void 0===i(V).a&&c(V,{...i(V),a:1},!0),I()&&void 0===I().a&&I({...I(),a:1}),void 0===i(W).a&&c(W,{...i(W),a:1},!0),"ff"===$()?.substring(7)&&$($().substring(0,7)),"ff"===i(N)?.substring(7)&&c(N,i(N).substring(0,7),!0),!x()||x().h===i(V).h&&x().s===i(V).s&&x().v===i(V).v&&x().a===i(V).a&&(I()||$())?!I()||I().r===i(W).r&&I().g===i(W).g&&I().b===i(W).b&&I().a===i(W).a&&(x()||$())?!$()||$()===i(N)&&(x()||I())||(T(Ie($())),I(T().toRgb()),x(T().toHsv())):(T(Ie(I())),$(T().toHex()),x(T().toHsv())):(T(Ie(x())),I(T().toRgb()),$(T().toHex())),T()&&y(T().isDark()),$()&&x()&&I()&&(c(V,Ce(x()),!0),c(W,Ce(I()),!0),c(N,$(),!0),c(U,i(z),!0),a.onInput?.({color:T(),hsv:x(),rgb:I(),hex:$()})))):(c(z,c(U,!0),!0),void a.onInput?.({color:null,hsv:x(),rgb:I(),hex:$()}))}function le(e){return t=>{x()||(c(z,!1),c(U,!1),x(Ce(i(V)))),x({...x(),[e]:t})}}async function re(){if(await J(),"fixed"!==k()&&S()&&B()&&i(E)&&i(H)){const e=i(H).getBoundingClientRect(),t=i(E).getBoundingClientRect();"responsive"!==k()&&"responsive-y"!==k()||(t.top+e.height+K>i(Z)?i(H).style.top=`-${e.height+K}px`:i(H).style.top=`${t.height+K}px`),"responsive"!==k()&&"responsive-x"!==k()||(t.left+e.width+K>i(_)?i(H).style.left=`-${e.width-t.width+K}px`:i(H).style.left="12px")}}o(()=>{(x()||I()||$())&&ie()}),o(()=>{i(z),ie()}),o(()=>{i(_)&&i(Z)&&S()&&re()});const ae=Q(te);var ne=Br();pe("mousedown",me,function({target:e}){i(E)&&i(H)&&B()&&(i(E).contains(e)||i(E).isSameNode(e)?S(!S()):!S()||i(H).contains(e)||A()||S(!1))}),pe("keyup",me,function({key:e,target:t}){B()&&i(E)&&i(G)&&("Enter"===e&&i(E).contains(t)?(S(!S()),setTimeout(()=>{i(H)&&(n=Ir(i(H)))})):"Escape"===e&&S()&&(S(!1),i(G).contains(t)&&(i(E)?.focus(),n?.destroy())))}),pe("scroll",me,re);var se=v(ne),de=e=>{var t=M(),o=D(t);fe(o,()=>i(ae).input,(e,t)=>{t(e,{get hex(){return $()},get label(){return p()},get name(){return m()},get labelElement(){return i(E)},set labelElement(e){c(E,e,!0)}})}),u(e,t)},ce=(e,t)=>{var o=e=>{var t=Tr();b(()=>{$e(t,$()),xe(t,"name",m())}),u(e,t)};Y(e,e=>{m()&&e(o)},t)};Y(se,e=>{B()?e(de):e(ce,!1)});var ue=X(se,2);fe(ue,()=>i(ae).wrapper,(r,a)=>{a(r,{get isOpen(){return S()},get isDialog(){return B()},get wrapper(){return i(H)},set wrapper(e){c(H,e,!0)},children:(r,a)=>{var n=Cr(),s=D(n),p=e=>{var t=M(),o=D(t);const l=Q(oe);fe(o,()=>i(ae).nullabilityCheckbox,(e,t)=>{t(e,{get texts(){return i(l)},get isUndefined(){return i(z)},set isUndefined(e){c(z,e,!0)}})}),u(e,t)};Y(s,e=>{f()&&e(p)});var m=X(s,2);const w=Q(te),T=Q(()=>x()?.h??i(V).h),B=Q(()=>x()?.s??i(V).s),S=Q(()=>x()?.v??i(V).v),k=Q(()=>{return e=["s","v"],t=>{x()||(c(z,!1),c(U,!1),x(Ce(i(V)))),x({...x(),...Object.fromEntries(e.map(e=>[e,t[e]]))})};var e}),A=Q(oe);!function(r,a){t(a,!0);let n=h(a,"s",15),s=h(a,"v",15),p=l(void 0),m=!1,f=l(e({x:100,y:0})),w=Q(()=>Ie({h:a.h,s:100,v:100,a:1}).toHex());function I(e,t,o){return Math.min(Math.max(t,e),o)}function x(e){if(!i(p))return;const{width:t,left:o,height:l,top:r}=i(p).getBoundingClientRect(),a=I(e.clientX-o,0,t),d=I(e.clientY-r,0,l);n(100*I(a/t,0,1)),s(100*I((l-d)/l,0,1)),$()}function $(e={}){a.onInput({s:n(),v:s(),...e})}o(()=>{"number"==typeof n()&&"number"==typeof s()&&i(p)&&c(f,{x:n(),y:100-s()},!0)});var T=Kl();let y;pe("mouseup",me,function(){m=!1}),pe("mousemove",me,function(e){m&&x(e)}),T.__mousedown=function(e){e.preventDefault(),0===e.button&&(m=!0,x(e))},T.__touchstart=[Zl,x],T.__touchmove=[Zl,x],T.__touchend=[Zl,x];var C=v(T);fe(C,()=>a.components.pickerIndicator,(e,t)=>{t(e,{get pos(){return i(f)},get isDark(){return a.isDark}})});var B=X(C,2);let S;var k=v(B);be(k,{get value(){return n()},onInput:e=>$({s:e}),keyboardOnly:!0,ariaValueText:e=>`${e}%`,get ariaLabel(){return a.texts.label.s}});var O=X(B,2);let F;var R=v(O);be(R,{get value(){return s()},onInput:e=>$({v:e}),keyboardOnly:!0,ariaValueText:e=>`${e}%`,direction:"vertical",get ariaLabel(){return a.texts.label.v}}),d(T,e=>c(p,e),()=>i(p)),b(()=>{y=we(T,"",y,{"--picker-color-bg":i(w)}),S=we(B,"",S,{"--pos-y":i(f).y}),F=we(O,"",F,{"--pos-x":i(f).x})}),u(r,T),g()}(m,{get components(){return i(w)},get h(){return i(T)},get s(){return i(B)},get v(){return i(S)},get onInput(){return i(k)},get isDark(){return y()},get texts(){return i(A)}});var q=X(m,2),G=v(q);const E=Q(()=>x()?.h??i(V).h),H=Q(()=>le("h")),_=Q(()=>"vertical"===R());be(G,{min:0,max:360,step:1,get value(){return i(E)},get onInput(){return i(H)},get direction(){return R()},get reverse(){return i(_)},get ariaLabel(){return oe().label.h}});var J=X(q,2),Z=e=>{var t=yr();let o;var l=v(t);const r=Q(()=>x()?.a??i(V).a),a=Q(()=>le("a")),n=Q(()=>"vertical"===R());be(l,{min:0,max:1,step:.01,get value(){return i(r)},get onInput(){return i(a)},get direction(){return R()},get reverse(){return i(n)},get ariaLabel(){return oe().label.a}}),b(e=>o=we(t,"",o,{"--alphaless-color":e}),[()=>($()?$():i(N)).substring(0,7)]),u(e,t)};Y(J,e=>{C()&&e(Z)});var K=X(J,2),ee=e=>{var t=M(),o=D(t);const l=Q(()=>$()??i(N)),r=Q(()=>I()??i(W)),a=Q(()=>x()??i(V)),n=Q(oe);fe(o,()=>i(ae).textInput,(e,t)=>{t(e,{get hex(){return i(l)},get rgb(){return i(r)},get hsv(){return i(a)},onInput:e=>{e.hsv?x(e.hsv):e.rgb?I(e.rgb):e.hex&&$(e.hex)},get isAlpha(){return C()},get textInputModes(){return F()},get texts(){return i(n)}})}),u(e,t)};Y(K,e=>{O()&&e(ee)});var ie=X(K,2),re=e=>{var t=M(),o=D(t);const l=Q(te),r=Q(()=>$()||"#00000000");fe(o,()=>i(ae).a11yNotice,(e,t)=>{t(e,{get components(){return i(l)},get a11yColors(){return j()},get hex(){return i(r)},get a11yTexts(){return L()},get a11yLevel(){return P()}})}),u(e,t)};Y(ie,e=>{te().a11yNotice&&e(re)}),u(r,n)},$$slots:{default:!0}})}),d(ne,e=>c(G,e),()=>i(G)),b(()=>w(ne,1,`color-picker ${R()??""}`,"svelte-gmioh4")),ye("innerWidth",e=>c(_,e,!0)),ye("innerHeight",e=>c(Z,e,!0)),u(r,ne),g()}var kr=n('<div aria-label="color picker"><!></div>');const Or={wrapper:function(e,o){t(o,!0);let i=h(o,"wrapper",15);var l=kr();let r;var a=v(l);m(a,()=>o.children),d(l,e=>i(e),()=>i()),b(e=>{r=w(l,1,"wrapper svelte-1le3y9a",null,r,e),xe(l,"role",o.isDialog?"dialog":void 0)},[()=>({"is-open":o.isOpen})]),u(e,l),g()}};var Fr=n("<div><!></div>"),Rr=(e,t)=>{e.preventDefault(),t()},Ar=n('<span class="picture-inner-text svelte-k98dno"><!></span>'),jr=n('<span class="picture-inner-text svelte-k98dno"><!></span>'),Mr=n('<div class="picture-inner svelte-k98dno"><!></div>'),Dr=n('<div class="preview-container svelte-k98dno"><canvas tabindex="0"></canvas> <!></div> <!> <!> <!>',1),Pr=n("<div><!></div> <!> <!>",1),qr=n("<div><!></div>"),Lr=n('<div id="picture-input" class="picture-input svelte-k98dno"><!> <input type="file" class="svelte-k98dno"/></div>');function Wr(r,n){t(n,!0);let m,f,I=h(n,"width",19,()=>Number.MAX_SAFE_INTEGER),x=h(n,"height",19,()=>Number.MAX_SAFE_INTEGER),$=h(n,"margin",3,0),T=h(n,"accept",3,"image/*, image/avif"),y=h(n,"capture",3,null),C=h(n,"size",19,()=>Number.MAX_SAFE_INTEGER),B=h(n,"name",3,null),S=h(n,"id",3,null),k=h(n,"buttonClass",3,""),O=h(n,"removeButtonClass",3,""),F=h(n,"aspectButtonClass",3,""),R=h(n,"prefill",11,""),A=h(n,"prefillOptions",19,()=>({})),j=h(n,"crop",3,!0),M=h(n,"radius",3,0),P=h(n,"removable",3,!1),q=h(n,"hideChangeButton",3,!1),L=h(n,"autoToggleAspectRatio",3,!1),W=h(n,"toggleAspectRatio",3,!1),V=h(n,"changeOnClick",3,!0),N=h(n,"plain",3,!1),z=h(n,"zIndex",3,1e4),U=h(n,"alertOnError",3,!0),G=h(n,"customStrings",19,()=>({})),E=l(!1),H=l(0),_=l(0),Z=l(!1),K=l(0),ee=l(0),te=l(1),oe=l(0),ie=l(""),ae=l(null),ne=l(null),se=l(""),de=l(0),ce=l(0),ve=l(""),he=l(!1),me=l(0),fe=l(0),be=l(0),Ie=l(null),$e=l(e([])),Te={upload:"<p>Your device does not support file uploading.</p>",drag:"Drag an image or <br>click here to select a file",tap:"Tap here to select a photo <br>from your gallery",change:"Change Photo",aspect:"Landscape/Portrait",remove:"Remove Photo",select:"Select a Photo",selected:"<p>Photo successfully selected!</p>",fileSize:"The file size exceeds the limit",fileType:"This file type is not supported."},ye=l(void 0);const Ce=Q(()=>{if(navigator.userAgent.match(/(Android (1\.0|1\.1|1\.5|1\.6|2\.0|2\.1))|(Windows Phone (OS 7|8\.0))|(XBLWP)|(ZuneWP)|(w(eb)?OSBrowser)|(webOS)|(Kindle\/(1\.0|2\.0|2\.5|3\.0))/))return!1;const e=document.createElement("input");return e.type="file",!e.disabled}),Be=Q(()=>!(!window.FileReader||!window.CanvasRenderingContext2D)),Se=Q(()=>{const e=document.createElement("div");return("draggable"in e||"ondragstart"in e&&"ondrop"in e)&&!("ontouchstart"in window||navigator.maxTouchPoints)}),ke=Q(()=>i(Z)?"dragging-over":""),Oe=Q(()=>`${Math.min(.04*i(_),21)}px`);function Fe(){i(E)&&!V()||Pe(),n.onclick&&n.onclick()}function Re(){We()&&i(ae)&&De(i(ae))}function Ae(){i(Se)&&c(Z,!1)}function je(e,t=!1){const o=e.target,l="drop"===e.type?e.dataTransfer?.files:o.files;if(l&&0!==l.length){if(l[0].size<=0||l[0].size>1024*Number(C())*1024)return n.onerror&&n.onerror({type:"fileSize",fileSize:l[0].size,fileType:l[0].type,fileName:l[0].name,message:`${Te.fileSize} (${C()}MB)`}),void(U()&&alert(`${Te.fileSize} (${C()}MB)`));if(l[0].name!==i(se)||l[0].size!==i(de)||i(ce)!==l[0].lastModified){if(c(ne,l[0],!0),c(se,l[0].name,!0),c(de,l[0].size,!0),c(ce,l[0].lastModified,!0),c(ve,l[0].type.split(";")[0],!0),"image/*, image/avif"===T()){if(!i(ve).startsWith("image/"))return}else if(-1===i($e).indexOf(i(ve)))return n.onerror&&n.onerror({type:"fileType",fileSize:i(de),fileType:i(ve),fileName:i(se),message:Te.fileType}),void(U()&&alert(Te.fileType));c(E,!0),c(ie,""),i(Be)&&i(ne)?Me(i(ne)):t?n.onprefill&&n.onprefill():n.onchange&&n.onchange(i(ie))}}}function Me(e,t){!function(e,t){const o=new FileReader;o.onload=e=>{const o=new DataView(e.target.result);if(65496!==o.getUint16(0,!1))return t(-2);const i=o.byteLength;let l=2;for(;l<i;){const e=o.getUint16(l,!1);if(l+=2,65505===e){if(1165519206!==o.getUint32(l+=2,!1))return t(-1);const e=18761===o.getUint16(l+=6,!1);l+=o.getUint32(l+4,e);const i=o.getUint16(l,e);l+=2;for(let r=0;r<i;r++)if(274===o.getUint16(l+12*r,e))return t(o.getUint16(l+12*r+8,e))}else{if(65280&~e)break;l+=o.getUint16(l,!1)}}return t(-1)},o.readAsArrayBuffer(e.slice(0,65536))}(e,t=>{!function(e){c(he,!1),8===e?c(he,-Math.PI/2):6===e?c(he,Math.PI/2):3===e&&c(he,-Math.PI)}(t);const o=new FileReader;o.onload=e=>{c(ie,e.target.result,!0),c(ae,new Image,!0),i(ae).onload=()=>{if(L()){Ve(i(K),i(ee))!==Ve(i(ae).width,i(ae).height)&&Ne()}De(i(ae))},i(ae).src=i(ie),n.onchange&&n.onchange(i(ie))},o.readAsDataURL(e)})}function De(e){c(me,e.width,!0),c(fe,e.height,!0),c(be,e.width/e.height);let t=0,o=0,l=i(_),r=i(H);const a=i(_)/i(H);j()?i(be)>=a?(l=r*i(be),t=(i(_)-l)/2):(r=l/i(be),o=(i(H)-r)/2):i(be)>=a?(r=l/i(be),o=(i(H)-r)/2):(l=r*i(be),t=(i(_)-l)/2),i(ye)&&(i(ye).style.background="none",i(ye).width=i(_)*i(te),i(ye).height=i(H)*i(te),i(Ie)&&(i(Ie).setTransform(1,0,0,1,0,0),i(Ie).clearRect(0,0,i(ye).width,i(ye).height),i(he)&&void 0===e.style.imageOrientation&&(i(Ie).translate(t*i(te),o*i(te)),i(Ie).translate(l/2*i(te),r/2*i(te)),i(Ie).rotate(i(he)),t=-l/2,o=-r/2),i(Ie).drawImage(e,t*i(te),o*i(te),l*i(te),r*i(te))))}function Pe(){f.click()}function qe(){f.value="",f.type="",f.type="file",c(se,""),c(ve,""),c(de,0),c(ce,0),c(E,!1),c(ie,""),c(ne,null),c(ae,null),i(ye)&&(i(ye).style.backgroundColor="rgba(200,200,200,.25)",i(ye).width=i(_)*i(te)),n.onremove&&n.onremove()}function Le(){Ne(),i(ae)&&De(i(ae));const e=Ve(i(K),i(ee));n.onaspectratiochange&&n.onaspectratiochange(e)}function We(){const e=i(K)/i(ee),t=m.clientWidth;return!!t&&(!(!W()&&!L()&&t===i(oe))&&(c(oe,t,!0),c(_,Math.min(i(oe)-2*Number($()),i(K)),!0),c(H,i(_)/e),!0))}function Ve(e,t){return e>t?"landscape":e<t?"portrait":"square"}function Ne(){!function(){const e=i(K);c(K,i(ee),!0),c(ee,e,!0)}(),We()}function ze(e,t){let o=window.File;try{new o([],"")}catch(r){o=class extends Blob{lastModifiedDate=new Date;lastModified=+this.lastModifiedDate;name;constructor(e,t,o={}){super(e,o),this.name=t}}}if(t=Object.assign({},t),"object"==typeof e)return c(E,!0),c(ie,""),void(i(Be)?Me(e):n.onprefill&&n.onprefill());-1===e.indexOf("data:")&&(e+=-1!==e.indexOf("?")?"&_="+(new Date).getTime():"?_="+(new Date).getTime());const l=new Headers;l.append("Accept","image/*, image/avif"),fetch(e,{method:"GET",mode:"cors",headers:l}).then(e=>e.blob()).then(i=>{const l={target:{files:[]}},r=t.fileName||e.split("/").slice(-1)[0];let a=t.mediaType||i.type||"image/"+(t.fileType||r.split("?")[0].split(".").slice(-1)[0]);a=a.replace("jpg","jpeg").replace("image/svg","image/svg+xml"),"image/svg"===a&&(a="image/svg+xml"),l.target.files[0]=new o([i],r,{type:a}),je(l,!0)}).catch(e=>{n.onerror&&n.onerror({type:"failedPrefill",message:"Failed loading prefill image: "+e}),U()&&alert("Failed loading prefill image: "+e)})}o(()=>{R()&&ze(R(),A())}),p(async()=>{await J(),function(){if(G())for(const e in G())e in Te&&"string"==typeof G()[e]&&(Te[e]=G()[e])}(),R()&&ze(R(),A()),window.addEventListener("resize",Re),Re(),i(Be)&&i(ye)&&(c(te,Math.round(window.devicePixelRatio||1),!0),i(ye).getContext&&(c(Ie,i(ye).getContext("2d"),!0),i(Ie)&&i(Ie).scale(i(te),i(te)))),"image/*, image/avif"!==T()&&c($e,T().split(",").map(e=>e.trim()),!0),c(K,I()!=Number.MAX_SAFE_INTEGER?Number(I()):m.clientWidth,!0),c(ee,x()!=Number.MAX_SAFE_INTEGER?Number(x()):i(K),!0),c(_,i(K),!0),c(H,i(ee),!0)}),a(()=>{window.removeEventListener("resize",Re)});var Ue=Lr(),Ge=v(Ue),Ee=e=>{var t=Fr(),o=v(t);s(o,()=>Te.upload),u(e,t)},He=(e,t)=>{var o=e=>{var t=Dr(),o=D(t),l=v(o);l.__click=[Rr,Fe],d(l,e=>c(ye,e),()=>i(ye));var r=X(l,2),a=e=>{var t=Mr(),o=v(t),l=e=>{var t=Ar(),o=v(t);s(o,()=>Te.drag),u(e,t)},r=e=>{var t=jr(),o=v(t);s(o,()=>Te.tap),u(e,t)};Y(o,e=>{i(Se)?e(l):e(r,!1)}),b(e=>we(t,`top: -${i(H)??""}px; margin-bottom: -${i(H)??""}px; font-size: ${i(Oe)??""}; border-radius: ${M()??""}%; z-index: ${e??""};`),[()=>parseInt(z()+"")+2]),u(e,t)};Y(r,e=>{i(E)||N()||e(a)});var n=X(o,2),g=e=>{ue(e,{variant:"raised",onclick:Pe,get class(){return k()},children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le();b(()=>re(o,Te.change)),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})};Y(n,e=>{i(E)&&!q()&&e(g)});var h=X(n,2),p=e=>{ue(e,{variant:"raised",onclick:qe,get class(){return O()},children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le();b(()=>re(o,Te.remove)),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})};Y(h,e=>{i(E)&&P()&&e(p)});var m=X(h,2),f=e=>{ue(e,{variant:"raised",onclick:Le,get class(){return F()},children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le();b(()=>re(o,Te.aspect)),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})};Y(m,e=>{i(E)&&W()&&I()!==x()&&e(f)}),b(e=>{we(o,`max-width: ${i(_)??""}px; height: ${i(H)??""}px; border-radius: ${M()??""}%;`),w(l,1,`picture-preview ${i(ke)??""}`,"svelte-k98dno"),we(l,`height: ${i(H)??""}px; z-index: ${e??""};`)},[()=>parseInt(z()+"")+1]),pe("drag",l,e=>{e.stopPropagation(),e.preventDefault()}),pe("dragover",l,e=>{e.stopPropagation(),e.preventDefault()}),pe("dragstart",l,e=>{e.stopPropagation(),e.preventDefault()}),pe("dragend",l,e=>{e.stopPropagation(),e.preventDefault()}),pe("dragenter",l,e=>{e.stopPropagation(),e.preventDefault(),i(Se)&&c(Z,!0)}),pe("dragleave",l,e=>{e.stopPropagation(),e.preventDefault(),Ae()}),pe("drop",l,e=>{e.stopPropagation(),e.preventDefault(),function(e){Ae(),je(e)}(e)}),u(e,t)},l=e=>{var t=qr(),o=v(t),l=e=>{ue(e,{variant:"raised",onclick:Pe,get class(){return k()},children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le();b(()=>re(o,Te.select)),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},r=e=>{var t=Pr(),o=D(t),i=v(o);s(i,()=>Te.selected);var l=X(o,2),r=e=>{ue(e,{variant:"raised",onclick:Pe,get class(){return k()},children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le();b(()=>re(o,Te.change)),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})};Y(l,e=>{q()||e(r)});var a=X(l,2),n=e=>{ue(e,{variant:"raised",onclick:qe,get class(){return O()},children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le();b(()=>re(o,Te.remove)),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})};Y(a,e=>{P()&&e(n)}),u(e,t)};Y(o,e=>{i(E)?e(r,!1):e(l)}),u(e,t)};Y(e,e=>{i(Be)?e(o):e(l,!1)},t)};Y(Ge,e=>{i(Ce)?e(He,!1):e(Ee)});var _e=X(Ge,2);_e.__change=je,d(_e,e=>f=e,()=>f),d(Ue,e=>m=e,()=>m),b(()=>{xe(_e,"name",B()),xe(_e,"id",S()),xe(_e,"accept",T()),xe(_e,"capture",y())}),u(r,Ue),g()}he(["click","change"]);var Vr=n('<div class="mb-4 text-left"><!></div>'),Nr=n('<img alt="Converted" loading="lazy" class="svelte-1br61l5"/> <!> <!>',1),zr=n('<div class="col col-lg-4"><!> <!></div> <div class="col col-lg-8"><!></div>',1),Ur=n('<div><img alt="Cropper" loading="lazy" class="cropper-image svelte-1br61l5"/></div>'),Gr=n('<div class="row justify-center"><div class="col"><!></div> <div class="col"><!></div> <div class="col"><!></div></div> <div class="mt-2"><!></div> <!>',1),Er=n('<div class="pt-3 col col-12"><img alt="Compress" loading="lazy" class="svelte-1br61l5"/></div>'),Hr=n('<div class="row justify-center"><div class="col"><!></div> <div class="col"><!></div> <div class="col"><!></div> <!></div>'),_r=n('<div class="col col-lg-4"><div><!></div> <div><b>Before:</b> <b>After:</b> </div> <!></div> <div class="col-lg-8"><!> <!> <!></div>',1),Jr=n('<div class="container"><!> <div class="row"><!></div></div>'),Yr=n("<!> <!> <!>",1);function Xr(e,r){t(r,!0);let a,n=h(r,"open",7),s=h(r,"imgObject",7),p=h(r,"canHaveURL",3,!0),m=l("Cropper"),I=l(100),x=l(90),$=!1,T=l(1),y=l(1),C=l(void 0),B=l(void 0),S=l(void 0),k=l(!1),O=0,F=Q(()=>{if(i(B)){const e=Hi(i(B)).length*(3/4)-2;return Math.round(e/1024)}return 0}),R=Q(()=>{if(i(S)){const e=i(S).split(",")[1].length*(3/4)-2;return Math.round(e/1024)}return 0});function A(){const e=W(s(),r.imgProp);e&&q(e)}function j(){i(S)&&L(s(),r.imgProp,i(S),!1)}function M(){a&&a.setAspectRatio(i(y)/i(T))}function P(){if(a&&i(C)){const e=a.getCroppedCanvas().toDataURL("image/webp");i(C).src=e,L(s(),r.imgProp,e)}}function q(e){const t=document.createElement("canvas"),o=t.getContext("2d"),l=new Image;l.crossOrigin="anonymous",l.onload=()=>{const e=i(I)/100,r=l.width*e,a=l.height*e;t.setAttribute("width",r.toString()),t.setAttribute("height",a.toString()),o?.drawImage(l,0,0,r,a),c(S,t.toDataURL("image/webp",i(x)),!0),O++,$&&O>1&&($=!1,j(),O=0)},l.src=e}function L(e,t,o,i=!0){e&&(e[t]=o,c(B,o,!0),a&&a.replace(o),i&&q(o))}function W(e,t){return e&&e[t]?e[t]:""}o(()=>(i(C)?a=new Be(i(C),{viewMode:3,dragMode:"move"}):a&&a.destroy(),()=>{a&&a.destroy()})),se(e,{surface$style:"width: 1200px; max-width: calc(100vw - 32px);",style:"text-align: center",get onSMUIDialogClosed(){return r.onclose},get open(){return n()},set open(e){n(e)},children:(e,t)=>{var o=Yr(),l=D(o);de(l,{tabindex:0,autofocus:!0,children:(e,t)=>{var o=le("Image");u(e,o)},$$slots:{default:!0}});var a=X(l,2);ce(a,{children:(e,t)=>{var o=Jr(),l=v(o),a=e=>{var t=Vr(),o=v(t);Se(o,{label:e=>{var t=le("Uploaded Image or External URL.");u(e,t)},children:(e,t)=>{ke(e,{color:"secondary",class:"switch-scale",get checked(){return i(k)},set checked(e){c(k,e,!0)}})},$$slots:{label:!0,default:!0}});u(e,t)};Y(l,e=>{p()&&e(a)});var g=X(l,2),h=v(g),B=e=>{var t=zr(),o=D(t),i=v(o);Jl(i,{get value(){return s()?.imageLink||""},set value(e){var t;t=e,s().imageLink=t},label:"External Image URL",variant:"filled"});var l=X(i,2);ue(l,{onclick:()=>{L(s(),r.imgProp,s().imageLink)},variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Convert URL to Image");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var a=X(o,2),n=v(a),d=e=>{var t=Nr(),o=D(t),i=X(o,2);ue(i,{onclick:()=>{L(s(),r.imgProp,""),delete s().imageLink},variant:"raised",class:"my-3",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Remove Photo");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var l=X(i,2);Jl(l,{get value(){return s()?.imageSourceTooltip||""},set value(e){var t;t=e,s().imageSourceTooltip=t},label:"Tooltip That Shows When Hovering over it",variant:"filled"}),b(e=>xe(o,"src",e),[()=>W(s(),r.imgProp)]),u(e,t)};Y(n,e=>{void 0!==W(s(),r.imgProp)&&""!==W(s(),r.imgProp)&&e(d)}),u(e,t)},S=e=>{var t=_r(),o=D(t),l=v(o),a=v(l),g=e=>{const t=Q(()=>_i(W(s(),r.imgProp))?W(s(),r.imgProp):"");Wr(e,{hideChangeButton:!0,removable:!0,crop:!1,get prefill(){return i(t)},onchange:e=>{L(s(),r.imgProp,e)},onclick:()=>$=app.compressImageAuto,onremove:()=>L(s(),r.imgProp,"")})};Y(a,e=>{n()&&e(g)});var h=X(l,2);let p;var B=X(v(h)),S=X(B,2),k=X(h,2);Jl(k,{get value(){return s()?.imageSourceTooltip||""},set value(e){var t;t=e,s().imageSourceTooltip=t},label:"Tooltip That Shows When Hovering over it",variant:"filled"});var O=X(o,2),q=v(O);{const e=(e,t=f)=>{Ae(e,{get tab(){return t()},children:(e,o)=>{ge(e,{children:(e,o)=>{var i=le();b(()=>re(i,t())),u(e,i)},$$slots:{default:!0}})},$$slots:{default:!0}})};Oe(q,{tabs:["Cropper","Compress"],get active(){return i(m)},set active(e){c(m,e,!0)},tab:e,$$slots:{tab:!0}})}var V=X(q,2);const N=Q(()=>"Cropper"!==i(m)?"display: none;":"");Fe(V,{role:"tabpanel",variant:"unelevated",get style(){return i(N)},children:(e,t)=>{Re(e,{children:(e,t)=>{var o=Gr(),l=D(o),a=v(l);Jl(v(a),{label:"Width Aspect",type:"number",variant:"filled",get value(){return i(y)},set value(e){c(y,e,!0)}});var n=X(a,2);Jl(v(n),{label:"Height Aspect",type:"number",variant:"filled",get value(){return i(T)},set value(e){c(T,e,!0)}});var g=X(n,2),h=v(g);ue(h,{onclick:M,variant:"raised",style:"height: 100%;",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Change Aspect");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var p=X(l,2),m=v(p);ue(m,{onclick:P,variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Crop Image");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var f=X(p,2),w=e=>{var t=Ur(),o=v(t);d(o,e=>c(C,e),()=>i(C)),b(e=>xe(o,"src",e),[()=>W(s(),r.imgProp)]),u(e,t)};Y(f,e=>{_i(W(s(),r.imgProp))&&e(w)}),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var z=X(V,2);const U=Q(()=>"Compress"!==i(m)?"display: none;":"");Fe(z,{role:"tabpanel",variant:"unelevated",get style(){return i(U)},children:(e,t)=>{Re(e,{children:(e,t)=>{var o=Hr(),l=v(o);Jl(v(l),{onchange:A,label:"Image Scale",type:"number",variant:"filled",get value(){return i(I)},set value(e){c(I,e,!0)}});var a=X(l,2);Jl(v(a),{onchange:A,label:"Image Quality",type:"number",variant:"filled",get value(){return i(x)},set value(e){c(x,e,!0)}});var n=X(a,2),d=v(n);ue(d,{onclick:j,variant:"raised",style:"height: 100%;",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Compress Image");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var g=X(n,2),h=e=>{var t=Er(),o=v(t);b(e=>xe(o,"src",e),[()=>W(s(),r.imgProp)]),u(e,t)};Y(g,e=>{_i(W(s(),r.imgProp))&&e(h)}),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}}),b(e=>{p=w(h,1,"p-2",null,p,e),re(B,`${i(F)??""} kB|`),re(S,`${i(R)??""} kB`)},[()=>({hidden:!W(s(),r.imgProp)})]),u(e,t)};Y(h,e=>{i(k)?e(B):e(S,!1)}),u(e,o)},$$slots:{default:!0}});var g=X(a,2);ve(g,{children:(e,t)=>{ue(e,{action:"close",children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Close");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),g()}let Zr=0;var Kr=n("<div><!></div>");let Qr=0;var ea=n("<input/>"),ta=n('<span class="mdc-select__ripple"></span>'),oa=n('<div><!> <div><!> <!> <!> <!> <span><span> </span></span> <span><svg class="mdc-select__dropdown-icon-graphic" viewBox="7 10 10 5" focusable="false"><polygon class="mdc-select__dropdown-icon-inactive" stroke="none" fill-rule="evenodd" points="7 10 12 15 17 10"></polygon><polygon class="mdc-select__dropdown-icon-active" stroke="none" fill-rule="evenodd" points="7 15 12 10 17 15"></polygon></svg></span> <!></div> <!></div> <!>',1);function ia(r,n){t(n,!0);const[s,w]=Ve(),I=()=>We(Ke,"$selectedTextStore",s);let x=()=>{};function $(e){return e===x}let T=h(n,"use",19,()=>[]),y=h(n,"class",3,""),C=h(n,"style",3,""),B=h(n,"ripple",3,!0),S=h(n,"disabled",3,!1),O=h(n,"variant",3,"standard"),F=h(n,"noLabel",3,!1),R=h(n,"label",3,void 0),A=h(n,"value",15),N=h(n,"key",3,e=>e),z=h(n,"dirty",15,!1),E=h(n,"invalid",15,x),H=h(n,"updateInvalid",19,()=>$(E())),_=h(n,"required",3,!1),J=h(n,"inputId",19,()=>"SMUI-select-"+Qr++),K=h(n,"hiddenInput",3,!1),se=h(n,"withLeadingIcon",3,x),de=h(n,"anchor$use",19,()=>[]),ce=h(n,"anchor$class",3,""),ue=h(n,"selectedTextContainer$use",19,()=>[]),ge=h(n,"selectedTextContainer$class",3,""),ve=h(n,"selectedText$use",19,()=>[]),he=h(n,"selectedText$class",3,""),pe=h(n,"dropdownIcon$use",19,()=>[]),me=h(n,"dropdownIcon$class",3,""),fe=h(n,"menu$class",3,""),be=h(n,"alwaysFloat",3,!1),we=P(n,["$$slots","$$events","$$legacy","use","class","style","ripple","disabled","variant","noLabel","label","value","key","dirty","invalid","updateInvalid","required","inputId","hiddenInput","withLeadingIcon","anchor$use","anchor$class","selectedTextContainer$use","selectedTextContainer$class","selectedText$use","selectedText$class","dropdownIcon$use","dropdownIcon$class","menu$class","children","leadingIcon","helperText","alwaysFloat"]);const Ie=$(E());let xe;$(E())&&E(!1);let $e,Te=l(void 0),ye=e({}),Ce=e({}),Be=e({}),Se=l(-1);const ke=Q(()=>void 0!==we.menu$id?we.menu$id:J()+"-menu");let Oe,Fe,Re,Ae,Ne=l(void 0),ze=U("SMUI:addLayoutListener"),Ue=l(!1),Ge=e({}),Ee=l(void 0),He=l(void 0),_e=l(!1),Je=U("SMUI:select:context"),Ye=l(void 0),Xe=l(void 0),Ze=l(void 0);G("SMUI:list:role",""),G("SMUI:list:nav",!1);const Ke=k("");G("SMUI:select:selectedText",Ke);const Qe=k(A());o(()=>{Me(Qe,A())}),G("SMUI:select:value",Qe),o(()=>{i(Te)&&i(Te).getValue()!==N()(A())&&i(Te).setValue(N()(A()))});let et=i(Se);function tt(e){return e in ye?ye[e]:vt().classList.contains(e)}function ot(e){ye[e]||(ye[e]=!0)}function it(e){e in ye&&!ye[e]||(ye[e]=!1)}function lt(e,t){Ce[e]!=t&&(""===t||null==t?delete Ce[e]:Ce[e]=t)}function rt(e){Ge[e]||(Ge[e]=!0)}function at(e){e in Ge&&!Ge[e]||(Ge[e]=!1)}function nt(e){return e in Be?void 0!==Be[e]?Be[e]:null:vt().getAttribute(e)}function st(e,t){Be[e]!==t&&(Be[e]=t)}function dt(e){e in Be&&null==Be[e]||(Be[e]=void 0)}function ct(){return Fe.getOrderedList().map(e=>e.getValue())}function ut(e){i(Te)?.setUseDefaultValidation(e)}function gt(){i(Te)?.layout()}function vt(){return xe}o(()=>{if(et!==i(Se))if(et=i(Se),i(Te))i(Te).setSelectedIndex(i(Se),!1,!0);else{const e=ct();A()!==e[i(Se)]&&A(e[i(Se)])}}),o(()=>{i(Te)&&i(Te).getDisabled()!==S()&&i(Te).setDisabled(S())}),o(()=>{i(Te)&&z()&&i(Te).isValid()!==!E()&&(H()?E(!i(Te).isValid()):i(Te).setValid(!E()))}),o(()=>{i(Te)&&i(Te).getRequired()!==_()&&i(Te).setRequired(_())}),ze&&(Oe=ze(gt)),G("SMUI:select:leading-icon:mount",e=>{Re=e}),G("SMUI:select:leading-icon:unmount",()=>{Re=void 0}),G("SMUI:list:mount",e=>{Fe=e}),G("SMUI:select:helper-text:id",e=>{c(Ne,e,!0)}),G("SMUI:select:helper-text:mount",e=>{Ae=e}),G("SMUI:select:helper-text:unmount",()=>{c(Ne,void 0),Ae=void 0}),p(()=>(c(Te,new De({setSelectedText:e=>{Me(Ke,e)},isSelectAnchorFocused:()=>document.activeElement===$e,getSelectAnchorAttr:nt,setSelectAnchorAttr:st,removeSelectAnchorAttr:dt,addMenuClass:rt,removeMenuClass:at,openMenu:()=>{c(Ue,!0)},closeMenu:()=>{c(Ue,!1)},getAnchorElement:()=>$e,setMenuAnchorElement:e=>{c(Ee,e,!0)},setMenuAnchorCorner:e=>{c(He,e,!0)},setMenuWrapFocus:e=>{c(_e,e,!0)},getSelectedIndex:()=>i(Se),setSelectedIndex:e=>{et=e,c(Se,e,!0),A(ct()[i(Se)])},focusMenuItemAtIndex:e=>{Fe.focusItemAtIndex(e)},getMenuItemCount:()=>Fe.items.length,getMenuItemValues:()=>ct().map(N()),getMenuItemTextAtIndex:e=>Fe.getPrimaryTextAtIndex(e),isTypeaheadInProgress:()=>Fe.typeaheadInProgress,typeaheadMatchItem:(e,t)=>Fe.typeaheadMatchItem(e,t),addClass:ot,removeClass:it,hasClass:tt,setRippleCenter:e=>i(Xe)&&i(Xe).setRippleCenter(e),activateBottomLine:()=>i(Xe)&&i(Xe).activate(),deactivateBottomLine:()=>i(Xe)&&i(Xe).deactivate(),notifyChange:e=>{z(!0),H()&&E(!i(Te)?.isValid()),ae(vt(),"SMUISelectChange",{value:A(),index:i(Se)})},hasOutline:()=>!!i(Ze),notchOutline:e=>i(Ze)&&i(Ze).notch(e),closeOutline:()=>i(Ze)&&i(Ze).closeNotch(),hasLabel:()=>!!i(Ye),floatLabel:e=>i(Ye)&&i(Ye).float(e||be()),getLabelWidth:()=>i(Ye)?i(Ye).getWidth():0,setLabelRequired:e=>i(Ye)&&i(Ye).setRequired(e)},{get helperText(){return Ae},get leadingIcon(){return Re}}),!0),c(Se,ct().indexOf(A()),!0),i(Te).init(),ut(Ie),()=>{i(Te)?.destroy()})),a(()=>{Oe&&Oe()});var ht=oa(),pt=D(ht);q(pt,(e,t,o)=>({class:e,style:t,...o}),[()=>L({[y()]:!0,"mdc-select":!0,"mdc-select--required":_(),"mdc-select--disabled":S(),"mdc-select--filled":"filled"===O(),"mdc-select--outlined":"outlined"===O(),"smui-select--standard":"standard"===O(),"mdc-select--with-leading-icon":$(se())?n.leadingIcon:se(),"mdc-select--no-label":F()||null==R(),"mdc-select--invalid":E(),"mdc-select--activated":i(Ue),"mdc-data-table__pagination-rows-per-page-select":"data-table:pagination"===Je,...ye}),()=>Object.entries(Ce).map(([e,t])=>`${e}: ${t};`).concat([C()]).join(" "),()=>Z(we,["input$","anchor$","label$","outline$","selectedTextContainer$","selectedText$","dropdownIcon$","ripple$","menu$","list$","helperText$"])]);var mt=v(pt),ft=e=>{var t=ea();q(t,e=>({type:"hidden",required:_(),disabled:S(),value:A(),...e}),[()=>te(we,"input$")]),u(e,t)};Y(mt,e=>{K()&&e(ft)});var bt=X(mt,2),wt=e=>{$e.focus(),i(Te)&&i(Te).handleClick(function(e){const t=e.currentTarget.getBoundingClientRect();return(function(e){return"touches"in e}(e)?e.touches[0].clientX:e.clientX)-t.left}(e)),n.anchor$onclick?.(e)},It=e=>{i(Te)&&i(Te).handleKeydown(e),n.onkeydown?.(e)},xt=e=>{i(Te)&&i(Te).handleBlur(),ae(vt(),"blur",e),n.anchor$onblur?.(e)},$t=e=>{i(Te)&&i(Te).handleFocus(),ae(vt(),"focus",e),n.anchor$onfocus?.(e)};q(bt,(e,t)=>({class:e,"aria-required":_()?"true":void 0,"aria-disabled":S()?"true":void 0,"aria-controls":i(ke),"aria-expanded":i(Ue)?"true":"false","aria-describedby":i(Ne),role:"combobox",tabindex:"0",...Be,...t,onclick:wt,onkeydown:It,onblur:xt,onfocus:$t}),[()=>L({[ce()]:!0,"mdc-select__anchor":!0}),()=>te(we,"anchor$")]);var Tt=v(bt),yt=e=>{var t=ta();u(e,t)};Y(Tt,e=>{"filled"===O()&&e(yt)});var Ct=X(Tt,2),Bt=e=>{const t=Q(()=>J()+"-smui-label"),o=Q(()=>""!==I()||be());var l=Q(()=>te(we,"label$"));d(ie(e,j({get id(){return i(t)},get floatAbove(){return i(o)},get required(){return _()}},()=>i(l),{children:(e,t)=>{var o=M(),i=D(o),l=e=>{},r=(e,t)=>{var o=e=>{var t=le();b(()=>re(t,R())),u(e,t)},i=e=>{var t=M(),o=D(t);m(o,R),u(e,t)};Y(e,e=>{"string"==typeof R()?e(o):e(i,!1)},t)};Y(i,e=>{null==R()?e(l):e(r,!1)}),u(e,o)},$$slots:{default:!0}})),e=>c(Ye,e,!0),()=>i(Ye))};Y(Ct,e=>{"outlined"===O()||F()||null==R()||e(Bt)});var St=X(Ct,2),kt=e=>{const t=Q(()=>F()||null==R());var o=Q(()=>te(we,"outline$"));d(oe(e,j({get noLabel(){return i(t)}},()=>i(o),{children:(e,t)=>{var o=M(),l=D(o),r=e=>{const t=Q(()=>J()+"-smui-label"),o=Q(()=>""!==I()||be());var l=Q(()=>te(we,"label$"));d(ie(e,j({get id(){return i(t)},get floatAbove(){return i(o)},get required(){return _()}},()=>i(l),{children:(e,t)=>{var o=M(),i=D(o),l=e=>{},r=(e,t)=>{var o=e=>{var t=le();b(()=>re(t,R())),u(e,t)},i=e=>{var t=M(),o=D(t);m(o,R),u(e,t)};Y(e,e=>{"string"==typeof R()?e(o):e(i,!1)},t)};Y(i,e=>{null==R()?e(l):e(r,!1)}),u(e,o)},$$slots:{default:!0}})),e=>c(Ye,e,!0),()=>i(Ye))};Y(l,e=>{F()||null==R()||e(r)}),u(e,o)},$$slots:{default:!0}})),e=>c(Ze,e,!0),()=>i(Ze))};Y(St,e=>{"outlined"===O()&&e(kt)});var Ot=X(St,2);m(Ot,()=>n.leadingIcon??f);var Ft=X(Ot,2);q(Ft,(e,t)=>({class:e,...t}),[()=>L({[ge()]:!0,"mdc-select__selected-text-container":!0}),()=>te(we,"selectedTextContainer$")]);var Rt=v(Ft);q(Rt,(e,t)=>({id:J()+"-smui-selected-text",class:e,role:"button","aria-haspopup":"listbox","aria-labelledby":J()+"-smui-label",...t}),[()=>L({[he()]:!0,"mdc-select__selected-text":!0}),()=>te(we,"selectedText$")]);var At=v(Rt);W(Rt,(e,t)=>V?.(e,t),ve),W(Ft,(e,t)=>V?.(e,t),ue);var jt=X(Ft,2);q(jt,(e,t)=>({class:e,...t}),[()=>L({[me()]:!0,"mdc-select__dropdown-icon":!0}),()=>te(we,"dropdownIcon$")]),W(jt,(e,t)=>V?.(e,t),pe);var Mt=X(jt,2),Dt=e=>{var t=Q(()=>te(we,"ripple$"));d(ne(e,j(()=>i(t))),e=>c(Xe,e,!0),()=>i(Xe))};Y(Mt,e=>{"outlined"!==O()&&B()&&e(Dt)}),d(bt,e=>$e=e,()=>$e),W(bt,(e,t)=>V?.(e,t),de);var Pt=X(bt,2);const qt=Q(()=>L({[fe()]:!0,"mdc-select__menu":!0,...Ge}));var Lt=Q(()=>te(we,"menu$"));Pe(Pt,j({get class(){return i(qt)},get id(){return i(ke)},fullWidth:!0,anchor:!1,get anchorElement(){return i(Ee)},get anchorCorner(){return i(He)}},()=>i(Lt),{onSMUIMenuSelected:e=>{i(Te)&&i(Te).handleMenuItemAction(e.detail.index),n.onSMUIMenuSelected?.(e)},onSMUIMenuSurfaceClosing:e=>{i(Te)&&i(Te).handleMenuClosing(),n.onSMUIMenuSurfaceClosing?.(e)},onSMUIMenuSurfaceClosed:e=>{i(Te)&&i(Te).handleMenuClosed(),n.onSMUIMenuSurfaceClosed?.(e)},onSMUIMenuSurfaceOpened:e=>{i(Te)&&i(Te).handleMenuOpened(),n.onSMUIMenuSurfaceOpened?.(e)},get open(){return i(Ue)},set open(e){c(Ue,e,!0)},children:(e,t)=>{var o=Q(()=>te(we,"list$"));qe(e,j({role:"listbox",get wrapFocus(){return i(_e)}},()=>i(o),{style:"max-height: 296px",get selectedIndex(){return i(Se)},set selectedIndex(e){c(Se,e,!0)},children:(e,t)=>{var o=M(),i=D(o);m(i,()=>n.children??f),u(e,o)},$$slots:{default:!0}}))},$$slots:{default:!0}})),d(pt,e=>xe=e,()=>xe),W(pt,(e,t)=>ee?.(e,t),()=>({ripple:"filled"===O(),unbounded:!1,addClass:ot,removeClass:it,addStyle:lt})),W(pt,(e,t)=>Le?.(e,t),()=>({addClass:ot,removeClass:it})),W(pt,(e,t)=>V?.(e,t),T);var Wt=X(pt,2),Vt=o=>{var r=Q(()=>te(we,"helperText$"));!function(o,r){t(r,!0);let a,n=h(r,"use",19,()=>[]),s=h(r,"class",3,""),w=h(r,"id",19,()=>"SMUI-select-helper-text-"+Zr++),I=h(r,"persistent",3,!1),x=h(r,"validationMsg",3,!1),$=P(r,["$$slots","$$events","$$legacy","use","class","id","persistent","validationMsg","children"]),T=l(void 0),y=e({}),C=e({}),B=l(void 0);const S=U("SMUI:select:helper-text:id"),k=U("SMUI:select:helper-text:mount"),O=U("SMUI:select:helper-text:unmount");function F(e){return e in y?y[e]:G().classList.contains(e)}function R(e){y[e]||(y[e]=!0)}function A(e){e in y&&!y[e]||(y[e]=!1)}function j(e){return e in C?void 0!==C[e]?C[e]:null:G().getAttribute(e)}function N(e,t){C[e]!==t&&(C[e]=t)}function z(e){e in C&&null==C[e]||(C[e]=void 0)}function G(){return a}p(()=>(c(T,new je({addClass:R,removeClass:A,hasClass:F,getAttr:j,setAttr:N,removeAttr:z,setContent:e=>{c(B,e,!0)}}),!0),S&&S(w()),k&&k(i(T)),i(T).init(),()=>{O&&i(T)&&O(i(T)),i(T)?.destroy()}));var E=Kr();q(E,e=>({class:e,"aria-hidden":I()?void 0:"true",id:w(),...C,...$}),[()=>L({[s()]:!0,"mdc-select-helper-text":!0,"mdc-select-helper-text--validation-msg":x(),"mdc-select-helper-text--validation-msg-persistent":I(),...y})]);var H=v(E),_=e=>{var t=M(),o=D(t);m(o,()=>r.children??f),u(e,t)},J=e=>{var t=le();b(()=>re(t,i(B))),u(e,t)};Y(H,e=>{null==i(B)?e(_):e(J,!1)}),d(E,e=>a=e,()=>a),W(E,(e,t)=>V?.(e,t),n),u(o,E),g({getElement:G})}(o,j(()=>i(r),{children:(e,t)=>{var o=M(),i=D(o);m(i,()=>n.helperText??f),u(e,o)},$$slots:{default:!0}}))};Y(Wt,e=>{n.helperText&&e(Vt)}),b(()=>re(At,I())),u(r,ht);var Nt=g({getUseDefaultValidation:function(){if(null==i(Te))throw new Error("Instance is undefined.");return i(Te).getUseDefaultValidation()},setUseDefaultValidation:ut,focus:function(){$e.focus()},layout:gt,getElement:vt});return w(),Nt}function la(e,o){t(o,!0);const[l,r]=Ve();let n=h(o,"use",19,()=>[]);h(o,"class",3,"");let s,c=h(o,"value",3,""),v=P(o,["$$slots","$$events","$$legacy","use","class","value","children"]);const b=U("SMUI:select:selectedText"),w=U("SMUI:select:value");G("SMUI:list:item:role","option");const I=Q(()=>null!=c()&&""!==c()&&We(w,"$selectedValue",l)===c());function x(){i(I)&&s&&Me(b,s.getPrimaryText())}p(x),a(x),d(Ne(e,j({get use(){return n()},get"data-value"(){return c()},get value(){return c()},get selected(){return i(I)}},()=>v,{children:(e,t)=>{var i=M(),l=D(i);m(l,()=>o.children??f),u(e,i)},$$slots:{default:!0}})),e=>s=e,()=>s);var $=g({getElement:function(){return s.getElement()}});return r(),$}var ra=n('<span class="title--text">Addon Design</span>'),aa=n('<span class="title--text">Addon Design</span>'),na=n("<!> <!>",1),sa=n('<div class="col-12 pb-3"><!></div>'),da=n('<div class="row"><div class="col-lg-4 col-12 gy-2"><div class="col-12 px-3">Margin and Padding</div> <!> <!> <div class="col-12 px-3">Border Style and Width</div> <!> <!> <!></div> <div class="col-lg-4 col-12 gy-2"><div class="col-12 px-3">Shadow that the addon makes</div> <!> <!> <!> <!> <!> <!></div> <div class="col-lg-4 col-12 gy-2"><div class="col-12 px-3">Rounded corners on the addon</div> <!> <!> <!> <!> <!> <!></div></div>'),ca=n('<div class="row"><div class="col-lg-4 col-12 gy-2"><div class="col-12 px-3">Margin and Padding of the addons</div> <!> <!> <!></div> <div class="col-lg-4 col-12 gy-2"><div class="col-12 px-3">Border Style and Width</div> <!> <!> <!></div> <div class="col-lg-4 col-12 gy-2"><div class="col-12 px-3">Rounded corners on the addon</div> <!> <!> <div class="col-12 px-3">Shadow that the addon makes</div> <!></div></div>'),ua=n('<!> <!> <!> <div class="col-12">You might need to leave for the main menu if things stop updating, using something like (green, green) works. <a href="https://www.w3schools.com/css/css3_gradients.asp">https://www.w3schools.com/css/css3_gradients.asp</a></div>',1),ga=(e,t,o)=>{c(t,"appImageUpload"),c(o,"addonBackgroundImage")},va=n('<button type="button" class="btn--image-background"><img alt="Addon Background" loading="lazy" class="btn--image" style="max-height: 80px;"/></button>'),ha=n("<!> <!> <div><!> <!></div>",1),pa=n("<!> <div><!></div>",1),ma=(e,t,o)=>{c(t,"appImageUpload"),c(o,"addonBorderImage")},fa=n('<button type="button" class="btn--image-background"><img alt="Addon Border" loading="lazy" class="btn--image" style="max-height: 140px;"/></button>'),ba=n('<div class="container-fluid"><!> <div><div class="col-12 pb-3"><!></div> <!> <div class="row"><div class="col-lg-4 col-12 gy-2 text-center"><div class="col-12 px-3">Border Color</div> <div><!></div></div> <div class="col-lg-4 col-12 gy-2 text-center"><div class="col-12 px-3">Color of the addpm shadow</div> <div><!></div></div> <div class="col-lg-4 col-12 gy-2"><!> <!> <!> <!> <!></div></div> <div class="row"><div class="col-12 text-center">Border Image</div> <div class="col-lg-4 col-12 gy-2"><div class="col-12 text-center px-5"><!> <!></div></div> <div class="col-lg-8 col-12 gy-2"><div class="row"><div class="col-lg-4 col-12 gy-2"><!> <!></div> <div class="col-lg-4 col-12 gy-2"><!> <!></div> <div class="col-lg-4 col-12 gy-2"><!> <!></div></div></div></div></div></div>'),wa=n("<!> <!> <!>",1),Ia=n("<!> <!>",1);function xa(o,r){t(r,!0);let a=h(r,"open",7),n=h(r,"data",7);const s=["solid","dotted","dashed","double","groove","ridge","inset","outset","hidden"],d=["stretch","repeat","round","space"];let p=l("none"),m=l(""),f=l(e(void 0!==n()?n().styling||Kt:app.styling)),I=l(!1),x=Q(()=>i(I)?"opacity: 0.2":""),$=Q(()=>i(f).addonBorderRadiusIsPixels?"px":"%"),T=Q(()=>void 0===n()?!i(f).useAddonDesign:!n().privateAddonIsOn);var y=Ia(),C=D(y);const B=Q(()=>"none"===i(p)?"close":"");se(C,{get escapeKeyAction(){return i(B)},surface$style:"width: 1200px; max-width: calc(100vw - 32px);",get onSMUIDialogClosed(){return r.onclose},get style(){return i(x)},get open(){return a()},set open(e){a(e)},children:(e,t)=>{var o=wa(),l=D(o);de(l,{class:"dialog-title",tabindex:0,autofocus:!0,children:(e,t)=>{var o=na(),l=D(o),r=e=>{Se(e,{label:e=>{var t=ra();u(e,t)},children:(e,t)=>{ze(e,{get checked(){return n().privateAddonIsOn??!1},set checked(e){var t;t=e,n().privateAddonIsOn=t},onchange:()=>{if(n().privateAddonIsOn){let e=JSON.parse(JSON.stringify(Kt));Object.keys(Kt).forEach(t=>{if(app.styling.hasOwnProperty(t)){let o=app.styling[t];void 0!==o&&(e[t]=o)}}),n().styling={...n().styling||{},...e},c(f,n().styling,!0)}else Object.keys(Kt).forEach(e=>{n().styling&&app.styling.hasOwnProperty(e)&&delete n().styling[e]})}})},$$slots:{label:!0,default:!0}})},a=e=>{var t=aa();u(e,t)};Y(l,e=>{void 0!==n()?e(r):e(a,!1)});var s=X(l,2);Se(s,{label:e=>{var t=le("Preview Behind Dialog");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(I)},set checked(e){c(I,e,!0)}})},$$slots:{label:!0,default:!0}});u(e,o)},$$slots:{default:!0}});var r=X(l,2);ce(r,{class:"p-0",children:(e,t)=>{Ue(e,{class:"no-shadow",children:(e,t)=>{Ge(e,{children:(e,t)=>{var o=ba(),l=v(o),r=e=>{var t=sa(),o=v(t);Se(o,{label:e=>{var t=le("Use a Seperate Design?");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return i(f).useAddonDesign??!1},set checked(e){var t;t=e,i(f).useAddonDesign=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});u(e,t)};Y(l,e=>{void 0===n()&&e(r)});var a=X(l,2);let g;var h=v(a),I=v(h);Se(I,{label:e=>{var t=le("Advanced Design?");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return i(f).addonDesignIsAdvanced??!1},set checked(e){var t;t=e,i(f).addonDesignIsAdvanced=t},get disabled(){return i(T)},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var x=X(h,2),y=e=>{var t=da(),o=v(t),l=X(v(o),2);Jl(l,{class:"mb-4",get value(){return i(f).addonMargin??0},set value(e){var t;t=e,i(f).addonMargin=t},label:"Margin",type:"number",suffix:"px",variant:"filled"});var r=X(l,2);Jl(r,{class:"mb-half",get value(){return i(f).addonTextPadding??0},set value(e){var t;t=e,i(f).addonTextPadding=t},label:"Padding",type:"number",suffix:"px",variant:"filled"});var a=X(r,4);ia(a,{class:"mb-4",get value(){return i(f).addonBorderStyle??""},set value(e){var t;t=e,i(f).addonBorderStyle=t},label:"Border Style",variant:"filled",children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>s,He,(e,t)=>{la(e,{get value(){return i(t)},children:(e,o)=>{var l=le();b(()=>re(l,i(t))),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}});var n=X(a,2);Jl(n,{class:"mb-4",get value(){return i(f).addonBorderWidth??0},set value(e){var t;t=e,i(f).addonBorderWidth=t},label:"Border Width",type:"number",suffix:"px",variant:"filled"});var d=X(n,2);Se(d,{class:"w-100",label:e=>{var t=le("Border is turned on");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(f).addonBorderIsOn??!1},set checked(e){var t;t=e,i(f).addonBorderIsOn=t}})},$$slots:{label:!0,default:!0}});var c=X(o,2),g=X(v(c),2);Jl(g,{class:"mb-4",get value(){return i(f).addonDropShadowH??0},set value(e){var t;t=e,i(f).addonDropShadowH=t},label:"Horizontal Shadow",type:"number",suffix:"px",variant:"filled"});var h=X(g,2);Jl(h,{class:"mb-4",get value(){return i(f).addonDropShadowV??0},set value(e){var t;t=e,i(f).addonDropShadowV=t},label:"Vertical Shadow",type:"number",suffix:"px",variant:"filled"});var p=X(h,2);Jl(p,{class:"mb-4",get value(){return i(f).addonDropShadowBlur??0},set value(e){var t;t=e,i(f).addonDropShadowBlur=t},label:"Shadow Blur",type:"number",suffix:"px",variant:"filled"});var m=X(p,2);Jl(m,{class:"mb-4",get value(){return i(f).addonDropShadowSpread??0},set value(e){var t;t=e,i(f).addonDropShadowSpread=t},label:"Shadow Spread",type:"number",suffix:"px",variant:"filled"});var w=X(m,2);Se(w,{class:"w-100",label:e=>{var t=le("Drop Shadow or Box Shadow?");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return i(f).addonUseBoxShadowIsOn??!1},set checked(e){var t;t=e,i(f).addonUseBoxShadowIsOn=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var I=X(w,2);Se(I,{class:"w-100",label:e=>{var t=le("Shadow Is turned on");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(f).addonDropShadowIsOn??!1},set checked(e){var t;t=e,i(f).addonDropShadowIsOn=t}})},$$slots:{label:!0,default:!0}});var x=X(c,2),T=X(v(x),2);Jl(T,{class:"mb-4",get value(){return i(f).addonBorderRadiusTopLeft??0},set value(e){var t;t=e,i(f).addonBorderRadiusTopLeft=t},label:"Border-radius Top Left",type:"number",get suffix(){return i($)},variant:"filled"});var y=X(T,2);Jl(y,{class:"mb-4",get value(){return i(f).addonBorderRadiusTopRight??0},set value(e){var t;t=e,i(f).addonBorderRadiusTopRight=t},label:"Border-radius Top Right",type:"number",get suffix(){return i($)},variant:"filled"});var C=X(y,2);Jl(C,{class:"mb-4",get value(){return i(f).addonBorderRadiusBottomRight??0},set value(e){var t;t=e,i(f).addonBorderRadiusBottomRight=t},label:"Border-radius Bottom Right",type:"number",get suffix(){return i($)},variant:"filled"});var B=X(C,2);Jl(B,{class:"mb-4",get value(){return i(f).addonBorderRadiusBottomLeft??0},set value(e){var t;t=e,i(f).addonBorderRadiusBottomLeft=t},label:"Border-radius Bottom Left",type:"number",get suffix(){return i($)},variant:"filled"});var S=X(B,2);Se(S,{class:"w-100",label:e=>{var t=le("Border-Radius Percent or Pixels?");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return i(f).addonBorderRadiusIsPixels??!1},set checked(e){var t;t=e,i(f).addonBorderRadiusIsPixels=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var k=X(S,2);Se(k,{class:"w-100",label:e=>{var t=le("Border-Radius Cuts off overflow");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(f).addonOverflowIsOn??!1},set checked(e){var t;t=e,i(f).addonOverflowIsOn=t}})},$$slots:{label:!0,default:!0}});u(e,t)},C=e=>{var t=ca(),o=v(t),l=X(v(o),2);Jl(l,{class:"mb-4",get value(){return i(f).addonMargin??0},set value(e){var t;t=e,i(f).addonMargin=t},label:"Space between the addons",type:"number",suffix:"px",variant:"filled"});var r=X(l,2);Jl(r,{class:"mb-4",get value(){return i(f).addonTextPadding??0},set value(e){var t;t=e,i(f).addonTextPadding=t},label:"Space between the text in the addons and its border",type:"number",suffix:"px",variant:"filled"});var a=X(r,2);Se(a,{class:"w-100",label:e=>{var t=le("Border is turned on");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(f).addonBorderIsOn??!1},set checked(e){var t;t=e,i(f).addonBorderIsOn=t}})},$$slots:{label:!0,default:!0}});var n=X(o,2),d=X(v(n),2);ia(d,{class:"mb-4",get value(){return i(f).addonBorderStyle??""},set value(e){var t;t=e,i(f).addonBorderStyle=t},label:"Border Style",variant:"filled",children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>s,He,(e,t)=>{la(e,{get value(){return i(t)},children:(e,o)=>{var l=le();b(()=>re(l,i(t))),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}});var c=X(d,2);Jl(c,{class:"mb-4",get value(){return i(f).addonBorderWidth??0},set value(e){var t;t=e,i(f).addonBorderWidth=t},label:"Border Width",type:"number",suffix:"px",variant:"filled"});var g=X(c,2);Se(g,{class:"w-100",label:e=>{var t=le("Drop Shadow Is turned on");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(f).addonDropShadowIsOn??!1},set checked(e){var t;t=e,i(f).addonDropShadowIsOn=t}})},$$slots:{label:!0,default:!0}});var h=X(n,2),p=X(v(h),2);Jl(p,{class:"mb-4",get value(){return i(f).addonBorderRadiusTopLeft??0},set value(e){var t;t=e,i(f).addonBorderRadiusTopLeft=t},onchange:()=>i(f).addonBorderRadiusTopRight=i(f).addonBorderRadiusTopLeft,label:"Border-radius Top",type:"number",get suffix(){return i($)},variant:"filled"});var m=X(p,2);Jl(m,{class:"mb-half",get value(){return i(f).addonBorderRadiusBottomLeft??0},set value(e){var t;t=e,i(f).addonBorderRadiusBottomLeft=t},onchange:()=>i(f).addonBorderRadiusBottomRight=i(f).addonBorderRadiusBottomLeft,label:"Border-radius Bottom",type:"number",get suffix(){return i($)},variant:"filled"});var w=X(m,4);Jl(w,{class:"mb-4",get value(){return i(f).addonDropShadowH??0},set value(e){var t;t=e,i(f).addonDropShadowH=t},onchange:()=>{i(f).addonDropShadowV=i(f).addonDropShadowH,i(f).addonDropShadowSpread=i(f).addonDropShadowH,i(f).addonDropShadowBlur=i(f).addonDropShadowH},label:"The Higher the number the bigger the shadow will be",type:"number",suffix:"px",variant:"filled"}),u(e,t)};Y(x,e=>{i(f).addonDesignIsAdvanced?e(y):e(C,!1)});var B=X(x,2),S=v(B),k=X(v(S),2);let O;var F=v(k);Sr(F,{get hex(){return i(f).addonBorderColor??"#000000"},set hex(e){var t;t=e,i(f).addonBorderColor=t},get components(){return Or},sliderDirection:"horizontal",isDialog:!1});var R=X(S,2),A=X(v(R),2);let j;var P=v(A);Sr(P,{get hex(){return i(f).addonDropShadowColor??"#000000"},set hex(e){var t;t=e,i(f).addonDropShadowColor=t},get components(){return Or},sliderDirection:"horizontal",isDialog:!1});var q=X(R,2),L=v(q);Se(L,{class:"w-100",label:e=>{var t=le("Apply padding to the Addon Title");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(f).titlePaddingIsOn??!1},set checked(e){var t;t=e,i(f).titlePaddingIsOn=t}})},$$slots:{label:!0,default:!0}});var W=X(L,2);Se(W,{class:"w-100",label:e=>{var t=le("Addon Gradient is turned on");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(f).addonGradientIsOn??!1},set checked(e){var t;t=e,i(f).addonGradientIsOn=t}})},$$slots:{label:!0,default:!0}});var V=X(W,2),N=e=>{var t=ua(),o=D(t);Jl(o,{get value(){return i(f).addonGradient??""},set value(e){var t;t=e,i(f).addonGradient=t},label:"Gradient when Not Selected",variant:"filled",input$placeholder:"to left, blue, red"});var l=X(o,2);Jl(l,{get value(){return i(f).addonGradientOnSelect??""},set value(e){var t;t=e,i(f).addonGradientOnSelect=t},label:"Gradient when Selected",variant:"filled",input$placeholder:"to left, blue, red"});var r=X(l,2);Jl(r,{get value(){return i(f).addonGradientOnReq??""},set value(e){var t;t=e,i(f).addonGradientOnReq=t},label:"Gradient when Missing Requirement",variant:"filled",input$placeholder:"to left, blue, red"}),u(e,t)};Y(V,e=>{i(f).addonGradientIsOn&&e(N)});var z=X(V,2);Se(z,{label:e=>{var t=le("Use a Background Image?");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return i(f).useAddonBackgroundImage??!1},set checked(e){var t;t=e,i(f).useAddonBackgroundImage=t},get disabled(){return i(T)},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var U=X(z,2),G=e=>{var t=ha(),o=D(t);Se(o,{class:"w-100",label:e=>{var t=le("Does it repeat?");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(f).isAddonBackgroundRepeat??!1},set checked(e){var t;t=e,i(f).isAddonBackgroundRepeat=t},onchange:()=>{i(f).isAddonBackgroundRepeat&&(i(f).isAddonBackgroundFitIn=!1)}})},$$slots:{label:!0,default:!0}});var l=X(o,2);Se(l,{class:"w-100",label:e=>{var t=le("Does it fit in?");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(f).isAddonBackgroundFitIn??!1},set checked(e){var t;t=e,i(f).isAddonBackgroundFitIn=t},onchange:()=>{i(f).isAddonBackgroundFitIn&&(i(f).isAddonBackgroundRepeat=!1)}})},$$slots:{label:!0,default:!0}});var r=X(l,2),a=v(r),n=e=>{var t=va();t.__click=[ga,p,m];var o=v(t);b(()=>xe(o,"src",i(f).addonBackgroundImage)),u(e,t)};Y(a,e=>{i(f).addonBackgroundImage&&e(n)});var s=X(a,2);ue(s,{onclick:()=>{c(p,"appImageUpload"),c(m,"addonBackgroundImage")},variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Change Image");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,t)},E=e=>{var t=pa(),o=D(t);Se(o,{class:"w-100",label:e=>{var t=le("Use addon background color?");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(f).addonBgColorIsOn??!1},set checked(e){var t;t=e,i(f).addonBgColorIsOn=t}})},$$slots:{label:!0,default:!0}});var l=X(o,2);let r;var a=v(l);Sr(a,{get hex(){return i(f).addonBgColor??"#000000"},set hex(e){var t;t=e,i(f).addonBgColor=t},get components(){return Or},sliderDirection:"horizontal"}),b(e=>r=w(l,1,"",null,r,e),[()=>({disabled:!i(f).addonBgColorIsOn})]),u(e,t)};Y(U,e=>{i(f).useAddonBackgroundImage?e(G):e(E,!1)});var H=X(B,2),_=X(v(H),2),J=v(_),Z=v(J),K=e=>{var t=fa();t.__click=[ma,p,m];var o=v(t);b(()=>xe(o,"src",i(f).addonBorderImage)),u(e,t)};Y(Z,e=>{i(f).addonBorderImage&&e(K)});var Q=X(Z,2);ue(Q,{onclick:()=>{c(p,"appImageUpload"),c(m,"addonBorderImage")},variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Change Image");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var ee=X(_,2),te=v(ee),oe=v(te),ie=v(oe);ia(ie,{class:"mb-4",get value(){return i(f).addonBorderImageRepeat??""},set value(e){var t;t=e,i(f).addonBorderImageRepeat=t},label:"Image Repeat",variant:"filled",children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>d,He,(e,t)=>{la(e,{get value(){return i(t)},children:(e,o)=>{var l=le();b(()=>re(l,i(t))),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}});var ae=X(ie,2);Jl(ae,{class:"mb-4",get value(){return i(f).addonBorderImageWidth??0},set value(e){var t;t=e,i(f).addonBorderImageWidth=t},label:"Border Width",type:"number",suffix:"px",variant:"filled"});var ne=X(oe,2),se=v(ne);Jl(se,{class:"mb-4",get value(){return i(f).addonBorderImageSliceTop??0},set value(e){var t;t=e,i(f).addonBorderImageSliceTop=t},label:"Slice Top",type:"number",suffix:"px",variant:"filled"});var de=X(se,2);Jl(de,{class:"mb-4",get value(){return i(f).addonBorderImageSliceBottom??0},set value(e){var t;t=e,i(f).addonBorderImageSliceBottom=t},label:"Slice Bottom",type:"number",suffix:"px",variant:"filled"});var ce=X(ne,2),ve=v(ce);Jl(ve,{class:"mb-4",get value(){return i(f).addonBorderImageSliceLeft??0},set value(e){var t;t=e,i(f).addonBorderImageSliceLeft=t},label:"Slice Left",type:"number",suffix:"px",variant:"filled"});var he=X(ve,2);Jl(he,{class:"mb-4",get value(){return i(f).addonBorderImageSliceRight??0},set value(e){var t;t=e,i(f).addonBorderImageSliceRight=t},label:"Slice Right",type:"number",suffix:"px",variant:"filled"}),b((e,t,o)=>{g=w(a,1,"",null,g,e),O=w(k,1,"",null,O,t),j=w(A,1,"",null,j,o)},[()=>({disabled:i(T)}),()=>({disabled:!i(f).addonBorderIsOn}),()=>({disabled:!i(f).addonDropShadowIsOn})]),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}});var a=X(r,2);ve(a,{children:(e,t)=>{ue(e,{action:"close",children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Close");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}});var S=X(C,2),k=e=>{const t=Q(()=>"appImageUpload"===i(p));Xr(e,{get open(){return i(t)},onclose:()=>c(p,"none"),get imgObject(){return i(f)},get imgProp(){return i(m)},canHaveURL:!0})};Y(S,e=>{"appImageUpload"===i(p)&&e(k)}),u(o,y),g()}he(["click"]);var $a=n('<span class="title--text">Addon Image Design</span>'),Ta=n('<span class="title--text">Addon Image Design</span>'),ya=n("<!> <!>",1),Ca=n('<div class="col-12 pb-3"><!></div>'),Ba=n('<div class="container-fluid"><!> <div><div class="row"><div class="col-lg-4 col-12 gy-2"><div class="col-12 px-3">Style and Width of the border</div> <!> <!> <div class="col-12 px-3">Size and Margin of the addon image</div> <!> <!> <!> <div class="col-12 px-3">Works only with the Image Left/Right template</div> <!></div> <div class="col-lg-4 col-12 gy-2"><div class="col-12 px-3">Rounded corners on the image</div> <!> <!> <!> <!> <!> <!> <!></div> <div class="col-lg-4 col-12 gy-2 text-center"><div class="col-12 px-3">Border Color</div> <div><!></div></div></div> <div class="row pt-4"><!> <div class="col-12 px-3">How the images fit inside of the addon.</div> <div class="col-12 px-3">A textfield where you can decide the Size of the container will appear in Row Settings when the switch is on.</div> <div class="col-12"><!></div></div></div></div>'),Sa=n("<!> <!> <!>",1);function ka(o,r){t(r,!0);let a=h(r,"open",7),n=h(r,"data",7);const s=["solid","dotted","dashed","double","groove","ridge","inset","outset","hidden"],d=[{value:"fill",text:"Fill: The replaced content is sized to fill the element's content box. If necessary, the object will be stretched or squished to fit"},{value:"contain",text:"Contain: The replaced content is scaled to maintain its aspect ratio while fitting within the element's content box"},{value:"cover",text:"Cover: The replaced content is sized to maintain its aspect ratio while filling the element's entire content box. The object will be clipped to fit"},{value:"scale-down",text:"Scale-down: The content is sized as if none or contain were specified (would result in a smaller concrete object size)"},{value:"none",text:"None: The replaced content is not resized"}];let p=l(e(void 0!==n()?n().styling||Jt:app.styling)),m=l(!1),f=Q(()=>i(m)?"opacity: 0.2":""),I=Q(()=>i(p).addonImgBorderRadiusIsPixels?"px":"%"),x=Q(()=>void 0===n()?!i(p).useAddonImage:!n().privateAddonImageIsOn);se(o,{surface$style:"width: 1200px; max-width: calc(100vw - 32px);",get onSMUIDialogClosed(){return r.onclose},get style(){return i(f)},get open(){return a()},set open(e){a(e)},children:(e,t)=>{var o=Sa(),l=D(o);de(l,{class:"dialog-title",tabindex:0,autofocus:!0,children:(e,t)=>{var o=ya(),l=D(o),r=e=>{Se(e,{label:e=>{var t=$a();u(e,t)},children:(e,t)=>{ze(e,{get checked(){return n().privateAddonImageIsOn??!1},set checked(e){var t;t=e,n().privateAddonImageIsOn=t},onchange:()=>{if(n().privateAddonImageIsOn){let e=JSON.parse(JSON.stringify(Jt));Object.keys(Jt).forEach(t=>{if(app.styling.hasOwnProperty(t)){let o=app.styling[t];void 0!==o&&(e[t]=o)}}),n().styling={...n().styling||{},...e},c(p,n().styling,!0)}else Object.keys(Jt).forEach(e=>{n().styling&&app.styling.hasOwnProperty(e)&&delete n().styling[e]})}})},$$slots:{label:!0,default:!0}})},a=e=>{var t=Ta();u(e,t)};Y(l,e=>{void 0!==n()?e(r):e(a,!1)});var s=X(l,2);Se(s,{label:e=>{var t=le("Preview Behind Dialog");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(m)},set checked(e){c(m,e,!0)}})},$$slots:{label:!0,default:!0}});u(e,o)},$$slots:{default:!0}});var r=X(l,2);ce(r,{class:"p-0",children:(e,t)=>{Ue(e,{class:"no-shadow",children:(e,t)=>{Ge(e,{children:(e,t)=>{var o=Ba(),l=v(o),r=e=>{var t=Ca(),o=v(t);Se(o,{label:e=>{var t=le("Use a Seperate Design?");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return i(p).useAddonImage??!1},set checked(e){var t;t=e,i(p).useAddonImage=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});u(e,t)};Y(l,e=>{void 0===n()&&e(r)});var a=X(l,2);let c;var g=v(a),h=v(g),m=X(v(h),2);ia(m,{class:"mb-4",get value(){return i(p).addonImgBorderStyle??""},set value(e){var t;t=e,i(p).addonImgBorderStyle=t},label:"Border Style",variant:"filled",children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>s,He,(e,t)=>{la(e,{get value(){return i(t)},children:(e,o)=>{var l=le();b(()=>re(l,i(t))),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}});var f=X(m,2);Jl(f,{class:"mb-half",get value(){return i(p).addonImgBorderWidth??0},set value(e){var t;t=e,i(p).addonImgBorderWidth=t},label:"Thickness of the border",type:"number",suffix:"px",variant:"filled"});var $=X(f,4);Jl($,{class:"mb-4",get value(){return i(p).addonImageWidth??0},set value(e){var t;t=e,i(p).addonImageWidth=t},label:"Width of the image inside of the row",type:"number",suffix:"%",variant:"filled"});var T=X($,2);Jl(T,{class:"mb-4",get value(){return i(p).addonImageMarginTop??0},set value(e){var t;t=e,i(p).addonImageMarginTop=t},label:"Space Between Top of row and Image",type:"number",suffix:"%",variant:"filled"});var y=X(T,2);Jl(y,{class:"mb-half",get value(){return i(p).addonImageMarginBottom??0},set value(e){var t;t=e,i(p).addonImageMarginBottom=t},label:"Space Between Title and Image",type:"number",suffix:"%",variant:"filled"});var C=X(y,4);Jl(C,{class:"mb-half",get value(){return i(p).addonImageBoxWidth??0},set value(e){var t;t=e,i(p).addonImageBoxWidth=t},label:"Width of the image box inside of row",type:"number",suffix:"%",variant:"filled",onchange:()=>i(p).addonImageBoxWidth=Math.max(0,Math.min(100,i(p).addonImageBoxWidth??50)),input$min:0,input$max:100});var B=X(h,2),S=X(v(B),2);Jl(S,{class:"mb-4",get value(){return i(p).addonImgBorderRadiusTopLeft??0},set value(e){var t;t=e,i(p).addonImgBorderRadiusTopLeft=t},label:"Border-radius Top Left",type:"number",get suffix(){return i(I)},variant:"filled"});var k=X(S,2);Jl(k,{class:"mb-4",get value(){return i(p).addonImgBorderRadiusTopRight??0},set value(e){var t;t=e,i(p).addonImgBorderRadiusTopRight=t},label:"Border-radius Top Right",type:"number",get suffix(){return i(I)},variant:"filled"});var O=X(k,2);Jl(O,{class:"mb-4",get value(){return i(p).addonImgBorderRadiusBottomRight??0},set value(e){var t;t=e,i(p).addonImgBorderRadiusBottomRight=t},label:"Border-radius Bottom Right",type:"number",get suffix(){return i(I)},variant:"filled"});var F=X(O,2);Jl(F,{class:"mb-4",get value(){return i(p).addonImgBorderRadiusBottomLeft??0},set value(e){var t;t=e,i(p).addonImgBorderRadiusBottomLeft=t},label:"Border-radius Bottom Left",type:"number",get suffix(){return i(I)},variant:"filled"});var R=X(F,2);Se(R,{class:"w-100",label:e=>{var t=le("Border-Radius Percent or Pixels?");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return i(p).addonImgBorderRadiusIsPixels??!1},set checked(e){var t;t=e,i(p).addonImgBorderRadiusIsPixels=t},get disabled(){return i(x)},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var A=X(R,2);Se(A,{class:"w-100",label:e=>{var t=le("Border Is On");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(p).addonImgBorderIsOn??!1},set checked(e){var t;t=e,i(p).addonImgBorderIsOn=t}})},$$slots:{label:!0,default:!0}});var j=X(A,2);Se(j,{class:"w-100",label:e=>{var t=le("Cut off overflow images");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(p).addonImgOverflowIsOn??!1},set checked(e){var t;t=e,i(p).addonImgOverflowIsOn=t}})},$$slots:{label:!0,default:!0}});var P=X(B,2),q=X(v(P),2);let L;var W=v(q);Sr(W,{get hex(){return i(p).addonImgBorderColor??"#000000"},set hex(e){var t;t=e,i(p).addonImgBorderColor=t},get components(){return Or},sliderDirection:"horizontal",isDialog:!1});var V=X(g,2),N=v(V);Se(N,{class:"w-100",label:e=>{var t=le("Object Fit Is On");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(p).addonImgObjectFillIsOn??!1},set checked(e){var t;t=e,i(p).addonImgObjectFillIsOn=t}})},$$slots:{label:!0,default:!0}});var z=X(N,6),U=v(z);ia(U,{class:"mb-4",get value(){return i(p).addonImgObjectFillStyle??""},set value(e){var t;t=e,i(p).addonImgObjectFillStyle=t},label:"Object Fill",variant:"filled",children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>d,He,(e,t)=>{la(e,{get value(){return i(t).value},children:(e,o)=>{var l=le();b(()=>re(l,i(t).text)),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}}),b((e,t)=>{c=w(a,1,"",null,c,e),L=w(q,1,"",null,L,t)},[()=>({disabled:i(x)}),()=>({disabled:!i(p).addonImgBorderIsOn})]),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}});var a=X(r,2);ve(a,{children:(e,t)=>{ue(e,{action:"close",children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Close");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),g()}var Oa=n('<span class="title--text">Background</span>'),Fa=n('<span class="title--text">Background</span>'),Ra=n("<!> <!>",1),Aa=(e,t,o)=>{c(t,"appImageUpload"),c(o,"backgroundImage")},ja=n('<button type="button" class="btn--image-background"><img alt="Addon Background" loading="lazy" class="btn--image" style="max-height: 140px;"/></button>'),Ma=(e,t,o)=>{c(t,"appImageUpload"),c(o,"rowBackgroundImage")},Da=n('<button type="button" class="btn--image-background"><img alt="Addon Background" loading="lazy" class="btn--image" style="max-height: 140px;"/></button>'),Pa=(e,t,o)=>{c(t,"appImageUpload"),c(o,"objectBackgroundImage")},qa=n('<button type="button" class="btn--image-background"><img alt="Addon Background" loading="lazy" class="btn--image" style="max-height: 140px;"/></button>'),La=n('<div><div class="row"><div class="col-lg-4 col-12 gy-2 text-center"><div><!></div> <div><!></div> <!> <!> <div class="px-5"><!> <!></div></div> <div class="col-lg-4 col-12 gy-2 text-center"><!> <div><!></div> <!> <!> <div class="px-5"><!> <!></div></div> <div class="col-lg-4 col-12 gy-2 text-center"><!> <div><!></div> <!> <!> <div class="px-5"><!> <!></div></div></div></div>'),Wa=n("<!> <!> <!>",1),Va=n("<!> <!>",1);function Na(o,r){t(r,!0);let a=h(r,"open",7),n=h(r,"data",7),s=h(r,"isChoice",3,!1),d=l("none"),p=l(""),m=l(e(void 0!==n()?n().styling||Yt:app.styling)),f=l(!1),I=Q(()=>i(f)?"opacity: 0.2":""),x=Q(()=>void 0!==n()&&!n().privateBackgroundIsOn);var $=Va(),T=D($);const y=Q(()=>"none"===i(d)?"close":"");se(T,{get escapeKeyAction(){return i(y)},surface$style:"width: 1200px; max-width: calc(100vw - 32px);",get onSMUIDialogClosed(){return r.onclose},get style(){return i(I)},get open(){return a()},set open(e){a(e)},children:(e,t)=>{var o=Wa(),l=D(o);de(l,{class:"dialog-title",tabindex:0,autofocus:!0,children:(e,t)=>{var o=Ra(),l=D(o),r=e=>{Se(e,{label:e=>{var t=Oa();u(e,t)},children:(e,t)=>{ze(e,{get checked(){return n().privateBackgroundIsOn??!1},set checked(e){var t;t=e,n().privateBackgroundIsOn=t},onchange:()=>{if(n().privateBackgroundIsOn){let e=JSON.parse(JSON.stringify(Yt));Object.keys(Yt).forEach(t=>{if(app.styling.hasOwnProperty(t)){let o=app.styling[t];void 0!==o&&(e[t]=o)}}),s()&&(e.backgroundImage="",e.rowBackgroundImage=""),n().styling={...n().styling||{},...e},c(m,n().styling,!0)}else Object.keys(Yt).forEach(e=>{n().styling&&app.styling.hasOwnProperty(e)&&delete n().styling[e]})}})},$$slots:{label:!0,default:!0}})},a=e=>{var t=Fa();u(e,t)};Y(l,e=>{void 0!==n()?e(r):e(a,!1)});var d=X(l,2);Se(d,{label:e=>{var t=le("Preview Behind Dialog");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(f)},set checked(e){c(f,e,!0)}})},$$slots:{label:!0,default:!0}});u(e,o)},$$slots:{default:!0}});var r=X(l,2);ce(r,{class:"p-0",children:(e,t)=>{Ue(e,{class:"no-shadow",children:(e,t)=>{Ge(e,{children:(e,t)=>{var o=La();let l;var r=v(o),a=v(r),s=v(a);let g;var h=v(s);Se(h,{class:"w-100",label:e=>{var t=le("Color of the background");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(m).bgColorIsOn??!1},set checked(e){var t;t=e,i(m).bgColorIsOn=t}})},$$slots:{label:!0,default:!0}});var f=X(s,2);let I;var $=v(f);Sr($,{get hex(){return i(m).backgroundColor??"#000000"},set hex(e){var t;t=e,i(m).backgroundColor=t},get components(){return Or},sliderDirection:"horizontal",isDialog:!1});var T=X(f,2);Se(T,{class:"w-100",label:e=>{var t=le("Does it repeat?");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(m).isBackgroundRepeat??!1},set checked(e){var t;t=e,i(m).isBackgroundRepeat=t},onchange:()=>{i(m).isBackgroundRepeat&&(i(m).isBackgroundFitIn=!1)}})},$$slots:{label:!0,default:!0}});var y=X(T,2);Se(y,{class:"w-100",label:e=>{var t=le("Does it fit in?");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(m).isBackgroundFitIn??!1},set checked(e){var t;t=e,i(m).isBackgroundFitIn=t},onchange:()=>{i(m).isBackgroundFitIn&&(i(m).isBackgroundRepeat=!1)}})},$$slots:{label:!0,default:!0}});var C=X(y,2),B=v(C),S=e=>{var t=ja();t.__click=[Aa,d,p];var o=v(t);b(()=>xe(o,"src",i(m).backgroundImage)),u(e,t)};Y(B,e=>{i(m).backgroundImage&&e(S)});var k=X(B,2);ue(k,{onclick:()=>{c(d,"appImageUpload"),c(p,"backgroundImage")},variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Change Image");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var O=X(a,2),F=v(O);Se(F,{class:"w-100",label:e=>{var t=le("Color of the row background");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(m).rowBgColorIsOn??!1},set checked(e){var t;t=e,i(m).rowBgColorIsOn=t}})},$$slots:{label:!0,default:!0}});var R=X(F,2);let A;var j=v(R);Sr(j,{get hex(){return i(m).rowBgColor??"#000000"},set hex(e){var t;t=e,i(m).rowBgColor=t},get components(){return Or},sliderDirection:"horizontal",isDialog:!1});var M=X(R,2);Se(M,{class:"w-100",label:e=>{var t=le("Does it repeat?");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(m).isRowBackgroundRepeat??!1},set checked(e){var t;t=e,i(m).isRowBackgroundRepeat=t},onchange:()=>{i(m).isRowBackgroundRepeat&&(i(m).isRowBackgroundFitIn=!1)}})},$$slots:{label:!0,default:!0}});var D=X(M,2);Se(D,{class:"w-100",label:e=>{var t=le("Does it fit in?");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(m).isRowBackgroundFitIn??!1},set checked(e){var t;t=e,i(m).isRowBackgroundFitIn=t},onchange:()=>{i(m).isRowBackgroundFitIn&&(i(m).isRowBackgroundRepeat=!1)}})},$$slots:{label:!0,default:!0}});var P=X(D,2),q=v(P),L=e=>{var t=Da();t.__click=[Ma,d,p];var o=v(t);b(()=>xe(o,"src",i(m).rowBackgroundImage)),u(e,t)};Y(q,e=>{i(m).rowBackgroundImage&&e(L)});var W=X(q,2);ue(W,{onclick:()=>{c(d,"appImageUpload"),c(p,"rowBackgroundImage")},variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Change Image");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var V=X(O,2),N=v(V);Se(N,{class:"w-100",label:e=>{var t=le("Color of the choice background");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(m).objectBgColorIsOn??!1},set checked(e){var t;t=e,i(m).objectBgColorIsOn=t}})},$$slots:{label:!0,default:!0}});var z=X(N,2);let U;var G=v(z);Sr(G,{get hex(){return i(m).objectBgColor??"#000000"},set hex(e){var t;t=e,i(m).objectBgColor=t},get components(){return Or},sliderDirection:"horizontal",isDialog:!1});var E=X(z,2);Se(E,{class:"w-100",label:e=>{var t=le("Does it repeat?");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(m).isObjectBackgroundRepeat??!1},set checked(e){var t;t=e,i(m).isObjectBackgroundRepeat=t},onchange:()=>{i(m).isObjectBackgroundRepeat&&(i(m).isObjectBackgroundFitIn=!1)}})},$$slots:{label:!0,default:!0}});var H=X(E,2);Se(H,{class:"w-100",label:e=>{var t=le("Does it fit in?");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(m).isObjectBackgroundFitIn??!1},set checked(e){var t;t=e,i(m).isObjectBackgroundFitIn=t},onchange:()=>{i(m).isObjectBackgroundFitIn&&(i(m).isObjectBackgroundRepeat=!1)}})},$$slots:{label:!0,default:!0}});var _=X(H,2),J=v(_),Z=e=>{var t=qa();t.__click=[Pa,d,p];var o=v(t);b(()=>xe(o,"src",i(m).objectBackgroundImage)),u(e,t)};Y(J,e=>{i(m).objectBackgroundImage&&e(Z)});var K=X(J,2);ue(K,{onclick:()=>{c(d,"appImageUpload"),c(p,"objectBackgroundImage")},variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Change Image");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}}),b((e,t,i,r,a)=>{l=w(o,1,"container-fluid",null,l,e),g=w(s,1,"",null,g,t),I=w(f,1,"",null,I,i),A=w(R,1,"",null,A,r),U=w(z,1,"",null,U,a)},[()=>({disabled:i(x)}),()=>({transparent:void 0===n()}),()=>({disabled:void 0!==n()&&!i(m).bgColorIsOn}),()=>({disabled:!i(m).rowBgColorIsOn}),()=>({disabled:!i(m).objectBgColorIsOn})]),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}});var a=X(r,2);ve(a,{children:(e,t)=>{ue(e,{action:"close",children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Close");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}});var C=X(T,2),B=e=>{const t=Q(()=>"appImageUpload"===i(d));Xr(e,{get open(){return i(t)},onclose:()=>c(d,"none"),get imgObject(){return i(m)},get imgProp(){return i(p)},canHaveURL:!0})};Y(C,e=>{"appImageUpload"===i(d)&&e(B)}),u(o,$),g()}he(["click"]);var za=n('<span class="title--text">Backpack</span> <!>',1),Ua=(e,t,o)=>{c(t,"appImageUpload"),c(o,"backpackBgImage")},Ga=n('<button type="button" class="btn--image-background"><img alt="Addon Background" loading="lazy" class="btn--image" style="max-height: 140px;"/></button>'),Ea=n('<div class="container-fluid"><div class="col-12 pb-3"><!></div> <div><div class="col-sm-6 col-12 gy-2 text-center"><!></div> <div class="col-sm-6 col-12 gy-2"><!> <!> <div class="px-5"><!> <!></div></div></div> <div class="row"><div class="col-12"><!></div></div></div>'),Ha=n("<!> <!> <!>",1),_a=n("<!> <!>",1);function Ja(o,r){t(r,!0);let a=h(r,"open",7),n=l("none"),s=l(""),d=e(app.styling),p=l(!1),m=Q(()=>i(p)?"opacity: 0.2":"");var f=_a(),I=D(f);const x=Q(()=>"none"===i(n)?"close":"");se(I,{get escapeKeyAction(){return i(x)},surface$style:"width: 1200px; max-width: calc(100vw - 32px);",get onSMUIDialogClosed(){return r.onclose},get style(){return i(m)},get open(){return a()},set open(e){a(e)},children:(e,t)=>{var o=Ha(),l=D(o);de(l,{class:"dialog-title",tabindex:0,autofocus:!0,children:(e,t)=>{var o=za(),l=X(D(o),2);Se(l,{label:e=>{var t=le("Preview Behind Dialog");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(p)},set checked(e){c(p,e,!0)}})},$$slots:{label:!0,default:!0}});u(e,o)},$$slots:{default:!0}});var r=X(l,2);ce(r,{class:"p-0",children:(e,t)=>{Ue(e,{class:"no-shadow",children:(e,t)=>{Ge(e,{children:(e,t)=>{var o=Ea(),i=v(o),l=v(i);Se(l,{label:e=>{var t=le("Use a Seperate Design?");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return d.useBackpackDesign??!1},set checked(e){var t;t=e,d.useBackpackDesign=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var r=X(i,2);let a;var g=v(r),h=v(g);Sr(h,{get hex(){return d.backpackBgColor??"#000000"},set hex(e){var t;t=e,d.backpackBgColor=t},get components(){return Or},sliderDirection:"horizontal",isDialog:!1});var p=X(g,2),m=v(p);Se(m,{class:"w-100",label:e=>{var t=le("Does it repeat?");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return d.isBackpackBgRepeat??!1},set checked(e){var t;t=e,d.isBackpackBgRepeat=t},onchange:()=>{d.isBackpackBgFitIn&&(d.isBackpackBgFitIn=!1)}})},$$slots:{label:!0,default:!0}});var f=X(m,2);Se(f,{class:"w-100",label:e=>{var t=le("Does it fit in?");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return d.isBackpackBgFitIn??!1},set checked(e){var t;t=e,d.isBackpackBgFitIn=t},onchange:()=>{d.isBackpackBgRepeat&&(d.isBackpackBgRepeat=!1)}})},$$slots:{label:!0,default:!0}});var I=X(f,2),x=v(I),$=e=>{var t=Ga();t.__click=[Ua,n,s];var o=v(t);b(()=>xe(o,"src",d.backpackBgImage)),u(e,t)};Y(x,e=>{d.backpackBgImage&&e($)});var T=X(x,2);ue(T,{onclick:()=>{c(n,"appImageUpload"),c(s,"backpackBgImage")},variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Change Image");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var y=X(r,2),C=v(y),B=v(C);Jl(B,{get value(){return d.backPackWidth??1200},set value(e){var t;t=e,d.backPackWidth=t},label:"Backpack Width",type:"number",suffix:"px",variant:"filled"}),b(e=>a=w(r,1,"row",null,a,e),[()=>({disabled:!d.useBackpackDesign})]),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}});var a=X(r,2);ve(a,{children:(e,t)=>{ue(e,{action:"close",children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Close");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}});var $=X(I,2),T=e=>{const t=Q(()=>"appImageUpload"===i(n));Xr(e,{get open(){return i(t)},onclose:()=>c(n,"none"),get imgObject(){return d},get imgProp(){return i(s)},canHaveURL:!0})};Y($,e=>{"appImageUpload"===i(n)&&e(T)}),u(o,f),g()}he(["click"]);var Ya=n('<span class="title--text">Choice Design</span>'),Xa=n('<span class="title--text">Choice Design</span>'),Za=n("<!> <!>",1),Ka=n('<div class="row"><div class="col-lg-4 col-12 gy-2"><div class="col-12 px-3">Margin and Padding</div> <!> <!> <div class="col-12 px-3">Border Style and Width</div> <!> <!> <!></div> <div class="col-lg-4 col-12 gy-2"><div class="col-12 px-3">Shadow that the choice makes</div> <!> <!> <!> <!> <!> <!></div> <div class="col-lg-4 col-12 gy-2"><div class="col-12 px-3">Rounded corners on the choice</div> <!> <!> <!> <!> <!> <!></div></div>'),Qa=n('<div class="row"><div class="col-lg-4 col-12 gy-2"><div class="col-12 px-3">Margin and Padding of the choices</div> <!> <!> <!></div> <div class="col-lg-4 col-12 gy-2"><div class="col-12 px-3">Border Style and Width</div> <!> <!> <!></div> <div class="col-lg-4 col-12 gy-2"><div class="col-12 px-3">Rounded corners on the choice</div> <!> <!> <div class="col-12 px-3">Shadow that the choice makes</div> <!></div></div>'),en=n('<!> <!> <!> <div class="col-12">You might need to leave for the main menu if things stop updating, using something like (green, green) works. <a href="https://www.w3schools.com/css/css3_gradients.asp">https://www.w3schools.com/css/css3_gradients.asp</a></div>',1),tn=(e,t,o)=>{c(t,"appImageUpload"),c(o,"objectBorderImage")},on=n('<button type="button" class="btn--image-background"><img alt="Choice Border" loading="lazy" class="btn--image" style="max-height: 140px;"/></button>'),ln=n('<div><div class="col-12 pb-3"><!></div> <div class="col-12 pb-3"><!></div> <!> <div class="row"><div class="col-lg-4 col-12 gy-2 text-center"><div class="col-12 px-3">Border Color</div> <div><!></div></div> <div class="col-lg-4 col-12 gy-2 text-center"><div class="col-12 px-3">Color of the choice shadow</div> <div><!></div></div> <div class="col-lg-4 col-12 gy-2"><!> <!> <!> <!></div></div> <div class="row"><div class="col-12 text-center">Border Image</div> <div class="col-lg-4 col-12 gy-2"><div class="col-12 text-center px-5"><!> <!></div></div> <div class="col-lg-8 col-12 gy-2"><div class="row"><div class="col-lg-4 col-12 gy-2"><!> <!></div> <div class="col-lg-4 col-12 gy-2"><!> <!></div> <div class="col-lg-4 col-12 gy-2"><!> <!></div></div></div></div></div>'),rn=n("<!> <!> <!>",1),an=n("<!> <!>",1);function nn(o,r){t(r,!0);let a=h(r,"open",7),n=h(r,"data",7);const s=["solid","dotted","dashed","double","groove","ridge","inset","outset","hidden"],d=["stretch","repeat","round","space"];let p=l("none"),m=l(""),f=l(e(void 0!==n()?n().styling||Xt:app.styling)),I=l(!1),x=Q(()=>i(I)?"opacity: 0.2":""),$=Q(()=>i(f).objectBorderRadiusIsPixels?"px":"%"),T=Q(()=>void 0!==n()&&!n().privateObjectIsOn);var y=an(),C=D(y);const B=Q(()=>"none"===i(p)?"close":"");se(C,{get escapeKeyAction(){return i(B)},surface$style:"width: 1200px; max-width: calc(100vw - 32px);",get onSMUIDialogClosed(){return r.onclose},get style(){return i(x)},get open(){return a()},set open(e){a(e)},children:(e,t)=>{var o=rn(),l=D(o);de(l,{class:"dialog-title",tabindex:0,autofocus:!0,children:(e,t)=>{var o=Za(),l=D(o),r=e=>{Se(e,{label:e=>{var t=Ya();u(e,t)},children:(e,t)=>{ze(e,{get checked(){return n().privateObjectIsOn??!1},set checked(e){var t;t=e,n().privateObjectIsOn=t},onchange:()=>{if(n().privateObjectIsOn){let e=JSON.parse(JSON.stringify(Xt));Object.keys(Xt).forEach(t=>{if(app.styling.hasOwnProperty(t)){let o=app.styling[t];void 0!==o&&(e[t]=o)}}),n().styling={...n().styling||{},...e},c(f,n().styling,!0)}else Object.keys(Xt).forEach(e=>{n().styling&&app.styling.hasOwnProperty(e)&&delete n().styling[e]})}})},$$slots:{label:!0,default:!0}})},a=e=>{var t=Xa();u(e,t)};Y(l,e=>{void 0!==n()?e(r):e(a,!1)});var s=X(l,2);Se(s,{label:e=>{var t=le("Preview Behind Dialog");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(I)},set checked(e){c(I,e,!0)}})},$$slots:{label:!0,default:!0}});u(e,o)},$$slots:{default:!0}});var r=X(l,2);ce(r,{class:"p-0",children:(e,t)=>{Ue(e,{class:"no-shadow",children:(e,t)=>{Ge(e,{children:(e,t)=>{var o=ln();let l;var r=v(o),a=v(r);Se(a,{label:e=>{var t=le("If this is checked then every choice in a row will have identical height.");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(f).objectHeight??!1},set checked(e){var t;t=e,i(f).objectHeight=t}})},$$slots:{label:!0,default:!0}});var n=X(r,2),g=v(n);Se(g,{label:e=>{var t=le("Advanced Design?");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return i(f).objectDesignIsAdvanced??!1},set checked(e){var t;t=e,i(f).objectDesignIsAdvanced=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var h=X(n,2),I=e=>{var t=Ka(),o=v(t),l=X(v(o),2);Jl(l,{class:"mb-4",get value(){return i(f).objectMargin??0},set value(e){var t;t=e,i(f).objectMargin=t},label:"Margin",type:"number",suffix:"px",variant:"filled"});var r=X(l,2);Jl(r,{class:"mb-half",get value(){return i(f).objectTextPadding??0},set value(e){var t;t=e,i(f).objectTextPadding=t},label:"Padding",type:"number",suffix:"px",variant:"filled"});var a=X(r,4);ia(a,{class:"mb-4",get value(){return i(f).objectBorderStyle??""},set value(e){var t;t=e,i(f).objectBorderStyle=t},label:"Border Style",variant:"filled",children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>s,He,(e,t)=>{la(e,{get value(){return i(t)},children:(e,o)=>{var l=le();b(()=>re(l,i(t))),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}});var n=X(a,2);Jl(n,{class:"mb-4",get value(){return i(f).objectBorderWidth??0},set value(e){var t;t=e,i(f).objectBorderWidth=t},label:"Border Width",type:"number",suffix:"px",variant:"filled"});var d=X(n,2);Se(d,{class:"w-100",label:e=>{var t=le("Border is turned on");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(f).objectBorderIsOn??!1},set checked(e){var t;t=e,i(f).objectBorderIsOn=t}})},$$slots:{label:!0,default:!0}});var c=X(o,2),g=X(v(c),2);Jl(g,{class:"mb-4",get value(){return i(f).objectDropShadowH??0},set value(e){var t;t=e,i(f).objectDropShadowH=t},label:"Horizontal Shadow",type:"number",suffix:"px",variant:"filled"});var h=X(g,2);Jl(h,{class:"mb-4",get value(){return i(f).objectDropShadowV??0},set value(e){var t;t=e,i(f).objectDropShadowV=t},label:"Vertical Shadow",type:"number",suffix:"px",variant:"filled"});var p=X(h,2);Jl(p,{class:"mb-4",get value(){return i(f).objectDropShadowBlur??0},set value(e){var t;t=e,i(f).objectDropShadowBlur=t},label:"Shadow Blur",type:"number",suffix:"px",variant:"filled"});var m=X(p,2);Jl(m,{class:"mb-4",get value(){return i(f).objectDropShadowSpread??0},set value(e){var t;t=e,i(f).objectDropShadowSpread=t},label:"Shadow Spread",type:"number",suffix:"px",variant:"filled"});var w=X(m,2);Se(w,{class:"w-100",label:e=>{var t=le("Drop Shadow or Box Shadow?");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return i(f).objectUseBoxShadowIsOn??!1},set checked(e){var t;t=e,i(f).objectUseBoxShadowIsOn=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var I=X(w,2);Se(I,{class:"w-100",label:e=>{var t=le("Shadow Is turned on");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(f).objectDropShadowIsOn??!1},set checked(e){var t;t=e,i(f).objectDropShadowIsOn=t}})},$$slots:{label:!0,default:!0}});var x=X(c,2),T=X(v(x),2);Jl(T,{class:"mb-4",get value(){return i(f).objectBorderRadiusTopLeft??0},set value(e){var t;t=e,i(f).objectBorderRadiusTopLeft=t},label:"Border-radius Top Left",type:"number",get suffix(){return i($)},variant:"filled"});var y=X(T,2);Jl(y,{class:"mb-4",get value(){return i(f).objectBorderRadiusTopRight??0},set value(e){var t;t=e,i(f).objectBorderRadiusTopRight=t},label:"Border-radius Top Right",type:"number",get suffix(){return i($)},variant:"filled"});var C=X(y,2);Jl(C,{class:"mb-4",get value(){return i(f).objectBorderRadiusBottomRight??0},set value(e){var t;t=e,i(f).objectBorderRadiusBottomRight=t},label:"Border-radius Bottom Right",type:"number",get suffix(){return i($)},variant:"filled"});var B=X(C,2);Jl(B,{class:"mb-4",get value(){return i(f).objectBorderRadiusBottomLeft??0},set value(e){var t;t=e,i(f).objectBorderRadiusBottomLeft=t},label:"Border-radius Bottom Left",type:"number",get suffix(){return i($)},variant:"filled"});var S=X(B,2);Se(S,{class:"w-100",label:e=>{var t=le("Border-Radius Percent or Pixels?");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return i(f).objectBorderRadiusIsPixels??!1},set checked(e){var t;t=e,i(f).objectBorderRadiusIsPixels=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var k=X(S,2);Se(k,{class:"w-100",label:e=>{var t=le("Border-Radius Cuts off overflow");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(f).objectOverflowIsOn??!1},set checked(e){var t;t=e,i(f).objectOverflowIsOn=t}})},$$slots:{label:!0,default:!0}});u(e,t)},x=e=>{var t=Qa(),o=v(t),l=X(v(o),2);Jl(l,{class:"mb-4",get value(){return i(f).objectMargin??0},set value(e){var t;t=e,i(f).objectMargin=t},label:"Space between the choices",type:"number",suffix:"px",variant:"filled"});var r=X(l,2);Jl(r,{class:"mb-4",get value(){return i(f).objectTextPadding??0},set value(e){var t;t=e,i(f).objectTextPadding=t},label:"Space between the text in the choices and its border",type:"number",suffix:"px",variant:"filled"});var a=X(r,2);Se(a,{class:"w-100",label:e=>{var t=le("Border is turned on");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(f).objectBorderIsOn??!1},set checked(e){var t;t=e,i(f).objectBorderIsOn=t}})},$$slots:{label:!0,default:!0}});var n=X(o,2),d=X(v(n),2);ia(d,{class:"mb-4",get value(){return i(f).objectBorderStyle??""},set value(e){var t;t=e,i(f).objectBorderStyle=t},label:"Border Style",variant:"filled",children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>s,He,(e,t)=>{la(e,{get value(){return i(t)},children:(e,o)=>{var l=le();b(()=>re(l,i(t))),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}});var c=X(d,2);Jl(c,{class:"mb-4",get value(){return i(f).objectBorderWidth??0},set value(e){var t;t=e,i(f).objectBorderWidth=t},label:"Border Width",type:"number",suffix:"px",variant:"filled"});var g=X(c,2);Se(g,{class:"w-100",label:e=>{var t=le("Drop Shadow Is turned on");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(f).objectDropShadowIsOn??!1},set checked(e){var t;t=e,i(f).objectDropShadowIsOn=t}})},$$slots:{label:!0,default:!0}});var h=X(n,2),p=X(v(h),2);Jl(p,{class:"mb-4",get value(){return i(f).objectBorderRadiusTopLeft??0},set value(e){var t;t=e,i(f).objectBorderRadiusTopLeft=t},onchange:()=>i(f).objectBorderRadiusTopRight=i(f).objectBorderRadiusTopLeft,label:"Border-radius Top",type:"number",get suffix(){return i($)},variant:"filled"});var m=X(p,2);Jl(m,{class:"mb-half",get value(){return i(f).objectBorderRadiusBottomLeft??0},set value(e){var t;t=e,i(f).objectBorderRadiusBottomLeft=t},onchange:()=>i(f).objectBorderRadiusBottomRight=i(f).objectBorderRadiusBottomLeft,label:"Border-radius Bottom",type:"number",get suffix(){return i($)},variant:"filled"});var w=X(m,4);Jl(w,{class:"mb-4",get value(){return i(f).objectDropShadowH??0},set value(e){var t;t=e,i(f).objectDropShadowH=t},onchange:()=>{i(f).objectDropShadowV=i(f).objectDropShadowH,i(f).objectDropShadowSpread=i(f).objectDropShadowH,i(f).objectDropShadowBlur=i(f).objectDropShadowH},label:"The Higher the number the bigger the shadow will be",type:"number",suffix:"px",variant:"filled"}),u(e,t)};Y(h,e=>{i(f).objectDesignIsAdvanced?e(I):e(x,!1)});var y=X(h,2),C=v(y),B=X(v(C),2);let S;var k=v(B);Sr(k,{get hex(){return i(f).objectBorderColor??"#000000"},set hex(e){var t;t=e,i(f).objectBorderColor=t},get components(){return Or},sliderDirection:"horizontal",isDialog:!1});var O=X(C,2),F=X(v(O),2);let R;var A=v(F);Sr(A,{get hex(){return i(f).objectDropShadowColor??"#000000"},set hex(e){var t;t=e,i(f).objectDropShadowColor=t},get components(){return Or},sliderDirection:"horizontal",isDialog:!1});var j=X(O,2),P=v(j);Se(P,{class:"w-100",label:e=>{var t=le("Apply padding to the Choice Title");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(f).titlePaddingIsOn??!1},set checked(e){var t;t=e,i(f).titlePaddingIsOn=t}})},$$slots:{label:!0,default:!0}});var q=X(P,2);Se(q,{class:"w-100",label:e=>{var t=le("Remove the space below the addon text");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(f).removeSpaceAddonIsOn??!1},set checked(e){var t;t=e,i(f).removeSpaceAddonIsOn=t}})},$$slots:{label:!0,default:!0}});var L=X(q,2);Se(L,{class:"w-100",label:e=>{var t=le("Object Gradient is turned on");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(f).objectGradientIsOn??!1},set checked(e){var t;t=e,i(f).objectGradientIsOn=t}})},$$slots:{label:!0,default:!0}});var W=X(L,2),V=e=>{var t=en(),o=D(t);Jl(o,{get value(){return i(f).objectGradient??""},set value(e){var t;t=e,i(f).objectGradient=t},label:"Gradient when Not Selected",variant:"filled",input$placeholder:"to left, blue, red"});var l=X(o,2);Jl(l,{get value(){return i(f).objectGradientOnSelect??""},set value(e){var t;t=e,i(f).objectGradientOnSelect=t},label:"Gradient when Selected",variant:"filled",input$placeholder:"to left, blue, red"});var r=X(l,2);Jl(r,{get value(){return i(f).objectGradientOnReq??""},set value(e){var t;t=e,i(f).objectGradientOnReq=t},label:"Gradient when Missing Requirement",variant:"filled",input$placeholder:"to left, blue, red"}),u(e,t)};Y(W,e=>{i(f).objectGradientIsOn&&e(V)});var N=X(y,2),z=X(v(N),2),U=v(z),G=v(U),E=e=>{var t=on();t.__click=[tn,p,m];var o=v(t);b(()=>xe(o,"src",i(f).objectBorderImage)),u(e,t)};Y(G,e=>{i(f).objectBorderImage&&e(E)});var H=X(G,2);ue(H,{onclick:()=>{c(p,"appImageUpload"),c(m,"objectBorderImage")},variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Change Image");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var _=X(z,2),J=v(_),Z=v(J),K=v(Z);ia(K,{class:"mb-4",get value(){return i(f).objectBorderImageRepeat??""},set value(e){var t;t=e,i(f).objectBorderImageRepeat=t},label:"Image Repeat",variant:"filled",children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>d,He,(e,t)=>{la(e,{get value(){return i(t)},children:(e,o)=>{var l=le();b(()=>re(l,i(t))),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}});var Q=X(K,2);Jl(Q,{class:"mb-4",get value(){return i(f).objectBorderImageWidth??0},set value(e){var t;t=e,i(f).objectBorderImageWidth=t},label:"Border Width",type:"number",suffix:"px",variant:"filled"});var ee=X(Z,2),te=v(ee);Jl(te,{class:"mb-4",get value(){return i(f).objectBorderImageSliceTop??0},set value(e){var t;t=e,i(f).objectBorderImageSliceTop=t},label:"Slice Top",type:"number",suffix:"px",variant:"filled"});var oe=X(te,2);Jl(oe,{class:"mb-4",get value(){return i(f).objectBorderImageSliceBottom??0},set value(e){var t;t=e,i(f).objectBorderImageSliceBottom=t},label:"Slice Bottom",type:"number",suffix:"px",variant:"filled"});var ie=X(ee,2),ae=v(ie);Jl(ae,{class:"mb-4",get value(){return i(f).objectBorderImageSliceLeft??0},set value(e){var t;t=e,i(f).objectBorderImageSliceLeft=t},label:"Slice Left",type:"number",suffix:"px",variant:"filled"});var ne=X(ae,2);Jl(ne,{class:"mb-4",get value(){return i(f).objectBorderImageSliceRight??0},set value(e){var t;t=e,i(f).objectBorderImageSliceRight=t},label:"Slice Right",type:"number",suffix:"px",variant:"filled"}),b((e,t,i)=>{l=w(o,1,"container-fluid",null,l,e),S=w(B,1,"",null,S,t),R=w(F,1,"",null,R,i)},[()=>({disabled:i(T)}),()=>({disabled:!i(f).objectBorderIsOn}),()=>({disabled:!i(f).objectDropShadowIsOn})]),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}});var a=X(r,2);ve(a,{children:(e,t)=>{ue(e,{action:"close",children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Close");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}});var S=X(C,2),k=e=>{const t=Q(()=>"appImageUpload"===i(p));Xr(e,{get open(){return i(t)},onclose:()=>c(p,"none"),get imgObject(){return i(f)},get imgProp(){return i(m)},canHaveURL:!0})};Y(S,e=>{"appImageUpload"===i(p)&&e(k)}),u(o,y),g()}he(["click"]);var sn=n('<span class="title--text">Choice Image Design</span>'),dn=n('<span class="title--text">Choice Image Design</span>'),cn=n("<!> <!>",1),un=n('<div><div class="row"><div class="col-lg-4 col-12 gy-2"><div class="col-12 px-3">Style and Width of the border</div> <!> <!> <div class="col-12 px-3">Size and Margin of the choice image</div> <!> <!> <!> <div class="col-12 px-3">Works only with the Image Left/Right template</div> <!></div> <div class="col-lg-4 col-12 gy-2"><div class="col-12 px-3">Rounded corners on the image</div> <!> <!> <!> <!> <!> <!> <!></div> <div class="col-lg-4 col-12 gy-2 text-center"><div class="col-12 px-3">Border Color</div> <div><!></div></div></div> <div class="row pt-4"><!> <div class="col-12 px-3">How the images fit inside of the choice.</div> <div class="col-12 px-3">A textfield where you can decide the Size of the container will appear in Row Settings when the switch is on.</div> <div class="col-12"><!></div></div></div>'),gn=n("<!> <!> <!>",1);function vn(o,r){t(r,!0);let a=h(r,"open",7),n=h(r,"data",7);const s=["solid","dotted","dashed","double","groove","ridge","inset","outset","hidden"],d=[{value:"fill",text:"Fill: The replaced content is sized to fill the element's content box. If necessary, the object will be stretched or squished to fit"},{value:"contain",text:"Contain: The replaced content is scaled to maintain its aspect ratio while fitting within the element's content box"},{value:"cover",text:"Cover: The replaced content is sized to maintain its aspect ratio while filling the element's entire content box. The object will be clipped to fit"},{value:"scale-down",text:"Scale-down: The content is sized as if none or contain were specified (would result in a smaller concrete object size)"},{value:"none",text:"None: The replaced content is not resized"}];let p=l(e(void 0!==n()?n().styling||Ht:app.styling)),m=Q(()=>i(p).objectImgBorderRadiusIsPixels?"px":"%"),f=l(!1),I=Q(()=>i(f)?"opacity: 0.2":""),x=Q(()=>void 0!==n()&&!n().privateObjectImageIsOn);se(o,{surface$style:"width: 1200px; max-width: calc(100vw - 32px);",get onSMUIDialogClosed(){return r.onclose},get style(){return i(I)},get open(){return a()},set open(e){a(e)},children:(e,t)=>{var o=gn(),l=D(o);de(l,{class:"dialog-title",tabindex:0,autofocus:!0,children:(e,t)=>{var o=cn(),l=D(o),r=e=>{Se(e,{label:e=>{var t=sn();u(e,t)},children:(e,t)=>{ze(e,{get checked(){return n().privateObjectImageIsOn??!1},set checked(e){var t;t=e,n().privateObjectImageIsOn=t},onchange:()=>{if(n().privateObjectImageIsOn){let e=JSON.parse(JSON.stringify(Ht));Object.keys(Ht).forEach(t=>{if(app.styling.hasOwnProperty(t)){let o=app.styling[t];void 0!==o&&(e[t]=o)}}),n().styling={...n().styling||{},...e},c(p,n().styling,!0)}else Object.keys(Ht).forEach(e=>{n().styling&&app.styling.hasOwnProperty(e)&&delete n().styling[e]})}})},$$slots:{label:!0,default:!0}})},a=e=>{var t=dn();u(e,t)};Y(l,e=>{void 0!==n()?e(r):e(a,!1)});var s=X(l,2);Se(s,{label:e=>{var t=le("Preview Behind Dialog");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(f)},set checked(e){c(f,e,!0)}})},$$slots:{label:!0,default:!0}});u(e,o)},$$slots:{default:!0}});var r=X(l,2);ce(r,{class:"p-0",children:(e,t)=>{Ue(e,{class:"no-shadow",children:(e,t)=>{Ge(e,{children:(e,t)=>{var o=un();let l;var r=v(o),a=v(r),n=X(v(a),2);ia(n,{class:"mb-4",get value(){return i(p).objectImgBorderStyle??""},set value(e){var t;t=e,i(p).objectImgBorderStyle=t},label:"Border Style",variant:"filled",children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>s,He,(e,t)=>{la(e,{get value(){return i(t)},children:(e,o)=>{var l=le();b(()=>re(l,i(t))),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}});var c=X(n,2);Jl(c,{class:"mb-half",get value(){return i(p).objectImgBorderWidth??0},set value(e){var t;t=e,i(p).objectImgBorderWidth=t},label:"Thickness of the border",type:"number",suffix:"px",variant:"filled"});var g=X(c,4);Jl(g,{class:"mb-4",get value(){return i(p).objectImageWidth??0},set value(e){var t;t=e,i(p).objectImageWidth=t},label:"Width of the image inside of the row",type:"number",suffix:"%",variant:"filled"});var h=X(g,2);Jl(h,{class:"mb-4",get value(){return i(p).objectImageMarginTop??0},set value(e){var t;t=e,i(p).objectImageMarginTop=t},label:"Space Between Top of row and Image",type:"number",suffix:"%",variant:"filled"});var f=X(h,2);Jl(f,{class:"mb-half",get value(){return i(p).objectImageMarginBottom??0},set value(e){var t;t=e,i(p).objectImageMarginBottom=t},label:"Space Between Title and Image",type:"number",suffix:"%",variant:"filled"});var I=X(f,4);Jl(I,{class:"mb-half",get value(){return i(p).objectImageBoxWidth??0},set value(e){var t;t=e,i(p).objectImageBoxWidth=t},label:"Width of the image box inside of row",type:"number",suffix:"%",variant:"filled",onchange:()=>i(p).objectImageBoxWidth=Math.max(0,Math.min(100,i(p).objectImageBoxWidth??50)),input$min:0,input$max:100});var $=X(a,2),T=X(v($),2);Jl(T,{class:"mb-4",get value(){return i(p).objectImgBorderRadiusTopLeft??0},set value(e){var t;t=e,i(p).objectImgBorderRadiusTopLeft=t},label:"Border-radius Top Left",type:"number",get suffix(){return i(m)},variant:"filled"});var y=X(T,2);Jl(y,{class:"mb-4",get value(){return i(p).objectImgBorderRadiusTopRight??0},set value(e){var t;t=e,i(p).objectImgBorderRadiusTopRight=t},label:"Border-radius Top Right",type:"number",get suffix(){return i(m)},variant:"filled"});var C=X(y,2);Jl(C,{class:"mb-4",get value(){return i(p).objectImgBorderRadiusBottomRight??0},set value(e){var t;t=e,i(p).objectImgBorderRadiusBottomRight=t},label:"Border-radius Bottom Right",type:"number",get suffix(){return i(m)},variant:"filled"});var B=X(C,2);Jl(B,{class:"mb-4",get value(){return i(p).objectImgBorderRadiusBottomLeft??0},set value(e){var t;t=e,i(p).objectImgBorderRadiusBottomLeft=t},label:"Border-radius Bottom Left",type:"number",get suffix(){return i(m)},variant:"filled"});var S=X(B,2);Se(S,{class:"w-100",label:e=>{var t=le("Border-Radius Percent or Pixels?");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return i(p).objectImgBorderRadiusIsPixels??!1},set checked(e){var t;t=e,i(p).objectImgBorderRadiusIsPixels=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var k=X(S,2);Se(k,{class:"w-100",label:e=>{var t=le("Border Is On");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(p).objectImgBorderIsOn??!1},set checked(e){var t;t=e,i(p).objectImgBorderIsOn=t}})},$$slots:{label:!0,default:!0}});var O=X(k,2);Se(O,{class:"w-100",label:e=>{var t=le("Cut off overflow images");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(p).objectImgOverflowIsOn??!1},set checked(e){var t;t=e,i(p).objectImgOverflowIsOn=t}})},$$slots:{label:!0,default:!0}});var F=X($,2),R=X(v(F),2);let A;var j=v(R);Sr(j,{get hex(){return i(p).objectImgBorderColor??"#000000"},set hex(e){var t;t=e,i(p).objectImgBorderColor=t},get components(){return Or},sliderDirection:"horizontal",isDialog:!1});var P=X(r,2),q=v(P);Se(q,{class:"w-100",label:e=>{var t=le("Object Fit Is On");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(p).objectImgObjectFillIsOn??!1},set checked(e){var t;t=e,i(p).objectImgObjectFillIsOn=t}})},$$slots:{label:!0,default:!0}});var L=X(q,6),W=v(L);ia(W,{class:"mb-4",get value(){return i(p).objectImgObjectFillStyle??""},set value(e){var t;t=e,i(p).objectImgObjectFillStyle=t},label:"Object Fill",variant:"filled",children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>d,He,(e,t)=>{la(e,{get value(){return i(t).value},children:(e,o)=>{var l=le();b(()=>re(l,i(t).text)),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}}),b((e,t)=>{l=w(o,1,"container-fluid",null,l,e),A=w(R,1,"",null,A,t)},[()=>({disabled:i(x)}),()=>({disabled:!i(p).objectImgBorderIsOn})]),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}});var a=X(r,2);ve(a,{children:(e,t)=>{ue(e,{action:"close",children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Close");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),g()}var hn=n('<span class="title--text">Filter</span>'),pn=n('<span class="title--text">Filter</span>'),mn=n("<!> <!>",1),fn=n('<div><div class="row"><div class="col-12 px-3 py-2 b-line"><h5>Filter on Choice that is selected</h5></div> <div class="col-lg-4 col-12 gy-2"><!> <!> <!> <!> <!> <!></div> <div class="col-lg-4 col-12 gy-2"><!> <!> <!> <!> <!> <!></div> <div class="col-lg-4 col-12 gy-2"><!> <!> <!> <!> <!> <!></div></div> <div class="row"><div class="col-lg-4 col-12 gy-2"><!> <!> <div><!></div></div> <div class="col-lg-4 col-12 gy-2"><!> <div><!></div></div> <div class="col-lg-4 col-12 gy-2"><!> <div><!></div></div></div> <div class="row"><div class="col-xl-3 col-lg-6 col-12 gy-2"><!> <div><!></div></div> <div class="col-xl-3 col-lg-6 col-12 gy-2"><!> <div><!></div></div> <div class="col-xl-3 col-lg-6 col-12 gy-2"><!> <div><!></div></div> <div class="col-xl-3 col-lg-6 col-12 gy-2"><!> <div><!></div></div></div> <div class="row pt-5"><div class="col-12 px-3 py-2 b-line"><h5>Filter on Choice that is missing its required</h5></div> <div class="col-12 gy-2"><!></div> <div><!> <!> <!> <!> <!> <!></div> <div><!> <!> <!> <!> <!> <!></div> <div><!> <!> <!> <!> <!> <!></div></div> <div class="row"><div><!> <!> <div><!></div></div> <div><!> <div><!></div></div> <div><!> <div><!></div></div></div> <div><div class="col-xl-3 col-lg-6 col-12 gy-2"><!> <div><!></div></div> <div><!> <div><!></div></div> <div><!> <div><!></div></div> <div><!> <div><!></div></div></div> <div class="row pt-5"><div class="col-12 px-3 py-2 b-line"><h5>Filter on Choice that is not selected</h5></div> <div class="col-lg-4 col-12 gy-2"><!> <!> <!> <!> <!> <!></div> <div class="col-lg-4 col-12 gy-2"><!> <!> <!> <!> <!> <!></div> <div class="col-lg-4 col-12 gy-2"><!> <!> <!> <!> <!> <!></div></div></div>'),bn=n("<!> <!> <!>",1);function wn(o,r){t(r,!0);let a=h(r,"open",7),n=h(r,"data",7),s=l(e(void 0!==n()?n().styling||Gt:app.styling)),d=l(!1),p=Q(()=>i(d)?"opacity: 0.2":""),m=Q(()=>void 0!==n()&&!n().privateFilterIsOn);se(o,{surface$style:"width: 1200px; max-width: calc(100vw - 32px);",get onSMUIDialogClosed(){return r.onclose},get style(){return i(p)},get open(){return a()},set open(e){a(e)},children:(e,t)=>{var o=bn(),l=D(o);de(l,{class:"dialog-title",tabindex:0,autofocus:!0,children:(e,t)=>{var o=mn(),l=D(o),r=e=>{Se(e,{label:e=>{var t=hn();u(e,t)},children:(e,t)=>{ze(e,{get checked(){return n().privateFilterIsOn??!1},set checked(e){var t;t=e,n().privateFilterIsOn=t},onchange:()=>{if(n().privateFilterIsOn){let e=JSON.parse(JSON.stringify(Gt));Object.keys(Gt).forEach(t=>{if(app.styling.hasOwnProperty(t)){let o=app.styling[t];void 0!==o&&(e[t]=o)}}),n().styling={...n().styling||{},...e},c(s,n().styling,!0)}else Object.keys(Gt).forEach(e=>{n().styling&&app.styling.hasOwnProperty(e)&&delete n().styling[e]})}})},$$slots:{label:!0,default:!0}})},a=e=>{var t=pn();u(e,t)};Y(l,e=>{void 0!==n()?e(r):e(a,!1)});var g=X(l,2);Se(g,{label:e=>{var t=le("Preview Behind Dialog");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(d)},set checked(e){c(d,e,!0)}})},$$slots:{label:!0,default:!0}});u(e,o)},$$slots:{default:!0}});var r=X(l,2);ce(r,{class:"p-0",children:(e,t)=>{Ue(e,{class:"no-shadow",children:(e,t)=>{Ge(e,{children:(e,t)=>{var o=fn();let l;var r=v(o),a=X(v(r),2),n=v(a);Se(n,{class:"w-100",children:(e,t)=>{ze(e,{get checked(){return i(s).selFilterBlurIsOn??!1},set checked(e){var t;t=e,i(s).selFilterBlurIsOn=t}})},$$slots:{default:!0}});var d=X(n,2);const c=Q(()=>!i(s).selFilterBlurIsOn);Jl(d,{get value(){return i(s).selFilterBlur??0},set value(e){var t;t=e,i(s).selFilterBlur=t},get disabled(){return i(c)},label:"Blur",type:"number",suffix:"px",variant:"filled"});var g=X(d,2);Se(g,{class:"w-100",children:(e,t)=>{ze(e,{get checked(){return i(s).selFilterBrightIsOn??!1},set checked(e){var t;t=e,i(s).selFilterBrightIsOn=t}})},$$slots:{default:!0}});var h=X(g,2);const p=Q(()=>!i(s).selFilterBrightIsOn);Jl(h,{get value(){return i(s).selFilterBright??0},set value(e){var t;t=e,i(s).selFilterBright=t},get disabled(){return i(p)},label:"Brightness",type:"number",suffix:"%",variant:"filled"});var f=X(h,2);Se(f,{class:"w-100",children:(e,t)=>{ze(e,{get checked(){return i(s).selFilterContIsOn??!1},set checked(e){var t;t=e,i(s).selFilterContIsOn=t}})},$$slots:{default:!0}});var I=X(f,2);const x=Q(()=>!i(s).selFilterContIsOn);Jl(I,{get value(){return i(s).selFilterCont??0},set value(e){var t;t=e,i(s).selFilterCont=t},get disabled(){return i(x)},label:"Contrast",type:"number",suffix:"%",variant:"filled"});var $=X(a,2),T=v($);Se(T,{class:"w-100",children:(e,t)=>{ze(e,{get checked(){return i(s).selFilterHueIsOn??!1},set checked(e){var t;t=e,i(s).selFilterHueIsOn=t}})},$$slots:{default:!0}});var y=X(T,2);const C=Q(()=>!i(s).selFilterHueIsOn);Jl(y,{get value(){return i(s).selFilterHue??0},set value(e){var t;t=e,i(s).selFilterHue=t},get disabled(){return i(C)},label:"Hue-rotate",type:"number",suffix:"deg",variant:"filled"});var B=X(y,2);Se(B,{class:"w-100",children:(e,t)=>{ze(e,{get checked(){return i(s).selFilterInvertIsOn??!1},set checked(e){var t;t=e,i(s).selFilterInvertIsOn=t}})},$$slots:{default:!0}});var S=X(B,2);const k=Q(()=>!i(s).selFilterInvertIsOn);Jl(S,{get value(){return i(s).selFilterInvert??0},set value(e){var t;t=e,i(s).selFilterInvert=t},get disabled(){return i(k)},label:"Invert",type:"number",suffix:"%",variant:"filled"});var O=X(S,2);Se(O,{class:"w-100",children:(e,t)=>{ze(e,{get checked(){return i(s).selFilterSepiaIsOn??!1},set checked(e){var t;t=e,i(s).selFilterSepiaIsOn=t}})},$$slots:{default:!0}});var F=X(O,2);const R=Q(()=>!i(s).selFilterSepiaIsOn);Jl(F,{get value(){return i(s).selFilterSepia??0},set value(e){var t;t=e,i(s).selFilterSepia=t},get disabled(){return i(R)},label:"Sepia",type:"number",suffix:"%",variant:"filled"});var A=X($,2),j=v(A);Se(j,{class:"w-100",children:(e,t)=>{ze(e,{get checked(){return i(s).selFilterOpacIsOn??!1},set checked(e){var t;t=e,i(s).selFilterOpacIsOn=t}})},$$slots:{default:!0}});var M=X(j,2);const D=Q(()=>!i(s).selFilterOpacIsOn);Jl(M,{get value(){return i(s).selFilterOpac??0},set value(e){var t;t=e,i(s).selFilterOpac=t},get disabled(){return i(D)},label:"Opacity",type:"number",suffix:"%",variant:"filled"});var P=X(M,2);Se(P,{class:"w-100",children:(e,t)=>{ze(e,{get checked(){return i(s).selFilterSaturIsOn??!1},set checked(e){var t;t=e,i(s).selFilterSaturIsOn=t}})},$$slots:{default:!0}});var q=X(P,2);const L=Q(()=>!i(s).selFilterSaturIsOn);Jl(q,{get value(){return i(s).selFilterSatur??0},set value(e){var t;t=e,i(s).selFilterSatur=t},get disabled(){return i(L)},label:"Saturate",type:"number",suffix:"%",variant:"filled"});var W=X(q,2);Se(W,{class:"w-100",children:(e,t)=>{ze(e,{get checked(){return i(s).selFilterGrayIsOn??!1},set checked(e){var t;t=e,i(s).selFilterGrayIsOn=t}})},$$slots:{default:!0}});var V=X(W,2);const N=Q(()=>!i(s).selFilterGrayIsOn);Jl(V,{get value(){return i(s).selFilterGray??0},set value(e){var t;t=e,i(s).selFilterGray=t},get disabled(){return i(N)},label:"Greyscale",type:"number",suffix:"%",variant:"filled"});var z=X(r,2),U=v(z),G=v(U);Se(G,{class:"w-100",label:e=>{var t=le("Background Color");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(s).selBgColorIsOn??!1},set checked(e){var t;t=e,i(s).selBgColorIsOn=t}})},$$slots:{label:!0,default:!0}});var E=X(G,2);Se(E,{class:"w-100",label:e=>{var t=le("Overlay on Image?");u(e,t)},children:(e,t)=>{const o=Q(()=>!i(s).selBgColorIsOn);ze(e,{get checked(){return i(s).selOverlayOnImage??!1},set checked(e){var t;t=e,i(s).selOverlayOnImage=t},get disabled(){return i(o)}})},$$slots:{label:!0,default:!0}});var H=X(E,2);let _;var J=v(H);Sr(J,{get hex(){return i(s).selFilterBgColor??"#000000"},set hex(e){var t;t=e,i(s).selFilterBgColor=t},get components(){return Or},sliderDirection:"horizontal"});var Y=X(U,2),Z=v(Y);Se(Z,{class:"w-100",label:e=>{var t=le("Border Color");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(s).selBorderColorIsOn??!1},set checked(e){var t;t=e,i(s).selBorderColorIsOn=t}})},$$slots:{label:!0,default:!0}});var K=X(Z,2);let ee;var te=v(K);Sr(te,{get hex(){return i(s).selFilterBorderColor??"#000000"},set hex(e){var t;t=e,i(s).selFilterBorderColor=t},get components(){return Or},sliderDirection:"horizontal"});var oe=X(Y,2),ie=v(oe);Se(ie,{class:"w-100",label:e=>{var t=le("Choice Title Color");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(s).selCTitleColorIsOn??!1},set checked(e){var t;t=e,i(s).selCTitleColorIsOn=t}})},$$slots:{label:!0,default:!0}});var re=X(ie,2);let ae;var ne=v(re);Sr(ne,{get hex(){return i(s).selFilterCTitleColor??"#000000"},set hex(e){var t;t=e,i(s).selFilterCTitleColor=t},get components(){return Or},sliderDirection:"horizontal"});var se=X(z,2),de=v(se),ce=v(de);Se(ce,{class:"w-100",label:e=>{var t=le("Choice Text Color");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(s).selCTextColorIsOn??!1},set checked(e){var t;t=e,i(s).selCTextColorIsOn=t}})},$$slots:{label:!0,default:!0}});var ue=X(ce,2);let ge;var ve=v(ue);Sr(ve,{get hex(){return i(s).selFilterCTextColor??"#000000"},set hex(e){var t;t=e,i(s).selFilterCTextColor=t},get components(){return Or},sliderDirection:"horizontal"});var he=X(de,2),pe=v(he);Se(pe,{class:"w-100",label:e=>{var t=le("Addon Title Color");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(s).selATitleColorIsOn??!1},set checked(e){var t;t=e,i(s).selATitleColorIsOn=t}})},$$slots:{label:!0,default:!0}});var me=X(pe,2);let fe;var be=v(me);Sr(be,{get hex(){return i(s).selFilterATitleColor??"#000000"},set hex(e){var t;t=e,i(s).selFilterATitleColor=t},get components(){return Or},sliderDirection:"horizontal"});var we=X(he,2),Ie=v(we);Se(Ie,{class:"w-100",label:e=>{var t=le("Addon Text Color");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(s).selATextColorIsOn??!1},set checked(e){var t;t=e,i(s).selATextColorIsOn=t}})},$$slots:{label:!0,default:!0}});var xe=X(Ie,2);let $e;var Te=v(xe);Sr(Te,{get hex(){return i(s).selFilterATextColor??"#000000"},set hex(e){var t;t=e,i(s).selFilterATextColor=t},get components(){return Or},sliderDirection:"horizontal"});var ye=X(we,2),Ce=v(ye);Se(Ce,{class:"w-100",label:e=>{var t=le("Score & Requirement Color");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(s).selScoreTextColorIsOn??!1},set checked(e){var t;t=e,i(s).selScoreTextColorIsOn=t}})},$$slots:{label:!0,default:!0}});var Be=X(Ce,2);let Oe;var Fe=v(Be);Sr(Fe,{get hex(){return i(s).selFilterSTextColor??"#000000"},set hex(e){var t;t=e,i(s).selFilterSTextColor=t},get components(){return Or},sliderDirection:"horizontal"});var Re=X(se,2),Ae=X(v(Re),2),je=v(Ae);Se(je,{label:e=>{var t=le("Hide The Choice Completely");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return i(s).reqFilterVisibleIsOn??!1},set checked(e){var t;t=e,i(s).reqFilterVisibleIsOn=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var Me=X(Ae,2);let De;var Pe=v(Me);Se(Pe,{class:"w-100",children:(e,t)=>{ze(e,{get checked(){return i(s).reqFilterBlurIsOn??!1},set checked(e){var t;t=e,i(s).reqFilterBlurIsOn=t}})},$$slots:{default:!0}});var qe=X(Pe,2);const Le=Q(()=>!i(s).reqFilterBlurIsOn);Jl(qe,{get value(){return i(s).reqFilterBlur??0},set value(e){var t;t=e,i(s).reqFilterBlur=t},get disabled(){return i(Le)},label:"Blur",type:"number",suffix:"px",variant:"filled"});var We=X(qe,2);Se(We,{class:"w-100",children:(e,t)=>{ze(e,{get checked(){return i(s).reqFilterBrightIsOn??!1},set checked(e){var t;t=e,i(s).reqFilterBrightIsOn=t}})},$$slots:{default:!0}});var Ve=X(We,2);const Ne=Q(()=>!i(s).reqFilterBrightIsOn);Jl(Ve,{get value(){return i(s).reqFilterBright??0},set value(e){var t;t=e,i(s).reqFilterBright=t},get disabled(){return i(Ne)},label:"Brightness",type:"number",suffix:"%",variant:"filled"});var Ue=X(Ve,2);Se(Ue,{class:"w-100",children:(e,t)=>{ze(e,{get checked(){return i(s).reqFilterContIsOn??!1},set checked(e){var t;t=e,i(s).reqFilterContIsOn=t}})},$$slots:{default:!0}});var Ge=X(Ue,2);const Ee=Q(()=>!i(s).reqFilterContIsOn);Jl(Ge,{get value(){return i(s).reqFilterCont??0},set value(e){var t;t=e,i(s).reqFilterCont=t},get disabled(){return i(Ee)},label:"Contrast",type:"number",suffix:"%",variant:"filled"});var He=X(Me,2);let _e;var Je=v(He);Se(Je,{class:"w-100",children:(e,t)=>{ze(e,{get checked(){return i(s).reqFilterHueIsOn??!1},set checked(e){var t;t=e,i(s).reqFilterHueIsOn=t}})},$$slots:{default:!0}});var Ye=X(Je,2);const Xe=Q(()=>!i(s).reqFilterHueIsOn);Jl(Ye,{get value(){return i(s).reqFilterHue??0},set value(e){var t;t=e,i(s).reqFilterHue=t},get disabled(){return i(Xe)},label:"Hue-rotate",type:"number",suffix:"deg",variant:"filled"});var Ze=X(Ye,2);Se(Ze,{class:"w-100",children:(e,t)=>{ze(e,{get checked(){return i(s).reqFilterInvertIsOn??!1},set checked(e){var t;t=e,i(s).reqFilterInvertIsOn=t}})},$$slots:{default:!0}});var Ke=X(Ze,2);const Qe=Q(()=>!i(s).reqFilterInvertIsOn);Jl(Ke,{get value(){return i(s).reqFilterInvert??0},set value(e){var t;t=e,i(s).reqFilterInvert=t},get disabled(){return i(Qe)},label:"Invert",type:"number",suffix:"%",variant:"filled"});var et=X(Ke,2);Se(et,{class:"w-100",children:(e,t)=>{ze(e,{get checked(){return i(s).reqFilterSepiaIsOn??!1},set checked(e){var t;t=e,i(s).reqFilterSepiaIsOn=t}})},$$slots:{default:!0}});var tt=X(et,2);const ot=Q(()=>!i(s).reqFilterSepiaIsOn);Jl(tt,{get value(){return i(s).reqFilterSepia??0},set value(e){var t;t=e,i(s).reqFilterSepia=t},get disabled(){return i(ot)},label:"Sepia",type:"number",suffix:"%",variant:"filled"});var it=X(He,2);let lt;var rt=v(it);Se(rt,{class:"w-100",children:(e,t)=>{ze(e,{get checked(){return i(s).reqFilterOpacIsOn??!1},set checked(e){var t;t=e,i(s).reqFilterOpacIsOn=t}})},$$slots:{default:!0}});var at=X(rt,2);const nt=Q(()=>!i(s).reqFilterOpacIsOn);Jl(at,{get value(){return i(s).reqFilterOpac??0},set value(e){var t;t=e,i(s).reqFilterOpac=t},get disabled(){return i(nt)},label:"Opacity",type:"number",suffix:"%",variant:"filled"});var st=X(at,2);Se(st,{class:"w-100",children:(e,t)=>{ze(e,{get checked(){return i(s).reqFilterSaturIsOn??!1},set checked(e){var t;t=e,i(s).reqFilterSaturIsOn=t}})},$$slots:{default:!0}});var dt=X(st,2);const ct=Q(()=>!i(s).reqFilterSaturIsOn);Jl(dt,{get value(){return i(s).reqFilterSatur??0},set value(e){var t;t=e,i(s).reqFilterSatur=t},get disabled(){return i(ct)},label:"Saturate",type:"number",suffix:"%",variant:"filled"});var ut=X(dt,2);Se(ut,{class:"w-100",children:(e,t)=>{ze(e,{get checked(){return i(s).reqFilterGrayIsOn??!1},set checked(e){var t;t=e,i(s).reqFilterGrayIsOn=t}})},$$slots:{default:!0}});var gt=X(ut,2);const vt=Q(()=>!i(s).reqFilterGrayIsOn);Jl(gt,{get value(){return i(s).reqFilterGray??0},set value(e){var t;t=e,i(s).reqFilterGray=t},get disabled(){return i(vt)},label:"Greyscale",type:"number",suffix:"%",variant:"filled"});var ht=X(Re,2),pt=v(ht);let mt;var ft=v(pt);Se(ft,{class:"w-100",label:e=>{var t=le("Background Color");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(s).reqBgColorIsOn??!1},set checked(e){var t;t=e,i(s).reqBgColorIsOn=t}})},$$slots:{label:!0,default:!0}});var bt=X(ft,2);Se(bt,{class:"w-100",label:e=>{var t=le("Overlay on Image?");u(e,t)},children:(e,t)=>{const o=Q(()=>!i(s).reqBgColorIsOn);ze(e,{get checked(){return i(s).reqOverlayOnImage??!1},set checked(e){var t;t=e,i(s).reqOverlayOnImage=t},get disabled(){return i(o)}})},$$slots:{label:!0,default:!0}});var wt=X(bt,2);let It;var xt=v(wt);Sr(xt,{get hex(){return i(s).reqFilterBgColor??"#000000"},set hex(e){var t;t=e,i(s).reqFilterBgColor=t},get components(){return Or},sliderDirection:"horizontal"});var $t=X(pt,2);let Tt;var yt=v($t);Se(yt,{class:"w-100",label:e=>{var t=le("Border Color");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(s).reqBorderColorIsOn??!1},set checked(e){var t;t=e,i(s).reqBorderColorIsOn=t}})},$$slots:{label:!0,default:!0}});var Ct=X(yt,2);let Bt;var St=v(Ct);Sr(St,{get hex(){return i(s).reqFilterBorderColor??"#000000"},set hex(e){var t;t=e,i(s).reqFilterBorderColor=t},get components(){return Or},sliderDirection:"horizontal"});var kt=X($t,2);let Ot;var Ft=v(kt);Se(Ft,{class:"w-100",label:e=>{var t=le("Choice Title Color");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(s).reqCTitleColorIsOn??!1},set checked(e){var t;t=e,i(s).reqCTitleColorIsOn=t}})},$$slots:{label:!0,default:!0}});var Rt=X(Ft,2);let At;var jt=v(Rt);Sr(jt,{get hex(){return i(s).reqFilterCTitleColor??"#000000"},set hex(e){var t;t=e,i(s).reqFilterCTitleColor=t},get components(){return Or},sliderDirection:"horizontal"});var Mt=X(ht,2);let Dt;var Pt=v(Mt),qt=v(Pt);Se(qt,{class:"w-100",label:e=>{var t=le("Choice Text Color");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(s).reqCTextColorIsOn??!1},set checked(e){var t;t=e,i(s).reqCTextColorIsOn=t}})},$$slots:{label:!0,default:!0}});var Lt=X(qt,2);let Wt;var Vt=v(Lt);Sr(Vt,{get hex(){return i(s).reqFilterCTextColor??"#000000"},set hex(e){var t;t=e,i(s).reqFilterCTextColor=t},get components(){return Or},sliderDirection:"horizontal"});var Nt=X(Pt,2);let zt;var Ut=v(Nt);Se(Ut,{class:"w-100",label:e=>{var t=le("Addon Title Color");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(s).reqATitleColorIsOn??!1},set checked(e){var t;t=e,i(s).reqATitleColorIsOn=t}})},$$slots:{label:!0,default:!0}});var Gt=X(Ut,2);let Et;var Ht=v(Gt);Sr(Ht,{get hex(){return i(s).reqFilterATitleColor??"#000000"},set hex(e){var t;t=e,i(s).reqFilterATitleColor=t},get components(){return Or},sliderDirection:"horizontal"});var _t=X(Nt,2);let Jt;var Yt=v(_t);Se(Yt,{class:"w-100",label:e=>{var t=le("Addon Text Color");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(s).reqATextColorIsOn??!1},set checked(e){var t;t=e,i(s).reqATextColorIsOn=t}})},$$slots:{label:!0,default:!0}});var Xt=X(Yt,2);let Zt;var Kt=v(Xt);Sr(Kt,{get hex(){return i(s).reqFilterATextColor??"#000000"},set hex(e){var t;t=e,i(s).reqFilterATextColor=t},get components(){return Or},sliderDirection:"horizontal"});var Qt=X(_t,2);let eo;var to=v(Qt);Se(to,{class:"w-100",label:e=>{var t=le("Score & Requirement Color");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(s).reqScoreTextColorIsOn??!1},set checked(e){var t;t=e,i(s).reqScoreTextColorIsOn=t}})},$$slots:{label:!0,default:!0}});var oo=X(to,2);let io;var lo=v(oo);Sr(lo,{get hex(){return i(s).reqFilterSTextColor??"#000000"},set hex(e){var t;t=e,i(s).reqFilterSTextColor=t},get components(){return Or},sliderDirection:"horizontal"});var ro=X(Mt,2),ao=X(v(ro),2),no=v(ao);Se(no,{class:"w-100",children:(e,t)=>{ze(e,{get checked(){return i(s).unselFilterBlurIsOn??!1},set checked(e){var t;t=e,i(s).unselFilterBlurIsOn=t}})},$$slots:{default:!0}});var so=X(no,2);const co=Q(()=>!i(s).unselFilterBlurIsOn);Jl(so,{get value(){return i(s).unselFilterBlur??0},set value(e){var t;t=e,i(s).unselFilterBlur=t},get disabled(){return i(co)},label:"Blur",type:"number",suffix:"px",variant:"filled"});var uo=X(so,2);Se(uo,{class:"w-100",children:(e,t)=>{ze(e,{get checked(){return i(s).unselFilterBrightIsOn??!1},set checked(e){var t;t=e,i(s).unselFilterBrightIsOn=t}})},$$slots:{default:!0}});var go=X(uo,2);const vo=Q(()=>!i(s).unselFilterBrightIsOn);Jl(go,{get value(){return i(s).unselFilterBright??0},set value(e){var t;t=e,i(s).unselFilterBright=t},get disabled(){return i(vo)},label:"Brightness",type:"number",suffix:"%",variant:"filled"});var ho=X(go,2);Se(ho,{class:"w-100",children:(e,t)=>{ze(e,{get checked(){return i(s).unselFilterContIsOn??!1},set checked(e){var t;t=e,i(s).unselFilterContIsOn=t}})},$$slots:{default:!0}});var po=X(ho,2);const mo=Q(()=>!i(s).unselFilterContIsOn);Jl(po,{get value(){return i(s).unselFilterCont??0},set value(e){var t;t=e,i(s).unselFilterCont=t},get disabled(){return i(mo)},label:"Contrast",type:"number",suffix:"%",variant:"filled"});var fo=X(ao,2),bo=v(fo);Se(bo,{class:"w-100",children:(e,t)=>{ze(e,{get checked(){return i(s).unselFilterHueIsOn??!1},set checked(e){var t;t=e,i(s).unselFilterHueIsOn=t}})},$$slots:{default:!0}});var wo=X(bo,2);const Io=Q(()=>!i(s).unselFilterHueIsOn);Jl(wo,{get value(){return i(s).unselFilterHue??0},set value(e){var t;t=e,i(s).unselFilterHue=t},get disabled(){return i(Io)},label:"Hue-rotate",type:"number",suffix:"deg",variant:"filled"});var xo=X(wo,2);Se(xo,{class:"w-100",children:(e,t)=>{ze(e,{get checked(){return i(s).unselFilterInvertIsOn??!1},set checked(e){var t;t=e,i(s).unselFilterInvertIsOn=t}})},$$slots:{default:!0}});var $o=X(xo,2);const To=Q(()=>!i(s).unselFilterInvertIsOn);Jl($o,{get value(){return i(s).unselFilterInvert??0},set value(e){var t;t=e,i(s).unselFilterInvert=t},get disabled(){return i(To)},label:"Invert",type:"number",suffix:"%",variant:"filled"});var yo=X($o,2);Se(yo,{class:"w-100",children:(e,t)=>{ze(e,{get checked(){return i(s).unselFilterSepiaIsOn??!1},set checked(e){var t;t=e,i(s).unselFilterSepiaIsOn=t}})},$$slots:{default:!0}});var Co=X(yo,2);const Bo=Q(()=>!i(s).unselFilterSepiaIsOn);Jl(Co,{get value(){return i(s).unselFilterSepia??0},set value(e){var t;t=e,i(s).unselFilterSepia=t},get disabled(){return i(Bo)},label:"Sepia",type:"number",suffix:"%",variant:"filled"});var So=X(fo,2),ko=v(So);Se(ko,{class:"w-100",children:(e,t)=>{ze(e,{get checked(){return i(s).unselFilterOpacIsOn??!1},set checked(e){var t;t=e,i(s).unselFilterOpacIsOn=t}})},$$slots:{default:!0}});var Oo=X(ko,2);const Fo=Q(()=>!i(s).unselFilterOpacIsOn);Jl(Oo,{get value(){return i(s).unselFilterOpac??0},set value(e){var t;t=e,i(s).unselFilterOpac=t},get disabled(){return i(Fo)},label:"Opacity",type:"number",suffix:"%",variant:"filled"});var Ro=X(Oo,2);Se(Ro,{class:"w-100",children:(e,t)=>{ze(e,{get checked(){return i(s).unselFilterSaturIsOn??!1},set checked(e){var t;t=e,i(s).unselFilterSaturIsOn=t}})},$$slots:{default:!0}});var Ao=X(Ro,2);const jo=Q(()=>!i(s).unselFilterSaturIsOn);Jl(Ao,{get value(){return i(s).unselFilterSatur??0},set value(e){var t;t=e,i(s).unselFilterSatur=t},get disabled(){return i(jo)},label:"Saturate",type:"number",suffix:"%",variant:"filled"});var Mo=X(Ao,2);Se(Mo,{class:"w-100",children:(e,t)=>{ze(e,{get checked(){return i(s).unselFilterGrayIsOn??!1},set checked(e){var t;t=e,i(s).unselFilterGrayIsOn=t}})},$$slots:{default:!0}});var Do=X(Mo,2);const Po=Q(()=>!i(s).unselFilterGrayIsOn);Jl(Do,{get value(){return i(s).unselFilterGray??0},set value(e){var t;t=e,i(s).unselFilterGray=t},get disabled(){return i(Po)},label:"Greyscale",type:"number",suffix:"%",variant:"filled"}),b((e,t,i,r,a,n,s,d,c,u,g,v,h,p,m,f,b,I,x,$,T,y,C,B,S)=>{l=w(o,1,"container-fluid",null,l,e),_=w(H,1,"",null,_,t),ee=w(K,1,"",null,ee,i),ae=w(re,1,"",null,ae,r),ge=w(ue,1,"",null,ge,a),fe=w(me,1,"",null,fe,n),$e=w(xe,1,"",null,$e,s),Oe=w(Be,1,"",null,Oe,d),De=w(Me,1,"col-lg-4 col-12 gy-2",null,De,c),_e=w(He,1,"col-lg-4 col-12 gy-2",null,_e,u),lt=w(it,1,"col-lg-4 col-12 gy-2",null,lt,g),mt=w(pt,1,"col-lg-4 col-12 gy-2",null,mt,v),It=w(wt,1,"",null,It,h),Tt=w($t,1,"col-lg-4 col-12 gy-2",null,Tt,p),Bt=w(Ct,1,"",null,Bt,m),Ot=w(kt,1,"col-lg-4 col-12 gy-2",null,Ot,f),At=w(Rt,1,"",null,At,b),Dt=w(Mt,1,"row",null,Dt,I),Wt=w(Lt,1,"",null,Wt,x),zt=w(Nt,1,"col-xl-3 col-lg-6 col-12 gy-2",null,zt,$),Et=w(Gt,1,"",null,Et,T),Jt=w(_t,1,"col-xl-3 col-lg-6 col-12 gy-2",null,Jt,y),Zt=w(Xt,1,"",null,Zt,C),eo=w(Qt,1,"col-xl-3 col-lg-6 col-12 gy-2",null,eo,B),io=w(oo,1,"",null,io,S)},[()=>({disabled:i(m)}),()=>({disabled:!i(s).selBgColorIsOn}),()=>({disabled:!i(s).selBorderColorIsOn}),()=>({disabled:!i(s).selCTitleColorIsOn}),()=>({disabled:!i(s).selCTextColorIsOn}),()=>({disabled:!i(s).selATitleColorIsOn}),()=>({disabled:!i(s).selATextColorIsOn}),()=>({disabled:!i(s).selScoreTextColorIsOn}),()=>({disabled:i(s).reqFilterVisibleIsOn}),()=>({disabled:i(s).reqFilterVisibleIsOn}),()=>({disabled:i(s).reqFilterVisibleIsOn}),()=>({disabled:i(s).reqFilterVisibleIsOn}),()=>({disabled:!i(s).reqBgColorIsOn}),()=>({disabled:i(s).reqFilterVisibleIsOn}),()=>({disabled:!i(s).reqBorderColorIsOn}),()=>({disabled:i(s).reqFilterVisibleIsOn}),()=>({disabled:!i(s).reqCTitleColorIsOn}),()=>({disabled:i(s).reqFilterVisibleIsOn}),()=>({disabled:!i(s).reqCTextColorIsOn}),()=>({disabled:i(s).reqFilterVisibleIsOn}),()=>({disabled:!i(s).reqATitleColorIsOn}),()=>({disabled:i(s).reqFilterVisibleIsOn}),()=>({disabled:!i(s).reqATextColorIsOn}),()=>({disabled:i(s).reqFilterVisibleIsOn}),()=>({disabled:!i(s).reqScoreTextColorIsOn})]),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}});var a=X(r,2);ve(a,{children:(e,t)=>{ue(e,{action:"close",children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Close");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),g()}var In=n('<span class="title--text">Multi Choice</span>'),xn=n('<span class="title--text">Multi Choice</span>'),$n=n("<!> <!>",1),Tn=n('<div><div class="row"><div class="col-12 px-3 text-center">Tier number</div> <div class="col-sm-6 col-12 gy-2"><!> <!></div> <div class="col-sm-6 col-12 gy-2 d-column justify-end"><!></div> <div class="col-12 px-3 text-center">Counter</div> <div class="col-sm-6 col-12 gy-2"><!></div> <div class="col-sm-6 col-12 gy-2"><!></div></div></div>'),yn=n("<!> <!> <!>",1);function Cn(o,r){t(r,!0);let a=h(r,"open",7),n=h(r,"data",7);const s=[{text:"Bottom of Choice Title",value:0},{text:"Bottom of Choice Scores",value:1},{text:"Bottom of Choice Requirements",value:2},{text:"Bottom of Choice Text",value:3},{text:"Bottom of Choice Addons",value:4}];let d=l(e(void 0!==n()?n().styling||Qt:app.styling)),p=l(!1),m=Q(()=>i(p)?"opacity: 0.2":""),f=Q(()=>void 0!==n()&&!n().privateMultiChoiceIsOn);se(o,{surface$style:"width: 1200px; max-width: calc(100vw - 32px);",get onSMUIDialogClosed(){return r.onclose},get style(){return i(m)},get open(){return a()},set open(e){a(e)},children:(e,t)=>{var o=yn(),l=D(o);de(l,{class:"dialog-title",tabindex:0,autofocus:!0,children:(e,t)=>{var o=$n(),l=D(o),r=e=>{Se(e,{label:e=>{var t=In();u(e,t)},children:(e,t)=>{ze(e,{get checked(){return n().privateMultiChoiceIsOn??!1},set checked(e){var t;t=e,n().privateMultiChoiceIsOn=t},onchange:()=>{if(n().privateMultiChoiceIsOn){let e=JSON.parse(JSON.stringify(Qt));Object.keys(Qt).forEach(t=>{if(app.styling.hasOwnProperty(t)){let o=app.styling[t];void 0!==o&&(e[t]=o)}}),n().styling={...n().styling||{},...e},c(d,n().styling,!0)}else Object.keys(Qt).forEach(e=>{n().styling&&app.styling.hasOwnProperty(e)&&delete n().styling[e]})}})},$$slots:{label:!0,default:!0}})},a=e=>{var t=xn();u(e,t)};Y(l,e=>{void 0!==n()?e(r):e(a,!1)});var s=X(l,2);Se(s,{label:e=>{var t=le("Preview Behind Dialog");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(p)},set checked(e){c(p,e,!0)}})},$$slots:{label:!0,default:!0}});u(e,o)},$$slots:{default:!0}});var r=X(l,2);ce(r,{class:"p-0",children:(e,t)=>{Ue(e,{class:"no-shadow",children:(e,t)=>{Ge(e,{children:(e,t)=>{var o=Tn();let l;var r=v(o),a=X(v(r),2),n=v(a);Se(n,{class:"w-100",label:e=>{var t=le("Use Local Custom Font?");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(d).customMultiTextFont??!1},set checked(e){var t;t=e,i(d).customMultiTextFont=t}})},$$slots:{label:!0,default:!0}});var c=X(n,2),g=e=>{Jl(e,{class:"mb-4",get value(){return i(d).multiChoiceTextFont??""},set value(e){var t;t=e,i(d).multiChoiceTextFont=t},label:"Text Font",variant:"filled"})},h=e=>{ia(e,{class:"mb-4",get value(){return i(d).multiChoiceTextFont??""},set value(e){var t;t=e,i(d).multiChoiceTextFont=t},label:"Text Font",variant:"filled",children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>ao,He,(e,t)=>{la(e,{get value(){return i(t)},children:(e,o)=>{var l=le();b(()=>re(l,i(t))),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}})};Y(c,e=>{i(d).customMultiTextFont?e(g):e(h,!1)});var p=X(a,2),m=v(p);Jl(m,{class:"mb-4",get value(){return i(d).multiChoiceTextSize??0},set value(e){var t;t=e,i(d).multiChoiceTextSize=t},label:"Text Size",type:"number",suffix:"%",variant:"filled"});var I=X(p,4),x=v(I);ia(x,{class:"mb-4",get value(){return i(d).multiChoiceCounterPosition??0},set value(e){var t;t=e,i(d).multiChoiceCounterPosition=t},label:"Text Font",variant:"filled",alwaysFloat:!0,children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>s,He,(e,t)=>{la(e,{get value(){return i(t).value},children:(e,o)=>{var l=le();b(()=>re(l,i(t).text)),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}});var $=X(I,2),T=v($);Jl(T,{class:"mb-4",get value(){return i(d).multiChoiceCounterSize??0},set value(e){var t;t=e,i(d).multiChoiceCounterSize=t},label:"Text Size",type:"number",suffix:"%",variant:"filled"}),b(e=>l=w(o,1,"container-fluid",null,l,e),[()=>({disabled:i(f)})]),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}});var a=X(r,2);ve(a,{children:(e,t)=>{ue(e,{action:"close",children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Close");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),g()}var Bn=n('<span class="title--text">Point Bar</span> <!>',1),Sn=n('<div class="container-fluid"><div class="row"><div class="col-lg-4 col-12 gy-2"><div class="col-12 px-3">Style of text inside the point-bar</div> <!> <!> <!> <!> <div class="col-12 px-3">Style of text inside the point-bar</div> <!> <!> <!></div> <div class="col-lg-4 col-12 gy-2 text-center"><div class="col-12 px-3">Bar Text Color</div> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <div class="col-12 px-3">Bar Points Color Positive</div> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <div class="col-12 px-3">Bar Points Color Negative</div> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></div> <div class="col-lg-4 col-12 gy-2 text-center"><div class="col-12 px-3">Bar Background Color</div> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper> <div class="col-12 px-3">Bar Icon Color</div> <svelte-css-wrapper style="display: contents"><!></svelte-css-wrapper></div></div></div>'),kn=n("<!> <!> <!>",1);function On(o,r){t(r,!0);let a=h(r,"open",7),n=l(!1),s=Q(()=>i(n)?"opacity: 0.2":""),d=e(app.styling);se(o,{surface$style:"width: 1200px; max-width: calc(100vw - 32px);",get onSMUIDialogClosed(){return r.onclose},get style(){return i(s)},get open(){return a()},set open(e){a(e)},children:(e,t)=>{var o=kn(),l=D(o);de(l,{class:"dialog-title",tabindex:0,autofocus:!0,children:(e,t)=>{var o=Bn(),l=X(D(o),2);Se(l,{label:e=>{var t=le("Preview Behind Dialog");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(n)},set checked(e){c(n,e,!0)}})},$$slots:{label:!0,default:!0}});u(e,o)},$$slots:{default:!0}});var r=X(l,2);ce(r,{class:"p-0",children:(e,t)=>{Ue(e,{class:"no-shadow",children:(e,t)=>{Ge(e,{children:(e,t)=>{var o=Sn(),l=v(o),r=v(l),a=X(v(r),2);Jl(a,{class:"mb-4",get value(){return d.barTextPadding??0},set value(e){var t;t=e,d.barTextPadding=t},label:"Bar Text Padding",type:"number",suffix:"px",variant:"filled"});var n=X(a,2);Jl(n,{class:"mb-4",get value(){return d.barTextMargin??0},set value(e){var t;t=e,d.barTextMargin=t},label:"Bar Text Margin",type:"number",suffix:"px",variant:"filled"});var s=X(n,2);Se(s,{class:"w-100",label:e=>{var t=le("Use Local Custom Font?");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return d.customBarTextFont??!1},set checked(e){var t;t=e,d.customBarTextFont=t}})},$$slots:{label:!0,default:!0}});var c=X(s,2),g=e=>{Jl(e,{class:"mb-4",get value(){return d.barTextFont??""},set value(e){var t;t=e,d.barTextFont=t},label:"Text Font",variant:"filled"})},h=e=>{ia(e,{class:"mb-4",get value(){return d.barTextFont??""},set value(e){var t;t=e,d.barTextFont=t},label:"Text Font",variant:"filled",children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>ao,He,(e,t)=>{la(e,{get value(){return i(t)},children:(e,o)=>{var l=le();b(()=>re(l,i(t))),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}})};Y(c,e=>{d.customBarTextFont?e(g):e(h,!1)});var p=X(c,4);Jl(p,{class:"mb-4",get value(){return d.barPadding??0},set value(e){var t;t=e,d.barPadding=t},label:"Bar Padding",type:"number",suffix:"px",variant:"filled"});var m=X(p,2);Jl(m,{class:"mb-4",get value(){return d.barMargin??0},set value(e){var t;t=e,d.barMargin=t},label:"Bar Margin",type:"number",suffix:"px",variant:"filled"});var f=X(m,2);Jl(f,{class:"mb-4",get value(){return d.barTextSize??0},set value(e){var t;t=e,d.barTextSize=t},label:"Bar Text Size",type:"number",suffix:"px",variant:"filled"});var w=X(r,2),I=X(v(w),2);_e(I,()=>({"--picker-height":"100px"})),Sr(I.lastChild,{get hex(){return d.barTextColor??"#000000"},set hex(e){var t;t=e,d.barTextColor=t},get components(){return Or},sliderDirection:"horizontal",isDialog:!1});var x=X(I,4);_e(x,()=>({"--picker-height":"100px"})),Sr(x.lastChild,{get hex(){return d.barPointPos??"#000000"},set hex(e){var t;t=e,d.barPointPos=t},get components(){return Or},sliderDirection:"horizontal",isDialog:!1});var $=X(x,4);_e($,()=>({"--picker-height":"100px"})),Sr($.lastChild,{get hex(){return d.barPointNeg??"#000000"},set hex(e){var t;t=e,d.barPointNeg=t},get components(){return Or},sliderDirection:"horizontal",isDialog:!1});var T=X(w,2),y=X(v(T),2);_e(y,()=>({"--picker-height":"100px"})),Sr(y.lastChild,{get hex(){return d.barBackgroundColor??"#000000"},set hex(e){var t;t=e,d.barBackgroundColor=t},get components(){return Or},sliderDirection:"horizontal",isDialog:!1});var C=X(y,4);_e(C,()=>({"--picker-height":"100px"})),Sr(C.lastChild,{get hex(){return d.barIconColor??"#000000"},set hex(e){var t;t=e,d.barIconColor=t},get components(){return Or},sliderDirection:"horizontal",isDialog:!1}),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}});var a=X(r,2);ve(a,{children:(e,t)=>{ue(e,{action:"close",children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Close");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),g()}var Fn=n('<span class="title--text">Row Design</span>'),Rn=n('<span class="title--text">Row Design</span>'),An=n("<!> <!>",1),jn=n('<div class="row"><div class="col-lg-4 gy-2"><div class="col-12 px-3">Margin and Padding</div> <!> <!> <!> <!> <div class="col-12 px-3">Text Padding</div> <!> <!> <!></div> <div class="col-lg-4 gy-2"><div class="col-12 px-3">Shadow that the row makes</div> <!> <!> <!> <!> <div class="col-12 px-3">The Width and Height of the buttons</div> <!> <!> <!> <!></div> <div class="col-lg-4 gy-2"><div class="col-12 px-3">Rounded corners on the row</div> <!> <!> <!> <!> <div class="col-12 px-3">Border Style and Width</div> <!> <!> <!> <!></div></div>'),Mn=n('<div class="row"><div class="col-lg-4 gy-2"><div class="col-12 px-3">Size of the row</div> <!> <!> <!> <!></div> <div class="col-lg-4 gy-2"><div class="col-12 px-3">Padding of the text inside of row</div> <!> <!> <div class="col-12 px-3">Shadow that the choice makes</div> <!> <!></div> <div class="col-lg-4 gy-2"><div class="col-12 px-3">Border Style and Width</div> <!> <!> <div class="col-12 px-3">Rounded corners on the row</div> <!> <!></div></div>'),Dn=n('<!> <div class="col-12">You might need to leave for the main menu if things stop updating, using something like (green, green) works. <a href="https://www.w3schools.com/css/css3_gradients.asp">https://www.w3schools.com/css/css3_gradients.asp</a></div>',1),Pn=(e,t,o)=>{c(t,"appImageUpload"),c(o,"rowBorderImage")},qn=n('<button type="button" class="btn--image-background"><img alt="Row Border" loading="lazy" class="btn--image" style="max-height: 140px;"/></button>'),Ln=n('<div><div class="col-12 pb-3"><!></div> <!> <div class="row"><div class="col-lg-4 gy-2 text-center"><div class="col-12 px-3">Border Color</div> <div><!></div></div> <div class="col-lg-4 gy-2 text-center"><div class="col-12 px-3">Color of the choice shadow</div> <div><!></div></div> <div class="col-lg-4 gy-2"><!> <!></div></div> <div class="row"><div class="col-12 text-center">Border Image</div> <div class="col-lg-4 gy-2"><div class="col-12 text-center px-5"><!> <!></div></div> <div class="col-lg-8 gy-2"><div class="row"><div class="col-lg-4 gy-2"><!> <!></div> <div class="col-lg-4 gy-2"><!> <!></div> <div class="col-lg-4 gy-2"><!> <!></div></div></div></div></div>'),Wn=n("<!> <!> <!>",1),Vn=n("<!> <!>",1);function Nn(o,r){t(r,!0);let a=h(r,"open",7),n=h(r,"data",7);const s=["solid","dotted","dashed","double","groove","ridge","inset","outset","hidden"],d=["stretch","repeat","round","space"];let p=l("none"),m=l(""),f=l(e(void 0!==n()?n().styling||Zt:app.styling)),I=l(!1),x=Q(()=>i(I)?"opacity: 0.2":""),$=Q(()=>i(f).rowBorderRadiusIsPixels?"px":"%"),T=Q(()=>void 0!==n()&&!n().privateRowIsOn);var y=Vn(),C=D(y);const B=Q(()=>"none"===i(p)?"close":"");se(C,{get escapeKeyAction(){return i(B)},surface$style:"width: 1200px; max-width: calc(100vw - 32px);",get onSMUIDialogClosed(){return r.onclose},get style(){return i(x)},get open(){return a()},set open(e){a(e)},children:(e,t)=>{var o=Wn(),l=D(o);de(l,{class:"dialog-title",tabindex:0,autofocus:!0,children:(e,t)=>{var o=An(),l=D(o),r=e=>{Se(e,{label:e=>{var t=Fn();u(e,t)},children:(e,t)=>{ze(e,{get checked(){return n().privateRowIsOn??!1},set checked(e){var t;t=e,n().privateRowIsOn=t},onchange:()=>{if(n().privateRowIsOn){let e=JSON.parse(JSON.stringify(Zt));Object.keys(Zt).forEach(t=>{if(app.styling.hasOwnProperty(t)){let o=app.styling[t];void 0!==o&&(e[t]=o)}}),n().styling={...n().styling||{},...e},c(f,n().styling,!0)}else Object.keys(Zt).forEach(e=>{n().styling&&app.styling.hasOwnProperty(e)&&delete n().styling[e]})}})},$$slots:{label:!0,default:!0}})},a=e=>{var t=Rn();u(e,t)};Y(l,e=>{void 0!==n()?e(r):e(a,!1)});var s=X(l,2);Se(s,{label:e=>{var t=le("Preview Behind Dialog");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(I)},set checked(e){c(I,e,!0)}})},$$slots:{label:!0,default:!0}});u(e,o)},$$slots:{default:!0}});var r=X(l,2);ce(r,{class:"p-0",children:(e,t)=>{Ue(e,{class:"no-shadow",children:(e,t)=>{Ge(e,{children:(e,t)=>{var o=Ln();let l;var r=v(o),a=v(r);Se(a,{label:e=>{var t=le("Advanced Design?");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return i(f).rowDesignIsAdvanced??!1},set checked(e){var t;t=e,i(f).rowDesignIsAdvanced=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var n=X(r,2),g=e=>{var t=jn(),o=v(t),l=X(v(o),2);Jl(l,{class:"mb-4",get value(){return i(f).rowMargin??0},set value(e){var t;t=e,i(f).rowMargin=t},label:"Text Margin",type:"number",suffix:"px",variant:"filled"});var r=X(l,2);Jl(r,{class:"mb-4",get value(){return i(f).rowBodyMarginSides??0},set value(e){var t;t=e,i(f).rowBodyMarginSides=t},label:"Row Left and Right Margin",type:"number",suffix:"%",variant:"filled"});var a=X(r,2);Jl(a,{class:"mb-4",get value(){return i(f).rowBodyMarginTop??0},set value(e){var t;t=e,i(f).rowBodyMarginTop=t},label:"Row Top Margin",type:"number",suffix:"px",variant:"filled"});var n=X(a,2);Jl(n,{class:"mb-4",get value(){return i(f).rowBodyMarginBottom??0},set value(e){var t;t=e,i(f).rowBodyMarginBottom=t},label:"Row Bottom Margin",type:"number",suffix:"px",variant:"filled"});var d=X(n,4);Jl(d,{class:"mb-4",get value(){return i(f).rowTextPaddingY??0},set value(e){var t;t=e,i(f).rowTextPaddingY=t},label:"Text Left and Right Padding",type:"number",suffix:"px",variant:"filled"});var c=X(d,2);Jl(c,{class:"mb-4",get value(){return i(f).rowTextPaddingX??0},set value(e){var t;t=e,i(f).rowTextPaddingX=t},label:"Text Top and Bottom Padding",type:"number",suffix:"px",variant:"filled"});var g=X(c,2);Se(g,{class:"w-100",label:e=>{var t=le("Border is turned on");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(f).rowBorderIsOn??!1},set checked(e){var t;t=e,i(f).rowBorderIsOn=t}})},$$slots:{label:!0,default:!0}});var h=X(o,2),p=X(v(h),2);Jl(p,{class:"mb-4",get value(){return i(f).rowDropShadowH??0},set value(e){var t;t=e,i(f).rowDropShadowH=t},label:"Horizontal Shadow",type:"number",suffix:"px",variant:"filled"});var m=X(p,2);Jl(m,{class:"mb-4",get value(){return i(f).rowDropShadowV??0},set value(e){var t;t=e,i(f).rowDropShadowV=t},label:"Vertical Shadow",type:"number",suffix:"px",variant:"filled"});var w=X(m,2);Jl(w,{class:"mb-4",get value(){return i(f).rowDropShadowBlur??0},set value(e){var t;t=e,i(f).rowDropShadowBlur=t},label:"Shadow Blur",type:"number",suffix:"px",variant:"filled"});var I=X(w,2);Jl(I,{class:"mb-4",get value(){return i(f).rowDropShadowSpread??0},set value(e){var t;t=e,i(f).rowDropShadowSpread=t},label:"Shadow Spread",type:"number",suffix:"px",variant:"filled"});var x=X(I,4);Jl(x,{class:"mb-4",get value(){return i(f).rowButtonXPadding??0},set value(e){var t;t=e,i(f).rowButtonXPadding=t},label:"Button Height",type:"number",suffix:"px",variant:"filled"});var T=X(x,2);Jl(T,{class:"mb-4",get value(){return i(f).rowButtonYPadding??0},set value(e){var t;t=e,i(f).rowButtonYPadding=t},label:"Button Width",type:"number",suffix:"px",variant:"filled"});var y=X(T,2);Se(y,{class:"w-100",label:e=>{var t=le("Drop Shadow or Box Shadow?");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return i(f).rowUseBoxShadowIsOn??!1},set checked(e){var t;t=e,i(f).rowUseBoxShadowIsOn=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var C=X(y,2);Se(C,{class:"w-100",label:e=>{var t=le("Shadow Is turned on");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(f).rowDropShadowIsOn??!1},set checked(e){var t;t=e,i(f).rowDropShadowIsOn=t}})},$$slots:{label:!0,default:!0}});var B=X(h,2),S=X(v(B),2);Jl(S,{class:"mb-4",get value(){return i(f).rowBorderRadiusTopLeft??0},set value(e){var t;t=e,i(f).rowBorderRadiusTopLeft=t},label:"Border-radius Top Left",type:"number",get suffix(){return i($)},variant:"filled"});var k=X(S,2);Jl(k,{class:"mb-4",get value(){return i(f).rowBorderRadiusTopRight??0},set value(e){var t;t=e,i(f).rowBorderRadiusTopRight=t},label:"Border-radius Top Right",type:"number",get suffix(){return i($)},variant:"filled"});var O=X(k,2);Jl(O,{class:"mb-4",get value(){return i(f).rowBorderRadiusBottomRight??0},set value(e){var t;t=e,i(f).rowBorderRadiusBottomRight=t},label:"Border-radius Bottom Right",type:"number",get suffix(){return i($)},variant:"filled"});var F=X(O,2);Jl(F,{class:"mb-4",get value(){return i(f).rowBorderRadiusBottomLeft??0},set value(e){var t;t=e,i(f).rowBorderRadiusBottomLeft=t},label:"Border-radius Bottom Left",type:"number",get suffix(){return i($)},variant:"filled"});var R=X(F,4);ia(R,{class:"mb-4",get value(){return i(f).rowBorderStyle??""},set value(e){var t;t=e,i(f).rowBorderStyle=t},label:"Border Style",variant:"filled",children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>s,He,(e,t)=>{la(e,{get value(){return i(t)},children:(e,o)=>{var l=le();b(()=>re(l,i(t))),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}});var A=X(R,2);Jl(A,{class:"mb-4",get value(){return i(f).rowBorderWidth??0},set value(e){var t;t=e,i(f).rowBorderWidth=t},label:"Border Width",type:"number",suffix:"px",variant:"filled"});var j=X(A,2);Se(j,{class:"w-100",label:e=>{var t=le("Border-Radius Percent or Pixels?");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return i(f).rowBorderRadiusIsPixels??!1},set checked(e){var t;t=e,i(f).rowBorderRadiusIsPixels=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var P=X(j,2);Se(P,{class:"w-100",label:e=>{var t=le("Border-Radius Cuts off overflow");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(f).rowOverflowIsOn??!1},set checked(e){var t;t=e,i(f).rowOverflowIsOn=t}})},$$slots:{label:!0,default:!0}});u(e,t)},h=e=>{var t=Mn(),o=v(t),l=X(v(o),2);Jl(l,{class:"mb-4",get value(){return i(f).rowMargin??0},set value(e){var t;t=e,i(f).rowMargin=t},label:"Width of the row top",type:"number",suffix:"px",variant:"filled"});var r=X(l,2);Jl(r,{class:"mb-4",get value(){return i(f).rowBodyMarginSides??0},set value(e){var t;t=e,i(f).rowBodyMarginSides=t},label:"Space at the right and left of the rows",type:"number",suffix:"%",variant:"filled"});var a=X(r,2);Jl(a,{class:"mb-4",get value(){return i(f).rowBodyMarginBottom??0},set value(e){var t;t=e,i(f).rowBodyMarginBottom=t},label:"Space Between Rows",type:"number",suffix:"px",variant:"filled"});var n=X(a,2);Se(n,{class:"w-100",label:e=>{var t=le("Border is turned on");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(f).rowBorderIsOn??!1},set checked(e){var t;t=e,i(f).rowBorderIsOn=t}})},$$slots:{label:!0,default:!0}});var d=X(o,2),c=X(v(d),2);Jl(c,{class:"mb-4",get value(){return i(f).rowTextPaddingY??0},set value(e){var t;t=e,i(f).rowTextPaddingY=t},label:"Text Left and Right Padding",type:"number",suffix:"px",variant:"filled"});var g=X(c,2);Jl(g,{class:"mb-half",get value(){return i(f).rowTextPaddingX??0},set value(e){var t;t=e,i(f).rowTextPaddingX=t},label:"Text Top and Bottom Padding",type:"number",suffix:"px",variant:"filled"});var h=X(g,4);Jl(h,{class:"mb-4",get value(){return i(f).rowDropShadowH??0},set value(e){var t;t=e,i(f).rowDropShadowH=t},onchange:()=>{i(f).rowDropShadowV=i(f).rowDropShadowH,i(f).rowDropShadowSpread=i(f).rowDropShadowH,i(f).rowDropShadowBlur=i(f).rowDropShadowH},label:"The Higher the number the bigger the shadow will be",type:"number",suffix:"px",variant:"filled"});var p=X(h,2);Se(p,{class:"w-100",label:e=>{var t=le("Drop Shadow Is turned on");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(f).rowDropShadowIsOn??!1},set checked(e){var t;t=e,i(f).rowDropShadowIsOn=t}})},$$slots:{label:!0,default:!0}});var m=X(d,2),w=X(v(m),2);ia(w,{class:"mb-4",get value(){return i(f).rowBorderStyle??""},set value(e){var t;t=e,i(f).rowBorderStyle=t},label:"Border Style",variant:"filled",children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>s,He,(e,t)=>{la(e,{get value(){return i(t)},children:(e,o)=>{var l=le();b(()=>re(l,i(t))),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}});var I=X(w,2);Jl(I,{class:"mb-half",get value(){return i(f).rowBorderWidth??0},set value(e){var t;t=e,i(f).rowBorderWidth=t},label:"Border Width",type:"number",suffix:"px",variant:"filled"});var x=X(I,4);Jl(x,{class:"mb-4",get value(){return i(f).rowBorderRadiusTopLeft??0},set value(e){var t;t=e,i(f).rowBorderRadiusTopLeft=t},onchange:()=>i(f).rowBorderRadiusTopRight=i(f).rowBorderRadiusTopLeft,label:"Border-radius Top",type:"number",get suffix(){return i($)},variant:"filled"});var T=X(x,2);Jl(T,{class:"mb-4",get value(){return i(f).rowBorderRadiusBottomLeft??0},set value(e){var t;t=e,i(f).rowBorderRadiusBottomLeft=t},onchange:()=>i(f).rowBorderRadiusBottomRight=i(f).rowBorderRadiusBottomLeft,label:"Border-radius Bottom",type:"number",get suffix(){return i($)},variant:"filled"}),u(e,t)};Y(n,e=>{i(f).rowDesignIsAdvanced?e(g):e(h,!1)});var I=X(n,2),x=v(I),y=X(v(x),2);let C;var B=v(y);Sr(B,{get hex(){return i(f).rowBorderColor??"#000000"},set hex(e){var t;t=e,i(f).rowBorderColor=t},get components(){return Or},sliderDirection:"horizontal",isDialog:!1});var S=X(x,2),k=X(v(S),2);let O;var F=v(k);Sr(F,{get hex(){return i(f).rowDropShadowColor??"#000000"},set hex(e){var t;t=e,i(f).rowDropShadowColor=t},get components(){return Or},sliderDirection:"horizontal",isDialog:!1});var R=X(S,2),A=v(R);Se(A,{class:"w-100",label:e=>{var t=le("Row Gradient is turned on");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(f).rowGradientIsOn??!1},set checked(e){var t;t=e,i(f).rowGradientIsOn=t}})},$$slots:{label:!0,default:!0}});var j=X(A,2),P=e=>{var t=Dn(),o=D(t);Jl(o,{get value(){return i(f).rowGradient??""},set value(e){var t;t=e,i(f).rowGradient=t},label:"Gradient",variant:"filled",input$placeholder:"to left, blue, red"}),u(e,t)};Y(j,e=>{i(f).rowGradientIsOn&&e(P)});var q=X(I,2),L=X(v(q),2),W=v(L),V=v(W),N=e=>{var t=qn();t.__click=[Pn,p,m];var o=v(t);b(()=>xe(o,"src",i(f).rowBorderImage)),u(e,t)};Y(V,e=>{i(f).rowBorderImage&&e(N)});var z=X(V,2);ue(z,{onclick:()=>{c(p,"appImageUpload"),c(m,"rowBorderImage")},variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Change Image");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var U=X(L,2),G=v(U),E=v(G),H=v(E);ia(H,{class:"mb-4",get value(){return i(f).rowBorderImageRepeat??""},set value(e){var t;t=e,i(f).rowBorderImageRepeat=t},label:"Image Repeat",variant:"filled",children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>d,He,(e,t)=>{la(e,{get value(){return i(t)},children:(e,o)=>{var l=le();b(()=>re(l,i(t))),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}});var _=X(H,2);Jl(_,{class:"mb-4",get value(){return i(f).rowBorderImageWidth??0},set value(e){var t;t=e,i(f).rowBorderImageWidth=t},label:"Border Width",type:"number",suffix:"px",variant:"filled"});var J=X(E,2),Z=v(J);Jl(Z,{class:"mb-4",get value(){return i(f).rowBorderImageSliceTop??0},set value(e){var t;t=e,i(f).rowBorderImageSliceTop=t},label:"Slice Top",type:"number",suffix:"px",variant:"filled"});var K=X(Z,2);Jl(K,{class:"mb-4",get value(){return i(f).rowBorderImageSliceBottom??0},set value(e){var t;t=e,i(f).rowBorderImageSliceBottom=t},label:"Slice Bottom",type:"number",suffix:"px",variant:"filled"});var Q=X(J,2),ee=v(Q);Jl(ee,{class:"mb-4",get value(){return i(f).rowBorderImageSliceLeft??0},set value(e){var t;t=e,i(f).rowBorderImageSliceLeft=t},label:"Slice Left",type:"number",suffix:"px",variant:"filled"});var te=X(ee,2);Jl(te,{class:"mb-4",get value(){return i(f).rowBorderImageSliceRight??0},set value(e){var t;t=e,i(f).rowBorderImageSliceRight=t},label:"Slice Right",type:"number",suffix:"px",variant:"filled"}),b((e,t,i)=>{l=w(o,1,"container-fluid",null,l,e),C=w(y,1,"",null,C,t),O=w(k,1,"",null,O,i)},[()=>({disabled:i(T)}),()=>({disabled:!i(f).rowBorderIsOn}),()=>({disabled:!i(f).rowDropShadowIsOn})]),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}});var a=X(r,2);ve(a,{children:(e,t)=>{ue(e,{action:"close",children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Close");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}});var S=X(C,2),k=e=>{const t=Q(()=>"appImageUpload"===i(p));Xr(e,{get open(){return i(t)},onclose:()=>c(p,"none"),get imgObject(){return i(f)},get imgProp(){return i(m)},canHaveURL:!0})};Y(S,e=>{"appImageUpload"===i(p)&&e(k)}),u(o,y),g()}he(["click"]);var zn=n('<span class="title--text">Row Image Design</span>'),Un=n('<span class="title--text">Row Image Design</span>'),Gn=n("<!> <!>",1),En=n('<div><div class="row"><div class="col-lg-4 col-12 gy-2"><div class="col-12 px-3">Style and Width of the border</div> <!> <!> <div class="col-12 px-3">Size and Margin of the row image</div> <!> <!> <!> <div class="col-12 px-3">Works only with the Image Left/Right template</div> <!></div> <div class="col-lg-4 col-12 gy-2"><div class="col-12 px-3">Rounded corners on the image</div> <!> <!> <!> <!> <!> <!> <!></div> <div class="col-lg-4 col-12 gy-2 text-center"><div class="col-12 px-3">Border Color</div> <div><!></div></div></div></div>'),Hn=n("<!> <!> <!>",1);function _n(o,r){t(r,!0);let a=h(r,"open",7),n=h(r,"data",7);const s=["solid","dotted","dashed","double","groove","ridge","inset","outset","hidden"];let d=l(e(void 0!==n()?n().styling||_t:app.styling)),p=l(!1),m=Q(()=>i(p)?"opacity: 0.2":""),f=Q(()=>i(d).rowImgBorderRadiusIsPixels?"px":"%"),I=Q(()=>void 0!==n()&&!n().privateRowImageIsOn);se(o,{surface$style:"width: 1200px; max-width: calc(100vw - 32px);",get onSMUIDialogClosed(){return r.onclose},get style(){return i(m)},get open(){return a()},set open(e){a(e)},children:(e,t)=>{var o=Hn(),l=D(o);de(l,{class:"dialog-title",tabindex:0,autofocus:!0,children:(e,t)=>{var o=Gn(),l=D(o),r=e=>{Se(e,{label:e=>{var t=zn();u(e,t)},children:(e,t)=>{ze(e,{get checked(){return n().privateRowImageIsOn??!1},set checked(e){var t;t=e,n().privateRowImageIsOn=t},onchange:()=>{if(n().privateRowImageIsOn){let e=JSON.parse(JSON.stringify(_t));Object.keys(_t).forEach(t=>{if(app.styling.hasOwnProperty(t)){let o=app.styling[t];void 0!==o&&(e[t]=o)}}),n().styling={...n().styling||{},...e},c(d,n().styling,!0)}else Object.keys(_t).forEach(e=>{n().styling&&app.styling.hasOwnProperty(e)&&delete n().styling[e]})}})},$$slots:{label:!0,default:!0}})},a=e=>{var t=Un();u(e,t)};Y(l,e=>{void 0!==n()?e(r):e(a,!1)});var s=X(l,2);Se(s,{label:e=>{var t=le("Preview Behind Dialog");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(p)},set checked(e){c(p,e,!0)}})},$$slots:{label:!0,default:!0}});u(e,o)},$$slots:{default:!0}});var r=X(l,2);ce(r,{class:"p-0",children:(e,t)=>{Ue(e,{class:"no-shadow",children:(e,t)=>{Ge(e,{children:(e,t)=>{var o=En();let l;var r=v(o),a=v(r),n=X(v(a),2);ia(n,{class:"mb-4",get value(){return i(d).rowImgBorderStyle??""},set value(e){var t;t=e,i(d).rowImgBorderStyle=t},label:"Border Style",variant:"filled",children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>s,He,(e,t)=>{la(e,{get value(){return i(t)},children:(e,o)=>{var l=le();b(()=>re(l,i(t))),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}});var c=X(n,2);Jl(c,{class:"mb-half",get value(){return i(d).rowImgBorderWidth??0},set value(e){var t;t=e,i(d).rowImgBorderWidth=t},label:"Thickness of the border",type:"number",suffix:"px",variant:"filled"});var g=X(c,4);Jl(g,{class:"mb-4",get value(){return i(d).rowImageWidth??0},set value(e){var t;t=e,i(d).rowImageWidth=t},label:"Width of the image inside of the row",type:"number",suffix:"%",variant:"filled"});var h=X(g,2);Jl(h,{class:"mb-4",get value(){return i(d).rowImageMarginTop??0},set value(e){var t;t=e,i(d).rowImageMarginTop=t},label:"Space Between Top of row and Image",type:"number",suffix:"%",variant:"filled"});var p=X(h,2);Jl(p,{class:"mb-half",get value(){return i(d).rowImageMarginBottom??0},set value(e){var t;t=e,i(d).rowImageMarginBottom=t},label:"Space Between Title and Image",type:"number",suffix:"%",variant:"filled"});var m=X(p,4);Jl(m,{class:"mb-half",get value(){return i(d).rowImageBoxWidth??0},set value(e){var t;t=e,i(d).rowImageBoxWidth=t},label:"Width of the image box inside of row",type:"number",suffix:"%",variant:"filled",onchange:()=>i(d).rowImageBoxWidth=Math.max(0,Math.min(100,i(d).rowImageBoxWidth??50)),input$min:0,input$max:100});var x=X(a,2),$=X(v(x),2);Jl($,{class:"mb-4",get value(){return i(d).rowImgBorderRadiusTopLeft??0},set value(e){var t;t=e,i(d).rowImgBorderRadiusTopLeft=t},label:"Border-radius Top Left",type:"number",get suffix(){return i(f)},variant:"filled"});var T=X($,2);Jl(T,{class:"mb-4",get value(){return i(d).rowImgBorderRadiusTopRight??0},set value(e){var t;t=e,i(d).rowImgBorderRadiusTopRight=t},label:"Border-radius Top Right",type:"number",get suffix(){return i(f)},variant:"filled"});var y=X(T,2);Jl(y,{class:"mb-4",get value(){return i(d).rowImgBorderRadiusBottomRight??0},set value(e){var t;t=e,i(d).rowImgBorderRadiusBottomRight=t},label:"Border-radius Bottom Right",type:"number",get suffix(){return i(f)},variant:"filled"});var C=X(y,2);Jl(C,{class:"mb-4",get value(){return i(d).rowImgBorderRadiusBottomLeft??0},set value(e){var t;t=e,i(d).rowImgBorderRadiusBottomLeft=t},label:"Border-radius Bottom Left",type:"number",get suffix(){return i(f)},variant:"filled"});var B=X(C,2);Se(B,{class:"w-100",label:e=>{var t=le("Border-Radius Percent or Pixels?");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return i(d).rowImgBorderRadiusIsPixels??!1},set checked(e){var t;t=e,i(d).rowImgBorderRadiusIsPixels=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var S=X(B,2);Se(S,{class:"w-100",label:e=>{var t=le("Border Is On");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(d).rowImgBorderIsOn??!1},set checked(e){var t;t=e,i(d).rowImgBorderIsOn=t}})},$$slots:{label:!0,default:!0}});var k=X(S,2);Se(k,{class:"w-100",label:e=>{var t=le("Cut off overflow images");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(d).rowImgOverflowIsOn??!1},set checked(e){var t;t=e,i(d).rowImgOverflowIsOn=t}})},$$slots:{label:!0,default:!0}});var O=X(x,2),F=X(v(O),2);let R;var A=v(F);Sr(A,{get hex(){return i(d).rowImgBorderColor??"#000000"},set hex(e){var t;t=e,i(d).rowImgBorderColor=t},get components(){return Or},sliderDirection:"horizontal",isDialog:!1}),b((e,t)=>{l=w(o,1,"container-fluid",null,l,e),R=w(F,1,"",null,R,t)},[()=>({disabled:i(I)}),()=>({disabled:!i(d).rowImgBorderIsOn})]),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}});var a=X(r,2);ve(a,{children:(e,t)=>{ue(e,{action:"close",children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Close");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),g()}var Jn=n('<span class="title--text">Text</span>'),Yn=n('<span class="title--text">Text</span>'),Xn=n("<!> <!>",1),Zn=n('<div><div class="row"><div class="col-lg-4 gy-2"><div class="col-12 px-3">Row Title</div> <!> <!> <!> <!> <div class="text-center"><!></div></div> <div class="col-lg-4 gy-2"><div class="col-12 px-3">Row Text</div> <!> <!> <!> <!> <div class="text-center"><!></div></div> <div class="col-lg-4 gy-2"><div class="col-12 px-3">Choice Title</div> <!> <!> <!> <!> <div class="text-center"><!></div></div></div> <div class="row"><div class="col-lg-4 gy-2"><div class="col-12 px-3">Choice Text</div> <!> <!> <!> <!> <div class="text-center"><!></div></div> <div class="col-lg-4 gy-2"><div class="col-12 px-3">Addon Title</div> <!> <!> <!> <!> <div class="text-center"><!></div></div> <div class="col-lg-4 gy-2"><div class="col-12 px-3">Addon Text</div> <!> <!> <!> <!> <div class="text-center"><!></div></div></div> <div class="row"><div class="col-12 gy-2"><div class="col-12 px-3">Score and Requirement Text</div> <!> <!> <!> <!> <div class="text-center"><!></div></div></div></div>'),Kn=n("<!> <!> <!>",1);function Qn(o,r){t(r,!0);let a=h(r,"open",7),n=h(r,"data",7);const s=["center","left","right","justify"];let d=l(e(void 0!==n()?n().styling||Et:app.styling)),p=l(!1),m=Q(()=>i(p)?"opacity: 0.2":""),f=Q(()=>void 0!==n()&&!n().privateTextIsOn);se(o,{surface$style:"width: 1200px; max-width: calc(100vw - 32px);",get onSMUIDialogClosed(){return r.onclose},get style(){return i(m)},get open(){return a()},set open(e){a(e)},children:(e,t)=>{var o=Kn(),l=D(o);de(l,{class:"dialog-title",tabindex:0,autofocus:!0,children:(e,t)=>{var o=Xn(),l=D(o),r=e=>{Se(e,{label:e=>{var t=Jn();u(e,t)},children:(e,t)=>{ze(e,{get checked(){return n().privateTextIsOn??!1},set checked(e){var t;t=e,n().privateTextIsOn=t},onchange:()=>{if(n().privateTextIsOn){let e=JSON.parse(JSON.stringify(Et));Object.keys(Et).forEach(t=>{if(app.styling.hasOwnProperty(t)){let o=app.styling[t];void 0!==o&&(e[t]=o)}}),n().styling={...n().styling||{},...e},c(d,n().styling,!0)}else Object.keys(Et).forEach(e=>{n().styling&&app.styling.hasOwnProperty(e)&&delete n().styling[e]})}})},$$slots:{label:!0,default:!0}})},a=e=>{var t=Yn();u(e,t)};Y(l,e=>{void 0!==n()?e(r):e(a,!1)});var s=X(l,2);Se(s,{label:e=>{var t=le("Preview Behind Dialog");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(p)},set checked(e){c(p,e,!0)}})},$$slots:{label:!0,default:!0}});u(e,o)},$$slots:{default:!0}});var r=X(l,2);ce(r,{class:"p-0",children:(e,t)=>{Ue(e,{class:"no-shadow",children:(e,t)=>{Ge(e,{children:(e,t)=>{var o=Zn();let l;var r=v(o),a=v(r),n=X(v(a),2);Se(n,{class:"w-100",label:e=>{var t=le("Use Local Custom Font?");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(d).customRowTitle??!1},set checked(e){var t;t=e,i(d).customRowTitle=t}})},$$slots:{label:!0,default:!0}});var c=X(n,2),g=e=>{Jl(e,{class:"mb-4",get value(){return i(d).rowTitle??""},set value(e){var t;t=e,i(d).rowTitle=t},label:"Text Font",variant:"filled"})},h=e=>{ia(e,{class:"mb-4",get value(){return i(d).rowTitle??""},set value(e){var t;t=e,i(d).rowTitle=t},label:"Text Font",variant:"filled",children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>ao,He,(e,t)=>{la(e,{get value(){return i(t)},children:(e,o)=>{var l=le();b(()=>re(l,i(t))),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}})};Y(c,e=>{i(d).customRowTitle?e(g):e(h,!1)});var p=X(c,2);Jl(p,{class:"mb-4",get value(){return i(d).rowTitleTextSize??0},set value(e){var t;t=e,i(d).rowTitleTextSize=t},label:"Text Size",type:"number",suffix:"%",variant:"filled"});var m=X(p,2);ia(m,{class:"mb-4",get value(){return i(d).rowTitleAlign??""},set value(e){var t;t=e,i(d).rowTitleAlign=t},label:"Text Alignment",variant:"filled",children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>s,He,(e,t)=>{la(e,{get value(){return i(t)},children:(e,o)=>{var l=le();b(()=>re(l,i(t))),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}});var I=X(m,2),x=v(I);Sr(x,{get hex(){return i(d).rowTitleColor??"#000000"},set hex(e){var t;t=e,i(d).rowTitleColor=t},get components(){return Or},sliderDirection:"horizontal",isDialog:!1});var $=X(a,2),T=X(v($),2);Se(T,{class:"w-100",label:e=>{var t=le("Use Local Custom Font?");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(d).customRowText??!1},set checked(e){var t;t=e,i(d).customRowText=t}})},$$slots:{label:!0,default:!0}});var y=X(T,2),C=e=>{Jl(e,{class:"mb-4",get value(){return i(d).rowText??""},set value(e){var t;t=e,i(d).rowText=t},label:"Text Font",variant:"filled"})},B=e=>{ia(e,{class:"mb-4",get value(){return i(d).rowText??""},set value(e){var t;t=e,i(d).rowText=t},label:"Text Font",variant:"filled",children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>ao,He,(e,t)=>{la(e,{get value(){return i(t)},children:(e,o)=>{var l=le();b(()=>re(l,i(t))),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}})};Y(y,e=>{i(d).customRowText?e(C):e(B,!1)});var S=X(y,2);Jl(S,{class:"mb-4",get value(){return i(d).rowTextTextSize??0},set value(e){var t;t=e,i(d).rowTextTextSize=t},label:"Text Size",type:"number",suffix:"%",variant:"filled"});var k=X(S,2);ia(k,{class:"mb-4",get value(){return i(d).rowTextAlign??""},set value(e){var t;t=e,i(d).rowTextAlign=t},label:"Text Alignment",variant:"filled",children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>s,He,(e,t)=>{la(e,{get value(){return i(t)},children:(e,o)=>{var l=le();b(()=>re(l,i(t))),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}});var O=X(k,2),F=v(O);Sr(F,{get hex(){return i(d).rowTextColor??"#000000"},set hex(e){var t;t=e,i(d).rowTextColor=t},get components(){return Or},sliderDirection:"horizontal",isDialog:!1});var R=X($,2),A=X(v(R),2);Se(A,{class:"w-100",label:e=>{var t=le("Use Local Custom Font?");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(d).customObjectTitle??!1},set checked(e){var t;t=e,i(d).customObjectTitle=t}})},$$slots:{label:!0,default:!0}});var j=X(A,2),P=e=>{Jl(e,{class:"mb-4",get value(){return i(d).objectTitle??""},set value(e){var t;t=e,i(d).objectTitle=t},label:"Text Font",variant:"filled"})},q=e=>{ia(e,{class:"mb-4",get value(){return i(d).objectTitle??""},set value(e){var t;t=e,i(d).objectTitle=t},label:"Text Font",variant:"filled",children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>ao,He,(e,t)=>{la(e,{get value(){return i(t)},children:(e,o)=>{var l=le();b(()=>re(l,i(t))),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}})};Y(j,e=>{i(d).customObjectTitle?e(P):e(q,!1)});var L=X(j,2);Jl(L,{class:"mb-4",get value(){return i(d).objectTitleTextSize??0},set value(e){var t;t=e,i(d).objectTitleTextSize=t},label:"Text Size",type:"number",suffix:"%",variant:"filled"});var W=X(L,2);ia(W,{class:"mb-4",get value(){return i(d).objectTitleAlign??""},set value(e){var t;t=e,i(d).objectTitleAlign=t},label:"Text Alignment",variant:"filled",children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>s,He,(e,t)=>{la(e,{get value(){return i(t)},children:(e,o)=>{var l=le();b(()=>re(l,i(t))),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}});var V=X(W,2),N=v(V);Sr(N,{get hex(){return i(d).objectTitleColor??"#000000"},set hex(e){var t;t=e,i(d).objectTitleColor=t},get components(){return Or},sliderDirection:"horizontal",isDialog:!1});var z=X(r,2),U=v(z),G=X(v(U),2);Se(G,{class:"w-100",label:e=>{var t=le("Use Local Custom Font?");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(d).customObjectText??!1},set checked(e){var t;t=e,i(d).customObjectText=t}})},$$slots:{label:!0,default:!0}});var E=X(G,2),H=e=>{Jl(e,{class:"mb-4",get value(){return i(d).objectText??""},set value(e){var t;t=e,i(d).objectText=t},label:"Text Font",variant:"filled"})},_=e=>{ia(e,{class:"mb-4",get value(){return i(d).objectText??""},set value(e){var t;t=e,i(d).objectText=t},label:"Text Font",variant:"filled",children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>ao,He,(e,t)=>{la(e,{get value(){return i(t)},children:(e,o)=>{var l=le();b(()=>re(l,i(t))),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}})};Y(E,e=>{i(d).customObjectText?e(H):e(_,!1)});var J=X(E,2);Jl(J,{class:"mb-4",get value(){return i(d).objectTextTextSize??0},set value(e){var t;t=e,i(d).objectTextTextSize=t},label:"Text Size",type:"number",suffix:"%",variant:"filled"});var Z=X(J,2);ia(Z,{class:"mb-4",get value(){return i(d).objectTextAlign??""},set value(e){var t;t=e,i(d).objectTextAlign=t},label:"Text Alignment",variant:"filled",children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>s,He,(e,t)=>{la(e,{get value(){return i(t)},children:(e,o)=>{var l=le();b(()=>re(l,i(t))),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}});var K=X(Z,2),Q=v(K);Sr(Q,{get hex(){return i(d).objectTextColor??"#000000"},set hex(e){var t;t=e,i(d).objectTextColor=t},get components(){return Or},sliderDirection:"horizontal",isDialog:!1});var ee=X(U,2),te=X(v(ee),2);Se(te,{class:"w-100",label:e=>{var t=le("Use Local Custom Font?");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(d).customAddonTitle??!1},set checked(e){var t;t=e,i(d).customAddonTitle=t}})},$$slots:{label:!0,default:!0}});var oe=X(te,2),ie=e=>{Jl(e,{class:"mb-4",get value(){return i(d).addonTitle??""},set value(e){var t;t=e,i(d).addonTitle=t},label:"Text Font",variant:"filled"})},ae=e=>{ia(e,{class:"mb-4",get value(){return i(d).addonTitle??""},set value(e){var t;t=e,i(d).addonTitle=t},label:"Text Font",variant:"filled",children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>ao,He,(e,t)=>{la(e,{get value(){return i(t)},children:(e,o)=>{var l=le();b(()=>re(l,i(t))),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}})};Y(oe,e=>{i(d).customAddonTitle?e(ie):e(ae,!1)});var ne=X(oe,2);Jl(ne,{class:"mb-4",get value(){return i(d).addonTitleTextSize??0},set value(e){var t;t=e,i(d).addonTitleTextSize=t},label:"Text Size",type:"number",suffix:"%",variant:"filled"});var se=X(ne,2);ia(se,{class:"mb-4",get value(){return i(d).addonTitleAlign??""},set value(e){var t;t=e,i(d).addonTitleAlign=t},label:"Text Alignment",variant:"filled",children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>s,He,(e,t)=>{la(e,{get value(){return i(t)},children:(e,o)=>{var l=le();b(()=>re(l,i(t))),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}});var de=X(se,2),ce=v(de);Sr(ce,{get hex(){return i(d).addonTitleColor??"#000000"},set hex(e){var t;t=e,i(d).addonTitleColor=t},get components(){return Or},sliderDirection:"horizontal",isDialog:!1});var ue=X(ee,2),ge=X(v(ue),2);Se(ge,{class:"w-100",label:e=>{var t=le("Use Local Custom Font?");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(d).customAddonText??!1},set checked(e){var t;t=e,i(d).customAddonText=t}})},$$slots:{label:!0,default:!0}});var ve=X(ge,2),he=e=>{Jl(e,{class:"mb-4",get value(){return i(d).addonText??""},set value(e){var t;t=e,i(d).addonText=t},label:"Text Font",variant:"filled"})},pe=e=>{ia(e,{class:"mb-4",get value(){return i(d).addonText??""},set value(e){var t;t=e,i(d).addonText=t},label:"Text Font",variant:"filled",children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>ao,He,(e,t)=>{la(e,{get value(){return i(t)},children:(e,o)=>{var l=le();b(()=>re(l,i(t))),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}})};Y(ve,e=>{i(d).customAddonText?e(he):e(pe,!1)});var me=X(ve,2);Jl(me,{class:"mb-4",get value(){return i(d).addonTextTextSize??0},set value(e){var t;t=e,i(d).addonTextTextSize=t},label:"Text Size",type:"number",suffix:"%",variant:"filled"});var fe=X(me,2);ia(fe,{class:"mb-4",get value(){return i(d).addonTextAlign??""},set value(e){var t;t=e,i(d).addonTextAlign=t},label:"Text Alignment",variant:"filled",children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>s,He,(e,t)=>{la(e,{get value(){return i(t)},children:(e,o)=>{var l=le();b(()=>re(l,i(t))),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}});var be=X(fe,2),we=v(be);Sr(we,{get hex(){return i(d).addonTextColor??"#000000"},set hex(e){var t;t=e,i(d).addonTextColor=t},get components(){return Or},sliderDirection:"horizontal",isDialog:!1});var Ie=X(z,2),xe=v(Ie),$e=X(v(xe),2);Se($e,{class:"w-100",label:e=>{var t=le("Use Local Custom Font?");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(d).customScoreText??!1},set checked(e){var t;t=e,i(d).customScoreText=t}})},$$slots:{label:!0,default:!0}});var Te=X($e,2),ye=e=>{Jl(e,{class:"mb-4",get value(){return i(d).scoreText??""},set value(e){var t;t=e,i(d).scoreText=t},label:"Text Font",variant:"filled"})},Ce=e=>{ia(e,{class:"mb-4",get value(){return i(d).scoreText??""},set value(e){var t;t=e,i(d).scoreText=t},label:"Text Font",variant:"filled",children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>ao,He,(e,t)=>{la(e,{get value(){return i(t)},children:(e,o)=>{var l=le();b(()=>re(l,i(t))),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}})};Y(Te,e=>{i(d).customScoreText?e(ye):e(Ce,!1)});var Be=X(Te,2);Jl(Be,{class:"mb-4",get value(){return i(d).scoreTextSize??0},set value(e){var t;t=e,i(d).scoreTextSize=t},label:"Text Size",type:"number",suffix:"%",variant:"filled"});var ke=X(Be,2);ia(ke,{class:"mb-4",get value(){return i(d).scoreTextAlign??""},set value(e){var t;t=e,i(d).scoreTextAlign=t},label:"Text Alignment",variant:"filled",children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>s,He,(e,t)=>{la(e,{get value(){return i(t)},children:(e,o)=>{var l=le();b(()=>re(l,i(t))),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}});var Oe=X(ke,2),Fe=v(Oe);Sr(Fe,{get hex(){return i(d).scoreTextColor??"#000000"},set hex(e){var t;t=e,i(d).scoreTextColor=t},get components(){return Or},sliderDirection:"horizontal",isDialog:!1}),b(e=>l=w(o,1,"container-fluid",null,l,e),[()=>({disabled:i(f)})]),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}});var a=X(r,2);ve(a,{children:(e,t)=>{ue(e,{action:"close",children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Close");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),g()}var es=n('<div class="col-sm-6 col-12 pt-2 pb-3"><!></div>'),ts=n('<div class="row p-2"><div class="col-12">Hover over the buttons to see what they do.</div> <div class="col-12 py-2"><div class="hide-file-ui"><!></div></div> <div class="col-12 py-3"><!></div> <!></div>'),os=n("<!> <!> <!>",1),is=n("<!> <!>",1);var ls=n('<div class="col-xl-4 col-12"><div class="point-slot"><div class="toolbar grey lighten-3 justify-space-around"><!> <!> <!> <!> <!></div> <div class="row p-3"><div class="col-12 mb-2"><div class="d-column"><!> <!> <!> <!> <!> <!> <!></div></div> <div class="col-sm-4 col-12 my-2"><!></div> <div class="col-sm-4 col-12 my-2"><!></div> <div class="col-sm-4 col-12 my-2"><!></div> <div class="col-12 my-2"><!></div> <div class="col-sm-4 col-12 my-2"><!></div> <div class="col-sm-4 col-12 my-2"><!></div> <div class="col-sm-4 col-12 my-2"><!></div></div></div></div>'),rs=n('<div class="col-xl-4 col-12"><button type="button" class="create-box col-12" style="min-height: 426px; font-size: 40px;" aria-label="Create New Point Type"><i class="mdi mdi-plus-thick"></i></button></div>'),as=n('<div class="py-3"><div class="row g-3 pb-3"><!> <!></div></div>'),ns=n("<div></div>"),ss=n('<div class="container-fluid"><div class="row p-0"><div class="col-sm-6 col-12"><!></div> <div class="col-sm-6 col-12"><!></div></div></div>'),ds=n("<!> <!> <!>",1);function cs(o,r){t(r,!0);const[a,n]=Ve(),s=()=>We(x,"$virtualizer",a);let d=h(r,"open",7),m="",f=Q(()=>{const e=[];for(let t=0;t<app.pointTypes.length;t+=3)e.push(app.pointTypes.slice(t,t+3));return 0===e.length&&e.push([]),e});const w=()=>i(f).length;let I=l(e(document.getElementById("dialog--point"))),x=e(Je({count:w(),getScrollElement:()=>i(I),estimateSize:()=>504,overscan:1,measureElement:e=>Math.max(e.getBoundingClientRect().height,504)}));function $(){let e=hi(0,4);app.pointTypes.push({id:e,name:`Point ${app.pointTypes.length+1}`,startingSum:0,initValue:0,activatedId:"",beforeText:`Point ${app.pointTypes.length+1}:`,afterText:""}),no.set(e,app.pointTypes[app.pointTypes.length-1]),s().setOptions({count:w()}),jl(s(),i(I),i(f).length-1)}p(()=>{c(I,document.getElementById("dialog--point"),!0),s().setOptions({getScrollElement:()=>i(I),estimateSize:()=>504,measureElement:e=>Math.max(e.getBoundingClientRect().height,504)})});const T=Q(()=>"none"===yo.currentDialog?"close":"");se(o,{get escapeKeyAction(){return i(T)},surface$style:"width: 1920px; max-width: calc(100vw - 32px);",get onSMUIDialogClosed(){return r.onclose},get open(){return d()},set open(e){d(e)},children:(e,t)=>{var o=ds(),l=D(o);de(l,{class:"dialog-title",tabindex:0,autofocus:!0,children:(e,t)=>{var o=le("Point Types");u(e,o)},$$slots:{default:!0}});var r=X(l,2);ce(r,{id:"dialog--point",class:"pb-2",children:(e,t)=>{var o=ns();Ee(o,5,()=>s().getVirtualItems(),e=>e.index,(e,t)=>{var o=as(),l=v(o),r=v(l);Ee(r,17,()=>i(f)[i(t).index],He,(e,o,l)=>{var r=ls(),a=v(r),n=v(a),d=v(n);Dt(d,{text:"Move Left",children:(e,o)=>{Ye(e,{class:"mdi mdi-chevron-left",onclick:()=>{var e;(e=3*i(t).index+l)>0&&app.pointTypes.splice(e-1,2,app.pointTypes[e],app.pointTypes[e-1])}})},$$slots:{default:!0}});var c=X(d,2);Dt(c,{text:"Delete Point",children:(e,r)=>{Ye(e,{class:"mdi mdi-delete-forever",onclick:()=>function(e,t){app.pointTypes.splice(t,1),no.delete(e.id),s().setOptions({count:w()})}(i(o),3*i(t).index+l)})},$$slots:{default:!0}});var g=X(c,2);Dt(g,{text:"Open Point Settings",children:(e,t)=>{Ye(e,{class:"mdi mdi-cog",onclick:()=>{yo.currentDialog="appPointSettings",yo.point=i(o)}})},$$slots:{default:!0}});var h=X(g,2);Dt(h,{text:"Clone Point",children:(e,r)=>{Ye(e,{class:"mdi mdi-content-copy",onclick:()=>function(e,t){let o=hi(0,4),l=JSON.parse(JSON.stringify(e));l.id=o,app.pointTypes.splice(t+1,0,l),no.set(o,app.pointTypes[t+1]),s().setOptions({count:w()}),jl(s(),i(I),Math.floor(t/3)+(t%3==2?1:0))}(i(o),3*i(t).index+l)})},$$slots:{default:!0}});var p=X(h,2);Dt(p,{text:"Move Right",children:(e,o)=>{Ye(e,{class:"mdi mdi-chevron-right",onclick:()=>{var e;(e=3*i(t).index+l)<app.pointTypes.length-1&&app.pointTypes.splice(e,2,app.pointTypes[e+1],app.pointTypes[e])}})},$$slots:{default:!0}});var f=X(n,2),b=v(f),x=v(b),$=v(x);Se($,{label:e=>{var t=le("This score is not allowed to go under 0.");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return i(o).belowZeroNotAllowed??!1},set checked(e){var t;t=e,i(o).belowZeroNotAllowed=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var T=X($,2);Se(T,{label:e=>{var t=le("This score is not shown in the Point-Bar.");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return i(o).isNotShownPointBar??!1},set checked(e){var t;t=e,i(o).isNotShownPointBar=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var y=X(T,2);Se(y,{label:e=>{var t=le("This score is not shown in the Choices.");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return i(o).isNotShownObjects??!1},set checked(e){var t;t=e,i(o).isNotShownObjects=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var C=X(y,2);Se(C,{label:e=>{var t=le("This score can include decimal values.");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return i(o).allowFloat??!1},set checked(e){var t;t=e,i(o).allowFloat=t},onSMUISwitchChange:()=>{i(o).allowFloat?i(o).decimalPlaces=2:(delete i(o).decimalPlaces,delete i(o).allowFloat)},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var B=X(C,2),S=e=>{Dt(e,{text:"Digits beyond this value will not be displayed.",children:(e,t)=>{Jl(e,{label:"Decimal Places",type:"number",input$min:0,input$step:"1",variant:"filled",get value(){return i(o).decimalPlaces},set value(e){i(o).decimalPlaces=e}})},$$slots:{default:!0}})};Y(B,e=>{i(o).allowFloat&&e(S)});var k=X(B,2);Se(k,{label:e=>{var t=le("Add a + or - in front of the scores.");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return i(o).plussOrMinusAdded??!1},set checked(e){var t;t=e,i(o).plussOrMinusAdded=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var O=X(k,2),F=e=>{Se(e,{class:"ml-4",label:e=>{var t=le("Invert the + and -.");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return i(o).plussOrMinusInverted??!1},set checked(e){var t;t=e,i(o).plussOrMinusInverted=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}})};Y(O,e=>{i(o).plussOrMinusAdded&&e(F)});var R=X(b,2);Jl(v(R),{onfocus:()=>m=i(o).id,onchange:()=>function(e){if(""===e.id)e.id=m;else if(e.id!==m){e.id=Ti(e.id,no),no.set(e.id,e),no.delete(m);for(let t=0;t<app.rows.length;t++){const o=app.rows[t];for(let t=0;t<o.objects.length;t++){const i=o.objects[t];for(let t=0;t<i.scores.length;t++){const o=i.scores[t];o.id===m&&(o.id=e.id)}}}for(let t=0;t<app.backpack.length;t++){const o=app.backpack[t];for(let t=0;t<o.objects.length;t++){const i=o.objects[t];for(let t=0;t<i.scores.length;t++){const o=i.scores[t];o.id===m&&(o.id=e.id)}}}m=e.id}}(i(o)),label:"The Pointtype Id",variant:"filled",required:!0,get value(){return i(o).id},set value(e){i(o).id=e}});var A=X(R,2);Jl(v(A),{label:"The Pointtype Name",variant:"filled",get value(){return i(o).name},set value(e){i(o).name=e}});var j=X(A,2);Jl(v(j),{onchange:()=>{i(o).allowFloat||(i(o).startingSum=Math.floor(i(o).startingSum)),i(o).initValue=i(o).startingSum},label:"Starting Sum",type:"number",variant:"filled",get value(){return i(o).startingSum},set value(e){i(o).startingSum=e}});var M=X(j,2);Jl(v(M),{onchange:()=>{i(o).allowFloat||(i(o).initValue=Math.floor(i(o).initValue))},label:"Initial Value",type:"number",variant:"filled",get value(){return i(o).initValue},set value(e){i(o).initValue=e}});var D=X(M,2),P=v(D);const q=Q(()=>i(o).isNotShownPointBar||i(o).isNotShownObjects?"Enter a Choice ID, Global Requirement ID, or Variable ID.":"Enable the 'Not shown' option to use this.");Dt(P,{get text(){return i(q)},children:(e,t)=>{const l=Q(()=>!i(o).isNotShownPointBar&&!i(o).isNotShownObjects);Jl(e,{label:"Id Needed to Show",variant:"filled",get disabled(){return i(l)},get value(){return i(o).activatedId},set value(e){i(o).activatedId=e}})},$$slots:{default:!0}});var L=X(D,2);Jl(v(L),{label:"Text Before Number",variant:"filled",get value(){return i(o).beforeText},set value(e){i(o).beforeText=e}});var W=X(L,2);Jl(v(W),{label:"Text After Number",variant:"filled",get value(){return i(o).afterText},set value(e){i(o).afterText=e}}),u(e,r)});var a=X(r,2),n=e=>{var t=rs();v(t).__click=$,u(e,t)};Y(a,e=>{i(t).index===i(f).length-1&&e(n)}),W(o,(e,t)=>function(e){const t=new ResizeObserver(()=>{s().measureElement(e)});return t.observe(e),{destroy(){t.disconnect()}}}?.(e),()=>i(t).index),b(()=>{xe(o,"data-index",i(t).index),we(o,`position: absolute; top: ${i(t).start??""}px; width: 100%;`)}),u(e,o)}),b(e=>we(o,`position: relative; height: ${e??""}px; width: 100%;`),[()=>s().getTotalSize()]),u(e,o)},$$slots:{default:!0}});var a=X(r,2);ve(a,{children:(e,t)=>{var o=ss(),i=v(o),l=v(i),r=v(l);ue(r,{action:"",onclick:$,children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Create New Point Type");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var a=X(l,2),n=v(a);ue(n,{action:"close",children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Close");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),g(),n()}he(["click"]);var us=n('<div class="point-slot"><div class="toolbar grey lighten-3 justify-space-around"><!> <!> <!></div> <div class="row gy-4 p-3"><div class="col-sm-6 col-12"><!></div> <div class="col-sm-6 col-12"><!></div></div></div>'),gs=n('<div><button type="button" class="create-box col-12" style="min-height: 138px; font-size: 40px;" aria-label="Create New Variable"><i class="mdi mdi-plus-thick"></i></button></div>'),vs=n('<div class="py-3"><!></div>'),hs=n("<div></div>"),ps=n('<div class="point-slot my-5"><div class="toolbar grey lighten-3 justify-space-around"><!> <!> <!></div> <div class="row gy-4 p-3"><div class="col-sm-6 col-12"><!></div> <div class="col-sm-6 col-12"><!></div></div></div>'),ms=n('<!> <div class="my-5"><button type="button" class="create-box col-12" style="min-height: 138px; font-size: 40px;" aria-label="Create New Variable"><i class="mdi mdi-plus-thick"></i></button></div>',1),fs=n('<div class="container-fluid"><div class="row"><div class="col-sm-6 col-12"><!></div> <div class="col-sm-6 col-12"><!></div></div></div>'),bs=n("<!> <!> <!>",1);function ws(o,r){t(r,!0);const[a,n]=Ve(),s=()=>We(I,"$virtualizer",a);let d=h(r,"open",7),m="";const f=()=>app.variables.length+1;let w=l(e(document.getElementById("dialog--vairables"))),I=e(Je({count:f(),getScrollElement:()=>i(w),estimateSize:()=>180,overscan:1})),x=Q(()=>s().getTotalSize()),$=Q(()=>s().getVirtualItems());function T(e){""===e.id?e.id=m:e.id!==m&&(e.id=Ti(e.id,ho),ho.set(e.id,e),ho.delete(m),m=e.id)}function y(){let e=pi(0,4);app.variables.push({id:e,isTrue:!1}),ho.set(e,app.variables[app.variables.length-1]),app.variables.length>4&&(s().setOptions({count:f()}),jl(s(),i(w),app.variables.length-1))}function C(e,t){app.variables.splice(t,1),ho.delete(e),app.variables.length>4&&s().setOptions({count:f()})}function B(e){e<app.variables.length-1&&app.variables.splice(e,2,app.variables[e+1],app.variables[e])}function S(e){e>0&&app.variables.splice(e-1,2,app.variables[e],app.variables[e-1])}p(()=>{c(w,document.getElementById("dialog--variables"),!0),s().setOptions({getScrollElement:()=>i(w),estimateSize:()=>180})}),se(o,{surface$style:"width: 800px; max-width: calc(100vw - 32px);",get onSMUIDialogClosed(){return r.onclose},get open(){return d()},set open(e){d(e)},children:(e,t)=>{var o=bs(),l=D(o);de(l,{class:"dialog-title",tabindex:0,autofocus:!0,children:(e,t)=>{var o=le("Variables");u(e,o)},$$slots:{default:!0}});var r=X(l,2);ce(r,{id:"dialog--variables",class:"pb-2",children:(e,t)=>{var o=M(),l=D(o),r=e=>{var t=hs();Ee(t,21,()=>i($),e=>e.index,(e,t)=>{var o=vs(),l=v(o),r=e=>{var o=us(),l=v(o),r=v(l);Dt(r,{text:"Move Up",children:(e,o)=>{Ye(e,{class:"mdi mdi-chevron-up",onclick:()=>S(i(t).index)})},$$slots:{default:!0}});var a=X(r,2);Dt(a,{text:"Delete Group",children:(e,o)=>{Ye(e,{class:"mdi mdi-delete-forever",onclick:()=>C(app.variables[i(t).index].id,i(t).index)})},$$slots:{default:!0}});var n=X(a,2);Dt(n,{text:"Move Down",children:(e,o)=>{Ye(e,{class:"mdi mdi-chevron-down",onclick:()=>B(i(t).index)})},$$slots:{default:!0}});var s=X(l,2),d=v(s);Jl(v(d),{onfocus:()=>m=app.variables[i(t).index].id,onchange:()=>T(app.variables[i(t).index]),label:"Id",variant:"filled",get value(){return app.variables[i(t).index].id},set value(e){app.variables[i(t).index].id=e}});var c=X(d,2),g=v(c);Jl(g,{get value(){return app.variables[i(t).index].isTrue?"true":"false"},set value(e){},label:"Status",variant:"filled",disabled:!0}),u(e,o)},a=(e,o)=>{var l=e=>{var t=gs();v(t).__click=y,u(e,t)};Y(e,e=>{i(t).index===app.variables.length&&e(l)},o)};Y(l,e=>{app.variables[i(t).index]?e(r):e(a,!1)}),b(()=>we(o,`position: absolute; top: ${i(t).start??""}px; width: 100%;`)),u(e,o)}),b(()=>we(t,`position: relative; height: ${i(x)??""}px; width: 100%;`)),u(e,t)},a=e=>{var t=ms(),o=D(t);Ee(o,17,()=>app.variables,He,(e,t,o)=>{var l=ps(),r=v(l),a=v(r);Dt(a,{text:"Move Up",children:(e,t)=>{Ye(e,{class:"mdi mdi-chevron-up",onclick:()=>S(o)})},$$slots:{default:!0}});var n=X(a,2);Dt(n,{text:"Delete Group",children:(e,l)=>{Ye(e,{class:"mdi mdi-delete-forever",onclick:()=>C(i(t).id,o)})},$$slots:{default:!0}});var s=X(n,2);Dt(s,{text:"Move Down",children:(e,t)=>{Ye(e,{class:"mdi mdi-chevron-down",onclick:()=>B(o)})},$$slots:{default:!0}});var d=X(r,2),c=v(d);Jl(v(c),{onfocus:()=>m=i(t).id,onchange:()=>T(i(t)),label:"Id",variant:"filled",get value(){return i(t).id},set value(e){i(t).id=e}});var g=X(c,2),h=v(g);Jl(h,{get value(){return i(t).isTrue?"true":"false"},set value(e){},label:"Status",variant:"filled",disabled:!0}),u(e,l)});var l=X(o,2);v(l).__click=y,u(e,t)};Y(l,e=>{app.variables.length>4?e(r):e(a,!1)}),u(e,o)},$$slots:{default:!0}});var a=X(r,2);ve(a,{children:(e,t)=>{var o=fs(),i=v(o),l=v(i),r=v(l);ue(r,{action:"",onclick:y,children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Create New Variable");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var a=X(l,2),n=v(a);ue(n,{action:"close",children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Close");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),g(),n()}he(["click"]);let Is=0;var xs=(e,t,o)=>{t()||c(o,!0)},$s=(e,t)=>{c(t,-1)},Ts=n("<i></i>"),ys=n("<!> <!>",1),Cs=n("<!> <!>",1),Bs=n('<div style="max-height: 288px; overflow-y: auto;"><!></div>'),Ss=n('<div><div role="combobox" tabindex="0"><!></div> <!></div>');function ks(r,a){t(a,!0);let n,s,p=h(a,"use",19,()=>[]),x=h(a,"class",3,""),$=h(a,"options",19,()=>[]),T=h(a,"value",15),y=h(a,"getOptionDisabled",3,()=>!1),C=h(a,"getOptionLabel",3,e=>null==e?"":`${e}`),B=h(a,"text",31,()=>e(C()(T()))),S=h(a,"disabled",3,!1),k=h(a,"toggle",3,!1),O=h(a,"combobox",3,!1),F=h(a,"clearOnBlur",19,()=>!O()),R=h(a,"selectOnExactMatch",3,!0),A=h(a,"showMenuWithNoInput",3,!0),N=h(a,"noMatchesActionDisabled",3,!0),z=h(a,"search",3,async e=>{const t=e.toLowerCase(),o="function"==typeof $()?await $()():$()||[];if(""===t)return o;const i=o.filter(e=>C()(e).toLowerCase().includes(t));return i.sort((e,o)=>{const i=C()(e).toLowerCase(),l=C()(o).toLowerCase();return i.startsWith(t)&&!l.startsWith(t)?-1:l.startsWith(t)&&!i.startsWith(t)?1:0}),i}),U=h(a,"menu$class",3,""),E=h(a,"menu$anchor",3,!1),H=h(a,"menu$anchorCorner",3,"BOTTOM_START"),_=h(a,"multiple",3,!1),J=P(a,["$$slots","$$events","$$legacy","use","class","options","value","getOptionDisabled","getOptionLabel","text","label","disabled","toggle","combobox","clearOnBlur","selectOnExactMatch","showMenuWithNoInput","noMatchesActionDisabled","search","menu$class","menu$anchor","menu$anchorCorner","children","loading","error","match","noMatches","multiple","multipleValue","parentElement"]),K=l(e(document.createElement("div"))),ee=l(0),oe=l(!1),ie=l(!1),ne=l(e([])),se=l(-1),de=l(void 0),ce=void 0!==J.menu$id?J.menu$id:"SMUI-autocomplete-"+Is+++"-menu",ue=l(!1),ge=l(24),ve=l(!1);const he=Q(()=>i(ie)&&(""!==B()||A())&&(i(ee)>0||!O()&&!(1===i(ne).length&&i(ne)[0]===T())||k()||O()&&!!i(ne).length&&!(1===i(ne).length&&i(ne)[0]===T())));let me=B();o(()=>{me!==B()&&i(ie)&&(Ie(),me=B())});let fe=!1;o(()=>{$()&&!fe&&(fe=!0,Ie().then(()=>{fe=!1}))});let be,we=T();async function Ie(){i(ie)&&!function(){if(n)return document.activeElement===n.querySelector("input.mdc-text-field__input")}()&&Be(),c(ee,i(ee)+1),c(oe,!1);try{const e=await z()(B());if(!1!==e&&(c(ne,e,!0),R())){const e=i(ne).find(e=>C()(e)===B());null!=e&&C()(T())!==B()&&$e(e)}}catch(e){c(oe,!0)}c(ee,i(ee)-1)}function $e(e,t=!0){ae(ke(),"SMUIAutocompleteSelected",e,{bubbles:!0,cancelable:!0}).defaultPrevented||(_()&&a.multipleValue?(a.multipleValue.push(e),t&&B("")):(t&&B(C()(e)),T(e),t||(we=e),Se()))}function Te(e,t=!0){if(!ae(ke(),"SMUIAutocompleteDeselected",e,{bubbles:!0,cancelable:!0}).defaultPrevented)if(_()&&a.multipleValue){let t=a.multipleValue.indexOf(e);a.multipleValue.splice(t,1)}else t&&B(""),T(void 0),t||(we=void 0),c(ge,24)}function ye(){return s?s.getOrderedList().filter(e=>!e.disabled):[]}async function Ce(e){document.hasFocus()?e.currentTarget?.contains(e.relatedTarget)||(c(se,-1),c(ie,!1),F()&&null==T()&&B("")):Ke(window,"focus",()=>{ke()?.contains(document.activeElement)||Ce(e)},{once:!0})}function Be(){if(n){const e=n.querySelector("input.mdc-text-field__input");e&&e.focus()}}function Se(){if(n){const e=n.querySelector("input.mdc-text-field__input");e&&e.blur(),i(ue)&&c(ue,!1)}}function ke(){return i(K)}function Oe(){for(let e=0;e<i(ne).length;e++){let t=i(ne)[e];i(ve)?a.multipleValue&&a.multipleValue.includes(t)&&Te(t):a.multipleValue&&!a.multipleValue.includes(t)&&$e(t)}c(ve,!i(ve))}function Fe(e){const t=e.target;t.scrollTop+t.clientHeight>=t.scrollHeight-48&&c(ge,Math.min(i(ge)+12,i(ne).length),!0)}o(()=>{we!==T()?(B(C()(T())),we=T()):O()&&T()!==B()&&(T(B()),we=T())}),o(()=>{if(be!==i(se)){const o=ye();-1===i(se)?c(de,void 0):(c(de,o[i(se)],!0),i(de)&&(i(de).activated=!0,e=i(de).element,(t=e.getBoundingClientRect()).top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)||i(de).element.scrollIntoView({block:"end",inline:"nearest"}))),o.forEach((e,t)=>{t!==i(se)&&(e.activated=!1)}),s&&s.getOrderedList().forEach(e=>{e.tabindex=-1}),be=i(se)}var e,t}),G("SMUI:list:mount",e=>{s||(s=e)});var Re=Ss(),Ae=e=>{S()||Ce(e),a.onfocusout?.(e)};q(Re,(e,t)=>({class:e,...t,onfocusout:Ae}),[()=>L({[x()]:!0,"smui-autocomplete":!0}),()=>Z(J,["menu$","textfield$","list$"])]);var je=v(Re);je.__focusin=[xs,S,ie],je.__input=[$s,se];var Me=v(je),De=e=>{var t=M(),o=D(t);m(o,()=>a.children??f),u(e,t)},We=e=>{var t=Q(()=>te(J,"textfield$"));Jl(e,j({get label(){return a.label},get disabled(){return S()}},()=>i(t),{onclick:e=>{e.target?.classList?.contains("mdc-text-field__input")&&c(ue,!i(ue))},get value(){return B()},set value(e){B(e)}}))};Y(Me,e=>{a.children?e(De):e(We,!1)}),d(je,e=>n=e,()=>n);var Ve=X(je,2);const ze=Q(()=>L({[U()]:!0,"smui-autocomplete__menu":!0}));var Ue=Q(()=>te(J,"menu$"));return Pe(Ve,j({get class(){return i(ze)},get id(){return ce},managed:!0,neverRestoreFocus:!0,get open(){return i(he)},get anchor(){return E()},get anchorCorner(){return H()}},()=>i(Ue),{style:"overflow-y: hidden",get anchorElement(){return i(K)},set anchorElement(e){c(K,e,!0)},children:(e,t)=>{var o=Bs(),l=v(o),r=Q(()=>te(J,"list$"));qe(l,j(()=>i(r),{children:(e,t)=>{var o=M(),l=D(o),r=e=>{Ne(e,{disabled:!0,children:(e,t)=>{var o=M(),i=D(o),l=e=>{var t=M(),o=D(t);m(o,()=>a.loading),u(e,t)},r=e=>{Xe(e,{children:(e,t)=>{var o=le("Loading...");u(e,o)},$$slots:{default:!0}})};Y(i,e=>{a.loading?e(l):e(r,!1)}),u(e,o)},$$slots:{default:!0}})},n=(e,t)=>{var o=e=>{Ne(e,{disabled:!0,children:(e,t)=>{var o=M(),i=D(o),l=e=>{var t=M(),o=D(t);m(o,()=>a.error),u(e,t)},r=e=>{Xe(e,{children:(e,t)=>{var o=le("Error while fetching suggestions.");u(e,o)},$$slots:{default:!0}})};Y(i,e=>{a.error?e(l):e(r,!1)}),u(e,o)},$$slots:{default:!0}})},l=e=>{var t=Cs(),o=D(t),l=e=>{Ne(e,{onSMUIAction:Oe,onfocusin:e=>{e.preventDefault(),Be()},class:"b-line",children:(e,t)=>{Xe(e,{children:(e,t)=>{var o=le();b(()=>re(o,i(ve)?"Deselect All":"Select All")),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})};Y(o,e=>{_()&&i(ne).length>0&&e(l)});var r=X(o,2);Ee(r,17,()=>i(ne).slice(0,i(ge)),He,(e,t)=>{const o=Q(()=>y()(i(t))),l=Q(()=>i(t)===T());Ne(e,{get disabled(){return i(o)},get selected(){return i(l)},onSMUIAction:()=>{return k()?(e=i(t),void(_()?a.multipleValue&&a.multipleValue.includes(e)?Te(e):$e(e):e===T()?Te(e):$e(e))):$e(i(t));var e},onfocusin:e=>{e.preventDefault(),Be()},children:(e,o)=>{var l=M(),r=D(l),n=e=>{var o=M(),l=D(o);m(l,()=>a.match,()=>i(t)),u(e,o)},s=e=>{var o=ys(),l=D(o),r=e=>{var o=Ts();b(e=>w(o,1,e),[()=>I(a.multipleValue&&a.multipleValue.includes(i(t))?"mdi mdi-checkbox-outline button-icons":"mdi mdi-checkbox-blank-outline button-icons")]),u(e,o)};Y(l,e=>{_()&&e(r)});var n=X(l,2);Xe(n,{children:(e,o)=>{var l=le();b(e=>re(l,e),[()=>C()(i(t))]),u(e,l)},$$slots:{default:!0}}),u(e,o)};Y(r,e=>{a.match?e(n):e(s,!1)}),u(e,l)},$$slots:{default:!0}})},e=>{Ne(e,{get disabled(){return N()},onSMUIAction:e=>ae(ke(),"SMUIAutocompleteNoMatchesAction",e),children:(e,t)=>{var o=M(),i=D(o),l=e=>{var t=M(),o=D(t);m(o,()=>a.noMatches),u(e,t)},r=e=>{Xe(e,{children:(e,t)=>{var o=le("No matches found.");u(e,o)},$$slots:{default:!0}})};Y(i,e=>{a.noMatches?e(l):e(r,!1)}),u(e,o)},$$slots:{default:!0}})}),u(e,t)};Y(e,e=>{i(oe)?e(o):e(l,!1)},t)};Y(l,e=>{i(ee)?e(r):e(n,!1)}),u(e,o)},$$slots:{default:!0}})),pe("scroll",o,Fe),u(e,o)},$$slots:{default:!0}})),d(Re,e=>c(K,e),()=>i(K)),W(Re,e=>Le?.(e)),W(Re,(e,t)=>V?.(e,t),p),b(()=>{xe(je,"aria-controls",ce),xe(je,"aria-expanded",i(he)?"true":"false")}),pe("keydown",je,function(e){if(!O()||i(ne).length)if("ArrowDown"===e.key)e.preventDefault(),-1===i(se)||i(se)===ye().length-1?c(se,0):Ze(se);else if("ArrowUp"===e.key)e.preventDefault(),-1===i(se)||0===i(se)?c(se,ye().length-1):Ze(se,-1);else if("Enter"===e.key){e.preventDefault();const t=ye();i(de)&&(t[i(se)]&&t[i(se)].action(e),c(se,-1))}else"Escape"===e.key&&(e.preventDefault(),Se())},!0),u(r,Re),g({focus:Be,blur:Se,getElement:ke})}he(["focusin","input"]);var Os=n("<!> <!>",1),Fs=n('<div><div class="w-100"><!></div> <!> <!></div>');function Rs(r,a){t(a,!0);let n=h(a,"use",19,()=>[]),s=h(a,"class",3,""),p=h(a,"chips",15),w=h(a,"getChipLabel",3,e=>`${e}`);h(a,"getChipText",3,e=>`${e}`);let I=h(a,"value",15),x=h(a,"text",15,""),$=h(a,"disabled",3,!1),T=h(a,"addChipKeys",19,()=>[","]),y=h(a,"chipSet$class",3,""),C=h(a,"autocomplete$class",3,""),B=h(a,"autocomplete$combobox",3,!1),S=h(a,"textfield$class",3,""),k=h(a,"loading$class",3,""),O=h(a,"autocomplete$multiple",3,!1),F=P(a,["$$slots","$$events","$$legacy","use","class","chips","key","getChipLabel","getChipText","value","text","disabled","addChipKeys","chipSet$class","autocomplete$class","autocomplete$combobox","textfield$class","loading$class","chipTrailingAction","label","loading","autocomplete$multiple","autocomplete$multipleValue"]),R=l(e(document.createElement("div"))),A=l(void 0),N=l(void 0),z=l(void 0),U=l(void 0),G=I();o(()=>{G!==I()&&(G&&null==I()&&x(""),G=I())}),o(()=>{""===x()&&i(z)&&i(N)&&document.activeElement!==i(N).getElement()&&i(z).float(!1)});const E=Q(()=>({...null!=a.key?{key:a.key}:{}}));function H(){return i(R)}var _=Fs();q(_,(e,t)=>({class:e,...t}),[()=>L({[s()]:!0,"smui-chip-input":!0,"smui-chip-input--disabled":$()}),()=>Z(F,["chipSet$","chip$","chipText$","chipTrailingAction$","autocomplete$","textfield$","label$","input$","loading$","ripple$"])]);var J=v(_),Y=v(J);const K=Q(()=>L({[y()]:!0,"smui-chip-input__chip-set":!0}));var ee=Q(()=>te(F,"chipSet$"));{const e=(e,t=f)=>{var o=Q(()=>te(F,"chip$"));ot(e,j({get chip(){return t()}},()=>i(o),{onSMUIChipInteraction:e=>{a.chip$onSMUIChipInteraction?.(e)},onSMUIChipRemoval:e=>{!function(e){ae(H(),"SMUIChipInputRemove",{chip:e})}(t()),a.chip$onSMUIChipRemoval?.(e)},class:"mdc-chip--small",children:(e,o)=>{var l=Os(),r=D(l),n=Q(()=>te(F,"chipText$"));it(r,j(()=>i(n),{children:(e,o)=>{var i=le();b(e=>re(i,e),[()=>w()(t())]),u(e,i)},$$slots:{default:!0}}));var s=X(r,2),d=Q(()=>te(F,"chipTrailingAction$"));lt(s,j(()=>i(d),{children:(e,t)=>{var o=M(),i=D(o);m(i,()=>a.chipTrailingAction??f),u(e,o)},$$slots:{default:!0}})),u(e,l)},$$slots:{default:!0}}))};Qe(Y,j({get class(){return i(K)},input:!0,get nonInteractive(){return $()}},()=>i(E),()=>i(ee),{get chips(){return p()},set chips(e){p(e)},chip:e,$$slots:{chip:!0}}))}var oe=X(J,2);const se=Q(()=>L({[C()]:!0,"smui-chip-input__autocomplete":!0}));var de=Q(()=>te(F,"autocomplete$"));{const e=e=>{const t=Q(()=>L({[k()]:!0,"smui-chip-input__loading":!0}));var o=Q(()=>te(F,"loading$"));Xe(e,j({get class(){return i(t)}},()=>i(o),{children:(e,t)=>{a.loading?.(e)},$$slots:{default:!0}}))};d(ks(oe,j({get class(){return i(se)},get combobox(){return B()},showMenuWithNoInput:!1,get multiple(){return O()},get multipleValue(){return a.autocomplete$multipleValue},get parentElement(){return i(R)}},()=>i(de),{onSMUIAutocompleteSelected:e=>{var t;(t=e).preventDefault(),x(""),document.activeElement!==i(N)?.getElement()&&i(z)?.float(!1),ae(H(),"SMUIChipInputSelect",t.detail,{bubbles:!0,cancelable:!0}).defaultPrevented||-1===p().findIndex(e=>e===t.detail)&&p().push(t.detail),a.autocomplete$onSMUIAutocompleteSelected?.(e)},onSMUIAutocompleteDeselected:e=>{a.autocomplete$onSMUIAutocompleteDeselected?.(e)},onfocusout:e=>{var t;t=e,i(A)&&i(A).getElement()&&!i(A).getElement().contains(t.relatedTarget)&&B()&&x()&&i(N)?.getElement().validity.valid&&(ae(H(),"SMUIChipInputEntry",{text:x()},{bubbles:!0,cancelable:!0}).defaultPrevented||(-1===p().findIndex(e=>e===x())&&p().push(x()),x(""),i(z)?.float(!1))),a.autocomplete$onfocusout?.(e)},get value(){return I()},set value(e){I(e)},get text(){return x()},set text(e){x(e)},loading:e,children:(e,t)=>{const o=Q(()=>L({[S()]:!0,"smui-chip-input__textfield":!0}));var l=Q(()=>te(F,"textfield$"));{const t=e=>{var t=Q(()=>te(F,"label$"));d(ie(e,j(()=>i(t),{children:(e,t)=>{var o=M(),i=D(o);m(i,()=>a.label??f),u(e,o)},$$slots:{default:!0}})),e=>c(z,e,!0),()=>i(z))};et(e,j({get class(){return i(o)},get input(){return i(N)},get floatingLabel(){return i(z)},get lineRipple(){return i(U)}},()=>i(l),{label:t,children:(e,t)=>{var o=Q(()=>te(F,"input$"));d(tt(e,j(()=>i(o),{onkeydown:e=>{var t;t=e,B()&&("Enter"===t.key||T().includes(t.key))&&x()&&i(N)?.getElement().validity.valid&&(t.preventDefault(),ae(H(),"SMUIChipInputEntry",{text:x()},{bubbles:!0,cancelable:!0}).defaultPrevented||(-1===p().findIndex(e=>e===x())&&p().push(x()),x(""))),a.input$onkeydown?.(e)},get value(){return x()},set value(e){x(e)}})),e=>c(N,e,!0),()=>i(N))},$$slots:{label:!0,default:!0}}))}},$$slots:{loading:!0,default:!0}})),e=>c(A,e,!0),()=>i(A))}var ce=X(oe,2),ue=Q(()=>te(F,"ripple$"));return d(ne(ce,j(()=>i(ue))),e=>c(U,e,!0),()=>i(U)),d(_,e=>c(R,e),()=>i(R)),W(_,(e,t)=>V?.(e,t),n),u(r,_),g({focus:function(){i(N)?.focus()},blur:function(){i(N)?.blur()},getElement:H})}var As=n('<i class="mdi mdi-close-circle"></i>');function js(e,o){t(o,!0);let r=h(o,"acValue",7),a=h(o,"getLabel",3,e=>e.toString()),n=h(o,"onSelected",3,()=>{}),s=h(o,"onDeselected",3,()=>{}),d=h(o,"multiple",3,!0),v=l(void 0);{const t=e=>{var t=As();u(e,t)},l=e=>{var t=le();b(()=>re(t,o.inputLabel)),u(e,t)};Rs(e,{getChipLabel:e=>a()(e),getChipText:e=>a()(e),"chipTrailingAction$aria-label":"Remove Item",autocomplete$showMenuWithNoInput:!0,get autocomplete$options(){return o.acOptions},autocomplete$getOptionLabel:e=>a()(e),get autocomplete$multiple(){return d()},get autocomplete$multipleValue(){return r()},autocomplete$toggle:!0,autocomplete$onSMUIAutocompleteSelected:e=>n()(e,o.selectProp),autocomplete$onSMUIAutocompleteDeselected:e=>s()(e,o.selectProp),chip$onSMUIChipRemoval:e=>s()(e,o.selectProp),textfield$variant:"filled",style:"gap:0px",get chips(){return r()},set chips(e){r(e)},get value(){return i(v)},set value(e){c(v,e,!0)},chipTrailingAction:t,label:l,$$slots:{chipTrailingAction:!0,label:!0}})}g()}var Ms=n('<div class="point-slot"><div class="toolbar grey lighten-3 justify-space-around"><!> <!> <!></div> <div class="row gy-4 p-3"><div class="col-sm-6 col-12"><!></div> <div class="col-sm-6 col-12"><!></div> <div class="col-sm-6 col-12"><!></div> <div class="col-sm-6 col-12"><!></div></div></div>'),Ds=n('<div><button type="button" class="create-box col-12" style="min-height: 218px; font-size: 40px;" aria-label="Create New Group"><i class="mdi mdi-plus-thick"></i></button></div>'),Ps=n('<div class="py-3"><!> <!></div>'),qs=n("<div></div>"),Ls=n('<div class="point-slot my-5"><div class="toolbar grey lighten-3 justify-space-around"><!> <!> <!></div> <div class="row gy-4 p-3"><div class="col-sm-6 col-12"><!></div> <div class="col-sm-6 col-12"><!></div> <div class="col-sm-6 col-12"><!></div> <div class="col-sm-6 col-12"><!></div></div></div>'),Ws=n('<div class="py-3"><!> <div class="my-5"><button type="button" class="create-box col-12" style="min-height: 218px; font-size: 40px;" aria-label="Create New Group"><i class="mdi mdi-plus-thick"></i></button></div></div>'),Vs=n('<div class="container-fluid"><div class="row p-0"><div class="col-sm-6 col-12"><!></div> <div class="col-sm-6 col-12"><!></div></div></div>'),Ns=n("<!> <!> <!>",1);function zs(o,r){t(r,!0);const[a,n]=Ve(),s=()=>We($,"$virtualizer",a),d=()=>We(Mo,"$optimizedRows",a),m=()=>We(Do,"$optimizedChoices",a);let f=h(r,"open",7),w="";const I=()=>app.groups.length+1;let x=l(e(document.getElementById("dialog--group"))),$=e(Je({count:I(),getScrollElement:()=>i(x),estimateSize:()=>262,overscan:2,measureElement:e=>Math.max(e.offsetHeight,262)})),T=Q(()=>s().getTotalSize()),y=Q(()=>s().getVirtualItems());function C(e){if(""===e.id)e.id=w;else if(e.id!==w){e.id=Ti(e.id,uo),uo.set(e.id,e),uo.delete(w);for(let t=0;t<e.rowElements.length;t++){const o=so.get(e.rowElements[t]);if(void 0!==o&&void 0!==o.groups){const t=o.groups.indexOf(w);-1!==t&&(o.groups[t]=e.id)}}for(let t=0;t<e.elements.length;t++){const o=co.get(e.elements[t]);if(void 0!==o){const t=o.choice;if(void 0!==t.groups){const o=t.groups.indexOf(w);-1!==o&&(t.groups[o]=e.id)}}}w=e.id}}function B(){let e=vi(0,4),t=app.groups.length;app.groups.push({id:e,name:`Group ${t+1}`,elements:[],rowElements:[]}),uo.set(e,app.groups[t]),app.groups.length>3&&(s().setOptions({count:I()}),jl(s(),i(x),app.groups.length-1))}function S(e,t){app.groups.splice(t,1),uo.delete(e),app.groups.length>3&&s().setOptions({count:I()})}function k(e){let t=co.get(e);if(void 0!==t){let e=t.choice;return`${e.id} | ${e.debugTitle?e.debugTitle:""} ${e.title}`}return""}function O(e){let t=so.get(e);return void 0!==t?`${t.id} | ${t.debugTitle?t.debugTitle:""} ${t.title}`:""}function F(e){e<app.groups.length-1&&app.groups.splice(e,2,app.groups[e+1],app.groups[e])}function R(e){e>0&&app.groups.splice(e-1,2,app.groups[e],app.groups[e-1])}function A(e,t){let o="object"==typeof e.detail?co.get(e.detail.chipId):co.get(e.detail);if(void 0!==o){let e=o.row,i=o.choice;if(void 0!==i.groups&&(i.groups.splice(i.groups.indexOf(t.id),1),void 0!==e.groups)){let o=e.groups.indexOf(t.id),i=t.rowElements.indexOf(e.id);-1!==o&&e.groups.splice(o,1),-1!==i&&t.rowElements.splice(i,1)}}}function j(e,t){let o="object"==typeof e.detail?so.get(e.detail.chipId):so.get(e.detail);if(void 0!==o&&void 0!==o.groups){o.groups.splice(o.groups.indexOf(t.id),1);for(let e=0;e<o.objects.length;e++){let i=o.objects[e],l=i.groups.indexOf(t.id),r=t.elements.indexOf(i.id);-1!==l&&i.groups.splice(l,1),-1!==r&&t.elements.splice(r,1)}}}function P(e,t){let o=co.get(e.detail);if(void 0!==o){let e=o.choice;void 0===e.groups&&(e.groups=[]),e.groups.push(t.id)}}function q(e,t){let o=so.get(e.detail);if(void 0!==o){void 0===o.groups&&(o.groups=[]),o.groups.push(t.id);for(let e=0;e<o.objects.length;e++){let i=o.objects[e];i.groups.includes(t.id)||(i.groups.push(t.id),t.elements.push(i.id))}}}p(()=>{c(x,document.getElementById("dialog--group"),!0),setTimeout(()=>{s().setOptions({getScrollElement:()=>i(x),estimateSize:e=>function(e){const t=app.groups[e];if(!t)return 262;return 262+24*Math.max(t.rowElements.length,t.elements.length)}(e-1),measureElement:e=>Math.max(e.offsetHeight,262)})},0)}),se(o,{surface$style:"width: 800px; max-width: calc(100vw - 32px);",get onSMUIDialogClosed(){return r.onclose},get open(){return f()},set open(e){f(e)},children:(e,t)=>{var o=Ns(),l=D(o);de(l,{class:"dialog-title",tabindex:0,autofocus:!0,children:(e,t)=>{var o=le("Groups");u(e,o)},$$slots:{default:!0}});var r=X(l,2);ce(r,{id:"dialog--group",class:"pb-2",children:(e,t)=>{var o=M(),l=D(o),r=e=>{var t=qs();Ee(t,21,()=>i(y),e=>e.index,(e,t)=>{var o=Ps(),l=v(o),r=e=>{var o=Ms(),l=v(o),r=v(l);Dt(r,{text:"Move Up",children:(e,o)=>{Ye(e,{class:"mdi mdi-chevron-up",onclick:()=>R(i(t).index)})},$$slots:{default:!0}});var a=X(r,2);Dt(a,{text:"Delete Group",children:(e,o)=>{Ye(e,{class:"mdi mdi-delete-forever",onclick:()=>S(app.groups[i(t).index].id,i(t).index)})},$$slots:{default:!0}});var n=X(a,2);Dt(n,{text:"Move Down",children:(e,o)=>{Ye(e,{class:"mdi mdi-chevron-down",onclick:()=>F(i(t).index)})},$$slots:{default:!0}});var s=X(l,2),c=v(s);Jl(v(c),{onfocus:()=>w=app.groups[i(t).index].id,onchange:()=>C(app.groups[i(t).index]),label:"Group Id",variant:"filled",get value(){return app.groups[i(t).index].id},set value(e){app.groups[i(t).index].id=e}});var g=X(c,2);Jl(v(g),{label:"Group Name",variant:"filled",get value(){return app.groups[i(t).index].name},set value(e){app.groups[i(t).index].name=e}});var h=X(g,2);js(v(h),{get acValue(){return app.groups[i(t).index].rowElements},get acOptions(){return d()},inputLabel:"Row Id",getLabel:O,onSelected:q,onDeselected:j,get selectProp(){return app.groups[i(t).index]}});var p=X(h,2);js(v(p),{get acValue(){return app.groups[i(t).index].elements},get acOptions(){return m()},inputLabel:"Choice Id",getLabel:k,onSelected:P,onDeselected:A,get selectProp(){return app.groups[i(t).index]}}),u(e,o)};Y(l,e=>{app.groups[i(t).index]&&e(r)});var a=X(l,2),n=e=>{var t=Ds();v(t).__click=B,u(e,t)};Y(a,e=>{i(t).index===app.groups.length&&e(n)}),W(o,(e,t)=>function(e){const t=new ResizeObserver(()=>{s().measureElement(e)});return t.observe(e),{destroy(){t.disconnect()}}}?.(e),()=>i(t).index),b(()=>{xe(o,"data-index",i(t).index),we(o,`position: absolute; top: ${i(t).start??""}px; width: 100%; min-height: 262px;`)}),u(e,o)}),b(()=>we(t,`position: relative; height: ${i(T)??""}px; width: 100%;`)),u(e,t)},a=e=>{var t=Ws(),o=v(t);Ee(o,17,()=>app.groups,He,(e,t,o)=>{var l=Ls(),r=v(l),a=v(r);Dt(a,{text:"Move Up",children:(e,t)=>{Ye(e,{class:"mdi mdi-chevron-up",onclick:()=>R(o)})},$$slots:{default:!0}});var n=X(a,2);Dt(n,{text:"Delete Group",children:(e,l)=>{Ye(e,{class:"mdi mdi-delete-forever",onclick:()=>S(i(t).id,o)})},$$slots:{default:!0}});var s=X(n,2);Dt(s,{text:"Move Down",children:(e,t)=>{Ye(e,{class:"mdi mdi-chevron-down",onclick:()=>F(o)})},$$slots:{default:!0}});var c=X(r,2),g=v(c);Jl(v(g),{onfocus:()=>w=i(t).id,onchange:()=>C(i(t)),label:"Group Id",variant:"filled",get value(){return i(t).id},set value(e){i(t).id=e}});var h=X(g,2);Jl(v(h),{label:"Group Name",variant:"filled",get value(){return i(t).name},set value(e){i(t).name=e}});var p=X(h,2);js(v(p),{get acValue(){return i(t).rowElements},get acOptions(){return d()},inputLabel:"Row Id",getLabel:O,onSelected:q,onDeselected:j,get selectProp(){return i(t)}});var f=X(p,2);js(v(f),{get acValue(){return i(t).elements},get acOptions(){return m()},inputLabel:"Choice Id",getLabel:k,onSelected:P,onDeselected:A,get selectProp(){return i(t)}}),u(e,l)});var l=X(o,2);v(l).__click=B,u(e,t)};Y(l,e=>{app.groups.length>3?e(r):e(a,!1)}),u(e,o)},$$slots:{default:!0}});var a=X(r,2);ve(a,{children:(e,t)=>{var o=Vs(),i=v(o),l=v(i),r=v(l);ue(r,{action:"",onclick:B,children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Create New Group");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var a=X(l,2),n=v(a);ue(n,{action:"close",children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Close");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),g(),n()}he(["click"]);var Us=n("<div><!></div>");function Gs(e,o){t(o,!0);let r,a=h(o,"use",19,()=>[]),n=h(o,"class",3,""),s=h(o,"multiple",3,!1),p=P(o,["$$slots","$$events","$$legacy","use","class","multiple","children"]),b=new Set,w=l(!1);G("SMUI:accordion:panel:mount",e=>{if(!s()&&e.open){const e=Array.from(b).find(e=>e.open);e&&e.setOpen(!1)}b.add(e)}),G("SMUI:accordion:panel:unmount",e=>{b.has(e)&&b.delete(e)});var I=Us(),x=e=>{!function(e){const{accessor:t}=e.detail;if(b.has(t)){if(!s()&&!t.open){const e=Array.from(b).find(e=>e.open);e&&e.setOpen(!1)}t.setOpen(!t.open)}}(e),o.onSMUIAccordionPanelActivate?.(e)},$=e=>{!function(e){const{accessor:t}=e.detail;b.has(t)&&!s()&&Array.from(b).filter(e=>e!==t&&e.open).forEach(e=>e.setOpen(!1))}(e),o.onSMUIAccordionPanelOpening?.(e)},T=e=>{c(w,!0),o.onSMUIDialogOpeningcapture?.(e)},y=e=>{c(w,!1),o.onSMUIDialogClosedcapture?.(e)};q(I,e=>({class:e,...p,onSMUIAccordionPanelActivate:x,onSMUIAccordionPanelOpening:$,onSMUIDialogOpeningcapture:T,onSMUIDialogClosedcapture:y}),[()=>L({[n()]:!0,"smui-accordion":!0,"smui-accordion--multiple":s(),"smui-accordion--with-open-dialog":i(w)})]);var C=v(I);return m(C,()=>o.children??f),d(I,e=>r=e,()=>r),W(I,(e,t)=>V?.(e,t),a),u(e,I),g({getElement:function(){return r}})}function Es(r,a){t(a,!0);const[n,s]=Ve();let v,b,w=h(a,"use",19,()=>[]),I=h(a,"class",3,""),x=h(a,"variant",3,"raised"),$=h(a,"color",3,"default"),T=h(a,"elevation",3,1),y=h(a,"open",15,!1),C=h(a,"disabled",3,!1),B=h(a,"nonInteractive",3,!1),S=h(a,"extend",3,!1),O=h(a,"extendedElevation",3,3),F=h(a,"conditionalRender",3,!1),R=P(a,["$$slots","$$events","$$legacy","use","class","variant","color","elevation","open","disabled","nonInteractive","extend","extendedElevation","conditionalRender","children"]),A=l(e(y()));const q=k(C());o(()=>{Me(q,C())}),G("SMUI:accordion:panel:disabled",q);const W=k(B());o(()=>{Me(W,B())}),G("SMUI:accordion:panel:nonInteractive",W);const V=k(y());o(()=>{Me(V,y())}),G("SMUI:accordion:panel:open",V);let N=y();rt(()=>{N!==y()&&(N=y(),F()||(Array.from(_().children).forEach(e=>{if(e.classList.contains("smui-paper__content")){const t=e;if(y()){t.classList.add("smui-accordion__content--no-transition"),t.classList.add("smui-accordion__content--force-open");const{height:e}=t.getBoundingClientRect();t.classList.remove("smui-accordion__content--force-open"),t.getBoundingClientRect(),t.classList.remove("smui-accordion__content--no-transition"),t.style.height=e+"px",Ke(t,"transitionend",()=>{t&&(t.style.height=""),c(A,y(),!0),ae(_(),"SMUIAccordionPanelOpened",{accessor:b})},{once:!0})}else t.style.height=t.getBoundingClientRect().height+"px",t.getBoundingClientRect(),requestAnimationFrame(()=>{t&&(t.style.height=""),ae(_(),"SMUIAccordionPanelClosed",{accessor:b})}),c(A,!1);t.setAttribute("aria-hidden",y()?"false":"true")}}),ae(_(),y()?"SMUIAccordionPanelOpening":"SMUIAccordionPanelClosing",{accessor:b})))});const z=U("SMUI:accordion:panel:mount"),E=U("SMUI:accordion:panel:unmount");function H(e){y(e)}function _(){return v.getElement()}p(()=>(b={get open(){return y()},setOpen:H},Array.from(_().children).forEach(e=>{if(e.classList.contains("smui-paper__content")){e.setAttribute("aria-hidden",y()?"false":"true")}}),z&&z(b),()=>{E&&E(b)}));const J=Q(()=>L({[I()]:!0,"smui-accordion__panel":!0,"smui-accordion__panel--open":y(),"smui-accordion__panel--opened":i(A),"smui-accordion__panel--disabled":C(),"smui-accordion__panel--non-interactive":B(),"smui-accordion__panel--raised":"raised"===x(),"smui-accordion__panel--extend":S(),["smui-accordion__panel--elevation-z"+(S()&&y()?O():T())]:0!==T()&&"raised"===x()||0!==O()&&"raised"===x()&&S()&&y()})),Y=Q(()=>"raised"===x()?"unelevated":x());d(Fe(r,j({get use(){return w()},get class(){return i(J)},get color(){return $()},get variant(){return i(Y)}},()=>R,{onSMUIAccordionHeaderActivate:e=>{var t;(t=e).stopPropagation(),C()||B()||ae(_(),"SMUIAccordionPanelActivate",{accessor:b,event:t}),a.onSMUIAccordionHeaderActivate?.(e)},children:(e,t)=>{var o=M(),i=D(o);m(i,()=>a.children??f),u(e,o)},$$slots:{default:!0}})),e=>v=e,()=>v);var X=g({isOpen:function(){return y()},setOpen:H,getElement:_});return s(),X}var Hs=n('<div class="smui-accordion__header__ripple"></div>'),_s=n('<div class="smui-accordion__header__description"><!></div>'),Js=n('<div class="smui-accordion__header__icon"><!></div>'),Ys=n("<div><!> <div><!></div> <!> <!></div>");function Xs(o,i){t(i,!0);const[l,r]=Ve(),a=()=>We(B,"$nonInteractive",l);let n,s=h(i,"use",19,()=>[]),c=h(i,"class",3,""),p=h(i,"style",3,""),x=h(i,"ripple",3,!0),$=P(i,["$$slots","$$events","$$legacy","use","class","style","ripple","children","description","icon"]),T=e({}),y=e({});const C=U("SMUI:accordion:panel:disabled"),B=U("SMUI:accordion:panel:nonInteractive"),S=U("SMUI:accordion:panel:open");function k(e){T[e]||(T[e]=!0)}function O(e){e in T&&!T[e]||(T[e]=!1)}function F(e,t){y[e]!=t&&(""===t||null==t?delete y[e]:y[e]=t)}function R(){return n}var A=Ys(),j=e=>{var t;0===(t=e).button&&ae(R(),"SMUIAccordionHeaderActivate",{event:t}),i.onclick?.(e),e.currentTarget.blur()},M=e=>{var t;"Enter"===(t=e).key&&ae(R(),"SMUIAccordionHeaderActivate",{event:t}),i.onkeydown?.(e)};q(A,(e,t)=>({class:e,style:t,role:"button",tabindex:a()?-1:0,"aria-expanded":We(S,"$open",l)?"true":"false",...$,onclick:j,onkeydown:M}),[()=>L({[c()]:!0,"smui-accordion__header":!0,...T}),()=>Object.entries(y).map(([e,t])=>`${e}: ${t};`).concat([p()]).join(" ")]);var D=v(A),N=e=>{var t=Hs();u(e,t)};Y(D,e=>{x()&&e(N)});var z=X(D,2),G=v(z);m(G,()=>i.children??f);var E=X(z,2),H=e=>{var t=_s(),o=v(t);m(o,()=>i.description??f),u(e,t)};Y(E,e=>{i.description&&e(H)});var _=X(E,2),J=e=>{var t=Js(),o=v(t);m(o,()=>i.icon??f),u(e,t)};Y(_,e=>{i.icon&&e(J)}),d(A,e=>n=e,()=>n),W(A,(e,t)=>V?.(e,t),s),W(A,(e,t)=>ee?.(e,t),()=>({ripple:x(),unbounded:!1,surface:!a(),disabled:We(C,"$disabled",l)||a(),addClass:k,removeClass:O,addStyle:F})),b(e=>w(z,1,e),[()=>I(L({"smui-accordion__header__title":!0,"smui-accordion__header__title--with-description":i.description}))]),u(o,A);var Z=g({getElement:R});return r(),Z}var Zs=n('<div class="col-12"><!></div>'),Ks=n('<div class="row pt-4"><div class="col-12"><!></div> <!></div>'),Qs=n('<div class="container-fluid"><div class="row"><div class="col-6"><!></div> <div class="col-6"><!></div></div></div>'),ed=n("<!> <!> <!>",1);function td(o,r){t(r,!0);let a=h(r,"open",7),n=l(e(r.isWord&&r.prevText?r.prevText:""));se(o,{surface$style:"width: 400px; max-width: calc(100vw - 32px);",onSMUIDialogClosed:function(e){r.isWord?r.closeHandler(e,i(n)):r.closeHandler(e),r.onclose()},get open(){return a()},set open(e){a(e)},children:(e,t)=>{var o=ed(),l=D(o);de(l,{class:"px-3 pb-0 toolbar toolbar__dialog",children:(e,t)=>{var o=M(),i=D(o);s(i,()=>r.title),u(e,o)},$$slots:{default:!0}});var a=X(l,2);ce(a,{children:(e,t)=>{var o=Ks(),l=v(o),a=v(l);s(a,()=>r.context);var d=X(l,2),g=e=>{var t=Zs();Jl(v(t),{textarea:!0,label:"",variant:"filled",input$rows:5,get value(){return i(n)},set value(e){c(n,e,!0)}}),u(e,t)};Y(d,e=>{r.isWord&&e(g)}),u(e,o)},$$slots:{default:!0}});var d=X(a,2);ve(d,{children:(e,t)=>{var o=Qs(),i=v(o),l=v(i),r=v(l);ue(r,{action:"close",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Cancel");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var a=X(l,2),n=v(a);ue(n,{action:"accept",children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("OK");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),g()}var od=n("<!> <!> <!>",1),id=n('<i class="mdi mdi-alphabetical-variant"></i>'),ld=n('<i class="mdi mdi-numeric"></i>'),rd=n('<i class="mdi mdi-minus-circle-outline"></i>'),ad=n("<!> <!>",1),nd=n('<i class="mdi mdi-minus-circle-outline"></i>'),sd=n("<!> <!>",1),dd=n('<!> <div class="floating-button-container"><!></div>',1),cd=n('<div class="toolbar d-row justify-center"><!> <!></div> <!> <!> <!> <!>',1),ud=n('<i class="mdi mdi-minus"></i>'),gd=n('<i class="mdi mdi-plus"></i>'),vd=n('<div class="toolbar d-row justify-space-between"><!> <!></div> <!> <!>',1),hd=n("<!> <!> <!>",1),pd=n('<i class="mdi mdi-minus"></i>'),md=n('<i class="mdi mdi-plus"></i>'),fd=n('<div class="toolbar d-row justify-space-between"><!> <!></div> <!> <!>',1);function bd(e,o){t(o,!0);const[l,r]=Ve(),a=()=>We(Wo,"$optimizedPointTypes",l),n=h(o,"required",7),s=[{text:"> More than",value:"1"},{text:"≥ More or equal",value:"2"},{text:"= Equal to",value:"3"},{text:"≤ Less or equal",value:"4"},{text:"< Less than",value:"5"}],d=[{text:"≥ More or equal",value:"1"},{text:"= Equal to",value:"2"},{text:"≤ Less or equal",value:"3"}];function c(e,t){let o=uo.get(e.detail);void 0!==o&&void 0===t.selGroups&&(t.selGroups=[],t.selGroups.push(o.id))}function p(e,t){let o=so.get(e.detail);void 0!==o&&void 0===t.selRows&&(t.selRows=[],t.selRows.push(o.id))}var m=M(),f=D(m),w=e=>{const t=Q(()=>n().required?"Selected Id":"Not Selected Id");Jl(e,{get label(){return i(t)},variant:"filled",get value(){return n().reqId},set value(e){n().reqId=e}})},I=(e,t)=>{var o=e=>{var t=od(),o=D(t);ks(o,{get options(){return a()},get getOptionLabel(){return oi},label:"Point Type",toggle:!0,showMenuWithNoInput:!0,textfield$variant:"filled",class:"w-100",get value(){return n().reqId},set value(e){n().reqId=e}});var l=X(o,2);ia(l,{label:"Operator",variant:"filled",alwaysFloat:!0,get value(){return n().operator},set value(e){n().operator=e},children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>s,He,(e,t)=>{la(e,{get value(){return i(t).value},children:(e,o)=>{var l=le();b(()=>re(l,i(t).text)),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}}),Jl(X(l,2),{label:"Value",type:"number",variant:"filled",get value(){return n().reqPoints},set value(e){n().reqPoints=e}}),u(e,t)},r=(e,t)=>{var o=e=>{var t=cd(),o=D(t),l=v(o);Dt(l,{text:"Add Point Type",children:(e,t)=>{Ye(e,{onclick:()=>{void 0===n().more&&(n().more=[]),n().more.push({operator:"1",type:"id",id:""})},children:(e,t)=>{var o=id();u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var r=X(l,2);Dt(r,{text:"Add Number",children:(e,t)=>{Ye(e,{onclick:()=>{void 0===n().more&&(n().more=[]),n().more.push({operator:"1",type:"points",points:0})},children:(e,t)=>{var o=ld();u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var d=X(o,2);ks(d,{get options(){return a()},get getOptionLabel(){return oi},label:"Target Point Type",toggle:!0,showMenuWithNoInput:!0,textfield$variant:"filled",class:"w-100",get value(){return n().reqId},set value(e){n().reqId=e}});var c=X(d,2);ia(c,{label:"Operator",variant:"filled",alwaysFloat:!0,get value(){return n().operator},set value(e){n().operator=e},children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>s,He,(e,t)=>{la(e,{get value(){return i(t).value},children:(e,o)=>{var l=le();b(()=>re(l,i(t).text)),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}});var g=X(c,2);ks(g,{get options(){return a()},get getOptionLabel(){return oi},label:"Point Type",toggle:!0,showMenuWithNoInput:!0,textfield$variant:"filled",class:"w-100",get value(){return n().reqId1},set value(e){n().reqId1=e}});var h=X(g,2),p=e=>{var t=M(),o=D(t);Ee(o,17,()=>n().more,He,(e,t,o)=>{var l=dd(),r=D(l);ia(r,{label:"Operator",variant:"filled",alwaysFloat:!0,get value(){return i(t).operator},set value(e){i(t).operator=e},children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>s,He,(e,t)=>{la(e,{get value(){return i(t).value},children:(e,o)=>{var l=le();b(()=>re(l,i(t).text)),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}});var d=X(r,2),c=v(d),g=e=>{var l=ad(),r=D(l);ks(r,{get options(){return a()},get getOptionLabel(){return oi},label:"Point Type",toggle:!0,showMenuWithNoInput:!0,textfield$variant:"filled",class:"w-100",get value(){return i(t).id},set value(e){i(t).id=e}});var s=X(r,2);Ye(s,{onclick:()=>{n().more&&n().more.splice(o,1)},class:"floating-button",children:(e,t)=>{var o=rd();u(e,o)},$$slots:{default:!0}}),u(e,l)},h=(e,l)=>{var r=e=>{var l=sd(),r=D(l);Jl(r,{label:"Value",type:"number",variant:"filled",get value(){return i(t).points},set value(e){i(t).points=e}});var a=X(r,2);Ye(a,{onclick:()=>{n().more&&n().more.splice(o,1)},class:"floating-button",style:"right: 35px",children:(e,t)=>{var o=nd();u(e,o)},$$slots:{default:!0}}),u(e,l)};Y(e,e=>{"points"===i(t).type&&e(r)},l)};Y(c,e=>{"id"===i(t).type?e(g):e(h,!1)}),u(e,l)}),u(e,t)};Y(h,e=>{n().more&&e(p)}),u(e,t)},r=(e,t)=>{var o=e=>{var t=vd(),o=D(t),l=v(o);Ye(l,{onclick:()=>{n().orRequired.length>1&&n().orRequired.pop()},children:(e,t)=>{var o=ud();u(e,o)},$$slots:{default:!0}});var r=X(l,2);Ye(r,{onclick:()=>{n().orRequired.push({req:""})},children:(e,t)=>{var o=gd();u(e,o)},$$slots:{default:!0}});var a=X(o,2);Jl(a,{get value(){return n().orNum??1},set value(e){var t;t=e,n().orNum=t},onchange:()=>n().orNum=Math.min(Math.max(n().orNum||0,0),n().orRequired.length),label:"X",type:"number",input$min:0,get input$max(){return n().orRequired.length},variant:"filled"});var s=X(a,2);Ee(s,17,()=>n().orRequired,He,(e,t,o)=>{const l=Q(()=>n().required?"Selected Id":"Not Selected Id");Jl(e,{get label(){return i(l)},variant:"filled",get value(){return i(t).req},set value(e){i(t).req=e}})}),u(e,t)},r=(e,t)=>{var o=e=>{var t=hd(),o=D(t),r=e=>{const t=Q(()=>n().selGroups||[]);js(e,{get acValue(){return i(t)},get acOptions(){return We(Lo,"$optimizedGroups",l)},inputLabel:"Groups",get getLabel(){return li},onSelected:c,get selectProp(){return n()}})},a=(e,t)=>{var o=e=>{const t=Q(()=>n().selRows||[]);js(e,{get acValue(){return i(t)},get acOptions(){return We(Mo,"$optimizedRows",l)},inputLabel:"Rows",get getLabel(){return ri},onSelected:p,get selectProp(){return n()}})};Y(e,e=>{"selFromRows"===n().type&&e(o)},t)};Y(o,e=>{"selFromGroups"===n().type?e(r):e(a,!1)});var s=X(o,2);ia(s,{label:"Operator",variant:"filled",alwaysFloat:!0,get value(){return n().selFromOperators},set value(e){n().selFromOperators=e},children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>d,He,(e,t)=>{la(e,{get value(){return i(t).value},children:(e,o)=>{var l=le();b(()=>re(l,i(t).text)),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}}),Jl(X(s,2),{onchange:()=>n().selNum=Math.max(n().selNum||0,0),label:"Number of Selection",type:"number",input$min:0,variant:"filled",get value(){return n().selNum},set value(e){n().selNum=e}}),u(e,t)},r=(e,t)=>{var o=e=>{ks(e,{get options(){return We(zo,"$optimizedGlobalRequirement",l)},get getOptionLabel(){return ai},label:"Global Requirement",toggle:!0,showMenuWithNoInput:!0,textfield$variant:"filled",class:"w-100",get value(){return n().reqId},set value(e){n().reqId=e}})},r=(e,t)=>{var o=e=>{var t=fd(),o=D(t),r=v(o);Ye(r,{onclick:()=>{n().orRequired.length>1&&n().orRequired.pop()},children:(e,t)=>{var o=pd();u(e,o)},$$slots:{default:!0}});var a=X(r,2);Ye(a,{onclick:()=>{n().orRequired.push({req:""})},children:(e,t)=>{var o=md();u(e,o)},$$slots:{default:!0}});var s=X(o,2);ks(s,{get options(){return We(No,"$optimizedWords",l)},label:"Word ID",toggle:!0,showMenuWithNoInput:!0,textfield$variant:"filled",class:"w-100",get value(){return n().reqId},set value(e){n().reqId=e}});var d=X(s,2);Ee(d,17,()=>n().orRequired,He,(e,t,o)=>{Jl(e,{label:"Word Text",variant:"filled",get value(){return i(t).req},set value(e){i(t).req=e}})}),u(e,t)};Y(e,e=>{"word"===n().type&&e(o)},t)};Y(e,e=>{"gid"===n().type?e(o):e(r,!1)},t)};Y(e,e=>{"selFromGroups"===n().type||"selFromRows"===n().type||"selFromWhole"===n().type?e(o):e(r,!1)},t)};Y(e,e=>{"or"===n().type?e(o):e(r,!1)},t)};Y(e,e=>{"pointCompare"===n().type?e(o):e(r,!1)},t)};Y(e,e=>{"points"===n().type?e(o):e(r,!1)},t)};Y(f,e=>{"id"===n().type?e(w):e(I,!1)}),u(e,m),g(),r()}var wd=n('<i class="mdi mdi-chevron-left"></i>'),Id=n('<i class="mdi mdi-key-plus"></i>'),xd=n('<i class="mdi mdi-clipboard-outline"></i>'),$d=n('<i class="mdi mdi-chevron-right"></i>'),Td=n("<!> <!>",1),yd=n("<!> <!> <!>",1),Cd=n("<!> <!>",1),Bd=n("<div><!> <!></div>"),Sd=n('<div><div class="d-row justify-space-between overflow-auto"><!> <div class="d-flex"><!> <!></div> <!></div> <div class="row"><div class="col-12"><!> <div><!></div></div></div> <div class="row gy-3 p-2"></div></div>'),kd=n('<div class="col"><!></div>'),Od=n('<div class="col"><!></div>');function Fd(e,o){t(o,!0);let r=h(o,"required",7),a=l(0),n=Q(()=>i(a)>300?"col-6":"col-12"),d=Q(()=>{let e=go.get(r().reqId);return void 0!==e&&void 0!==app.globalRequirements?e.requireds:[]}),p=Q(()=>!!r().showRequired&&(!r().hideRequired||(r().requireds.length>0?Si(r().requireds)&&!Bi(r()):!Bi(r()))));function m(){app.tmpRequired.length=0,app.tmpRequired.push(r()),Co.labelText="Copied to clipboard.",Co.isOpen=!0}function f(){void 0!==o.data&&void 0!==o.index&&o.index>0&&o.data.requireds.splice(o.index-1,2,o.data.requireds[o.index],o.data.requireds[o.index-1])}function x(){void 0!==o.data&&void 0!==o.index&&o.index<o.data.requireds.length-1&&o.data.requireds.splice(o.index,2,o.data.requireds[o.index+1],o.data.requireds[o.index])}var $=M(),T=D($),y=e=>{var t=Sd(),l=v(t),s=v(l);Dt(s,{text:"Move Left",children:(e,t)=>{Ye(e,{onclick:f,size:"mini",children:(e,t)=>{var o=wd();u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var d=X(s,2),g=v(d);Dt(g,{text:"Create New Reqruirement",children:(e,t)=>{Ye(e,{onclick:()=>{yo.data=r(),yo.currentDialog="appRequirement"},size:"mini",children:(e,t)=>{var o=Id();u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var h=X(g,2);Dt(h,{text:"Copy Requirement",children:(e,t)=>{Ye(e,{onclick:m,size:"mini",children:(e,t)=>{var o=xd();u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var p=X(d,2);Dt(p,{text:"Move Right",children:(e,t)=>{Ye(e,{onclick:x,size:"mini",children:(e,t)=>{var o=$d();u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var $=X(l,2),T=v($),y=v(T),C=e=>{var t=Cd(),o=D(t);Se(o,{class:"w-100",label:e=>{var t=le("Show Requirement");u(e,t)},children:(e,t)=>{ze(e,{onchange:()=>{r().showRequired||delete r().hideRequired},class:"check-scale",get checked(){return r().showRequired},set checked(e){r().showRequired=e}})},$$slots:{label:!0,default:!0}});var i=X(o,2),l=e=>{var t=yd(),o=D(t);Se(o,{class:"w-100",label:e=>{var t=le("Hide when Requirement is met");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return r().hideRequired??!1},set checked(e){var t;t=e,r().hideRequired=t},class:"check-scale"})},$$slots:{label:!0,default:!0}});var i=X(o,2);Se(i,{class:"w-100",label:e=>{var t=le("Use custom requirement text");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return r().customTextIsOn??!1},set checked(e){var t;t=e,r().customTextIsOn=t},onchange:()=>{r().customTextIsOn||delete r().customText},class:"check-scale"})},$$slots:{label:!0,default:!0}});var l=X(i,2),a=e=>{Jl(e,{get value(){return r().customText??""},set value(e){var t;t=e,r().customText=t},label:"Custom Text",variant:"filled"})},n=e=>{var t=Td(),o=D(t);Jl(o,{label:"Text Before",variant:"filled",get value(){return r().beforeText},set value(e){r().beforeText=e}}),Jl(X(o,2),{label:"Text After",variant:"filled",get value(){return r().afterText},set value(e){r().afterText=e}}),u(e,t)};Y(l,e=>{r().customTextIsOn?e(a):e(n,!1)}),u(e,t)};Y(i,e=>{r().showRequired&&e(l)}),u(e,t)};Y(y,e=>{o.isNotShown||e(C)});var B=X(y,2);bd(v(B),{get required(){return r()}});var S=X($,2);Ee(S,21,()=>r().requireds,He,(e,t,o)=>{var l=Bd(),a=v(l);bd(a,{get required(){return i(t)}});var s=X(a,2);ue(s,{onclick:()=>r().requireds.splice(o,1),class:"w-100 mt-1",variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Delete");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}}),b(()=>w(l,1,I(i(n)))),u(e,l)}),at(t,"clientWidth",e=>c(a,e)),u(e,t)},C=e=>{var t=M(),l=D(t),a=e=>{var t=M(),l=D(t),a=e=>{var t=M(),l=D(t);Ee(l,17,()=>i(d),He,(e,t)=>{var l=M(),r=D(l),a=e=>{var l=kd(),r=v(l);s(r,()=>nt.sanitize(xi(ni(i(t))),xo)),b(()=>we(l,o.scoreText)),u(e,l)};Y(r,e=>{i(t).showRequired&&e(a)}),u(e,l)}),u(e,t)},n=e=>{var t=Od(),i=v(t);s(i,()=>nt.sanitize(xi(ni(r())),xo)),b(()=>we(t,o.scoreText)),u(e,t)};Y(l,e=>{"gid"===r().type?e(a):e(n,!1)}),u(e,t)};Y(l,e=>{i(p)&&e(a)}),u(e,t)};Y(T,e=>{o.isEditModeOn?e(y):e(C,!1)}),u(e,$),g()}var Rd=n('<i class="mdi mdi-chevron-up"></i>'),Ad=n('<i class="mdi mdi-key-plus"></i>'),jd=n('<i class="mdi mdi-clipboard-outline"></i>'),Md=n('<i class="mdi mdi-chevron-down"></i>'),Dd=n('<button type="button" class="btn--image-background"><img alt="" loading="lazy" class="btn--image" style="max-height: 175px"/></button>'),Pd=n("<div><!> <!></div>"),qd=n('<div><div class="d-row justify-space-between overflow-auto"><!> <div class="d-flex"><!> <!></div> <!></div> <div class="py-3 px-5 col-12"><!> <!></div> <div class="row gx-3"><!> <div class="col-12"><!> <!> <!></div></div> <div class="row gy-3 p-2"></div></div>'),Ld=n('<img alt=""/>'),Wd=n('<img alt=""/>'),Vd=n('<h3 class="m-0"><!></h3>'),Nd=n('<img alt=""/>'),zd=n('<img alt=""/>'),Ud=n('<p class="mb-0"><!></p>'),Gd=n('<img alt=""/>'),Ed=n('<img alt=""/>'),Hd=n('<span class="m-0"><!> <!> <!> <!> <!> <!></span>'),_d=n('<img alt=""/>'),Jd=n('<img alt=""/>'),Yd=n('<h2 class="mb-0"><!></h2>'),Xd=n('<p class="mb-0"><!></p>'),Zd=n('<div class="col p-0 text-center"><!></div> <div class="col p-0 text-center"><!> <!> <!></div>',1),Kd=n('<h2 class="mb-0"><!></h2>'),Qd=n('<p class="mb-0"><!></p>'),ec=n('<img alt=""/>'),tc=n('<img alt=""/>'),oc=n('<div class="col p-0 text-center"><!> <!> <!></div> <div class="col p-0 text-center"><!></div>',1),ic=n('<div class="row m-0 p-0 w-100"><!></div>'),lc=n('<div class="text-center"><!></div>');function rc(e,o){t(o,!0);let r=h(o,"isEditModeOn",3,!1),a=h(o,"addon",7),n=h(o,"windowWidth",3,0),d=h(o,"preloadImages",3,!1);const p=[{text:"Image top",value:1},{text:"Image left",value:2},{text:"Image right",value:3},{text:"Image bottom",value:4},{text:"Image center",value:5}];let m=l(0),f=Q(()=>i(m)>400?"col-6":"col-12"),I=Q(()=>void 0!==o.choice&&o.choice.isActive),x=Q(()=>$i("privateAddonImageIsOn",o.row,o.choice)),$=Q(()=>$i("privateAddonIsOn",o.row,o.choice)),T=Q(()=>$i("privateFilterIsOn",o.row,o.choice)),y=Q(()=>$i("privateObjectImageIsOn",o.row,o.choice)),C=Q(()=>$i("privateObjectIsOn",o.row,o.choice)),B=Q(()=>$i("privateTextIsOn",o.row,o.choice)),S=Q(()=>Si(a().requireds)),k=Q(()=>void 0!==i(x).addonImageBoxWidth?i(x).addonImageBoxWidth:50),O=Q(()=>{let e=i($).useAddonDesign,t=(e?i($).addonBorderRadiusIsPixels:i(C).objectBorderRadiusIsPixels)?"px":"%",l=0,r=0,n=0,s=[];if(e){if(i($).addonBorderImage&&s.push(`border-image: url('${i($).addonBorderImage}') ${i($).addonBorderImageSliceTop} ${i($).addonBorderImageSliceRight} ${i($).addonBorderImageSliceBottom} ${i($).addonBorderImageSliceLeft} / ${i($).addonBorderImageWidth}px ${i($).addonBorderImageRepeat}; border-style: solid; padding: ${i($).addonBorderImageWidth}px;`),i($).useAddonBackgroundImage&&i($).addonBackgroundImage&&(s.push(`background-image: url('${i($).addonBackgroundImage}'); ${i($).isObjectBackgroundRepeat?"background-repeat: repeat;":i($).isObjectBackgroundFitIn?"background-size: 100% 100%;":"background-size: cover;"}`),l=s.length),i($).addonBgColorIsOn&&(s.push(`background-color: ${Pl(i($).addonBgColor)};`),r=s.length),s.push(`margin: ${i($).addonMargin}px;`),s.push(`border-radius: ${i($).addonBorderRadiusTopLeft}${t} ${i($).addonBorderRadiusTopRight}${t} ${i($).addonBorderRadiusBottomRight}${t} ${i($).addonBorderRadiusBottomLeft}${t};`),i($).addonOverflowIsOn&&s.push("overflow: hidden;"),i($).addonBorderIsOn||i(I)&&i(T).selBorderColorIsOn||!o.isEnabled&&i(T).reqBorderColorIsOn){let e=i($).addonBorderColor;!o.isEnabled&&i(T).reqBorderColorIsOn?e=i(T).reqFilterBorderColor:i(I)&&i(T).selBorderColorIsOn&&(e=i(T).selFilterBorderColor),s.push(`border: ${i($).addonBorderWidth}px ${i($).addonBorderStyle} ${Pl(e)};`)}i($).addonDropShadowIsOn&&(i($).addonUseBoxShadowIsOn?s.push(`box-shadow: ${i($).addonDropShadowH}px ${i($).addonDropShadowV}px ${i($).addonDropShadowBlur}px ${Pl(i($).addonDropShadowColor)};`):(n=s.length,s.push(`filter: drop-shadow(${i($).addonDropShadowH}px ${i($).addonDropShadowV}px ${i($).addonDropShadowBlur}px ${Pl(i($).addonDropShadowColor)})`))),0===n&&(s.push("filter:"),n=s.length),o.isEnabled&&i(S)&&(i(I)?(i(T).selFilterBlurIsOn&&s.push(` blur(${i(T).selFilterBlur}px)`),i(T).selFilterBrightIsOn&&s.push(` brightness(${i(T).selFilterBright}%)`),i(T).selFilterContIsOn&&s.push(` contrast(${i(T).selFilterCont}%)`),i(T).selFilterGrayIsOn&&s.push(` grayscale(${i(T).selFilterGray}%)`),i(T).selFilterHueIsOn&&s.push(` hue-rotate(${i(T).selFilterHue}deg)`),i(T).selFilterInvertIsOn&&s.push(` invert(${i(T).selFilterInvert}%)`),i(T).selFilterOpacIsOn&&s.push(` opacity(${i(T).selFilterOpac}%)`),i(T).selFilterSaturIsOn&&s.push(` saturate(${i(T).selFilterSatur})`),i(T).selFilterSepiaIsOn&&s.push(` sepia(${i(T).selFilterGray}%)`)):(i(T).unselFilterBlurIsOn&&s.push(` blur(${i(T).unselFilterBlur}px)`),i(T).unselFilterBrightIsOn&&s.push(` brightness(${i(T).unselFilterBright}%)`),i(T).unselFilterContIsOn&&s.push(` contrast(${i(T).unselFilterCont}%)`),i(T).unselFilterGrayIsOn&&s.push(` grayscale(${i(T).unselFilterGray}%)`),i(T).unselFilterHueIsOn&&s.push(` hue-rotate(${i(T).unselFilterHue}deg)`),i(T).unselFilterInvertIsOn&&s.push(` invert(${i(T).unselFilterInvert}%)`),i(T).unselFilterOpacIsOn&&s.push(` opacity(${i(T).unselFilterOpac}%)`),i(T).unselFilterSaturIsOn&&s.push(` saturate(${i(T).unselFilterSatur})`),i(T).unselFilterSepiaIsOn&&s.push(` sepia(${i(T).unselFilterGray}%)`)),s.length===n?s.splice(n-1,1):s.push(";")),i($).addonGradientIsOn&&s.push(`background-image: linear-gradient(${i($).addonGradient});`)}return(app.showAllAddons>0||a().showAddon)&&o.isEnabled&&!i(S)&&(0===n&&(s.push("filter:"),n=s.length),i(T).reqFilterBlurIsOn&&s.push(` blur(${i(T).reqFilterBlur}px)`),i(T).reqFilterBrightIsOn&&s.push(` brightness(${i(T).reqFilterBright}%)`),i(T).reqFilterContIsOn&&s.push(` contrast(${i(T).reqFilterCont}%)`),i(T).reqFilterGrayIsOn&&s.push(` grayscale(${i(T).reqFilterGray}%)`),i(T).reqFilterHueIsOn&&s.push(` hue-rotate(${i(T).reqFilterHue}deg)`),i(T).reqFilterInvertIsOn&&s.push(` invert(${i(T).reqFilterInvert}%)`),i(T).reqFilterOpacIsOn&&s.push(` opacity(${i(T).reqFilterOpac}%)`),i(T).reqFilterSaturIsOn&&s.push(` saturate(${i(T).reqFilterSatur})`),i(T).reqFilterSepiaIsOn&&s.push(` sepia(${i(T).reqFilterGray}%)`),s.length===n?s.splice(n-1,1):s.push(";"),i(T).reqBgColorIsOn&&(i(T).reqOverlayOnImage||(0!==r&&s.splice(r-1,1),0!==l&&s.splice(l-1,1)),s.push(`background-color: ${Pl(i(T).reqFilterBgColor)};`)),i($).addonGradientIsOn&&s.push(`background-image: linear-gradient(${i($).addonGradientOnReq});`)),s.join(" ")}),F=Q(()=>{let e=[];return e.push(`font-family: ${i(B).addonTitle};font-size: ${i(B).addonTitleTextSize}%;text-align: ${i(B).addonTitleAlign};`),!o.isEnabled&&i(T).reqATitleColorIsOn?e.push(`color: ${Pl(i(T).reqFilterATitleColor)};`):i(I)&&i(T).selATitleColorIsOn?e.push(`color: ${Pl(i(T).selFilterATitleColor)};`):e.push(`color: ${Pl(i(B).addonTitleColor)};`),i($).useAddonDesign?i($).titlePaddingIsOn&&e.push(`padding: ${i($).addonTextPadding}px;`):i(C).titlePaddingIsOn&&e.push(`padding: ${i(C).objectTextPadding}px;`),e.join(" ")}),R=Q(()=>{let e=[];return e.push(`font-family: ${i(B).addonText}; text-align: ${i(B).addonTextAlign}; font-size: ${i(B).addonTextTextSize}%; white-space: pre-line;`),!o.isEnabled&&i(T).reqATextColorIsOn?e.push(`color: ${Pl(i(T).reqFilterATextColor)};`):i(I)&&i(T).selATextColorIsOn?e.push(`color: ${Pl(i(T).selFilterATextColor)};`):e.push(`color: ${Pl(i(B).addonTextColor)};`),i($).useAddonDesign?e.push(`padding: ${i($).addonTextPadding}px;`):e.push(`padding: ${i(C).objectTextPadding}px;`),e.join(" ")}),A=Q(()=>{let e=[],t=i(x).useAddonImage,l=(t?i(x).addonImgBorderRadiusIsPixels:i(y).objectImgBorderRadiusIsPixels)?"px":"%";return t?(e.push(`width: ${i(x).addonImageWidth}%; margin-top: ${i(x).addonImageMarginTop}%; margin-bottom: ${i(x).addonImageMarginBottom}%;`),i(x).addonImgObjectFillIsOn&&o.choice?.addonImgObjectFillHeight&&e.push(`object-fit: ${i(x).addonImgObjectFillStyle}; height: ${o.choice?.addonImgObjectFillHeight}px;`),e.push(`border-radius: ${i(x).addonImgBorderRadiusTopLeft}${l} ${i(x).addonImgBorderRadiusTopRight}${l} ${i(x).addonImgBorderRadiusBottomRight}${l} ${i(x).addonImgBorderRadiusBottomLeft}${l};`),i(x).addonImgOverflowIsOn&&e.push("overflow: hidden;"),i(x).addonImgBorderIsOn&&e.push(`border: ${i(x).addonImgBorderWidth}px ${i(x).addonImgBorderStyle} ${Pl(i(x).addonImgBorderColor)};`)):(e.push(`width: ${i(y).objectImageWidth}%; margin-top: ${i(y).objectImageMarginTop}%; margin-bottom: ${i(y).objectImageMarginBottom}%;`),i(y).objectImgObjectFillIsOn&&o.row?.objectImgObjectFillHeight&&e.push(`object-fit: ${i(y).objectImgObjectFillStyle}; height: ${o.row?.objectImgObjectFillHeight}px;`),e.push(`border-radius: ${i(y).objectImgBorderRadiusTopLeft}${l} ${i(y).objectImgBorderRadiusTopRight}${l} ${i(y).objectImgBorderRadiusBottomRight}${l} ${i(y).objectImgBorderRadiusBottomLeft}${l};`),i(y).objectImgOverflowIsOn&&e.push("overflow: hidden;"),i(y).objectImgBorderIsOn&&e.push(`border: ${i(y).objectImgBorderWidth}px ${i(y).objectImgBorderStyle} ${Pl(i(y).objectImgBorderColor)};`)),e.join(" ")}),j=Q(()=>`font-family: ${i(B).scoreText}; font-size: ${i(B).scoreTextSize}%; text-align: ${i(B).scoreTextAlign}; color: ${Pl(i(B).scoreTextColor)};`);function P(){app.tmpAddon.length=0,app.tmpAddon.push(a()),Co.labelText="Copied to clipboard.",Co.isOpen=!0}function q(){void 0!==o.choice&&void 0!==o.index&&o.index>0&&o.choice.addons.splice(o.index-1,2,o.choice.addons[o.index],o.choice.addons[o.index-1])}function L(){void 0!==o.choice&&void 0!==o.index&&o.index<o.choice.addons.length-1&&o.choice.addons.splice(o.index,2,o.choice.addons[o.index+1],o.choice.addons[o.index])}var W=M(),V=D(W),N=e=>{var t=qd(),o=v(t),l=v(o);Dt(l,{text:"Move Up",children:(e,t)=>{Ye(e,{onclick:q,children:(e,t)=>{var o=Rd();u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var r=X(l,2),n=v(r);Dt(n,{text:"Create New Reqruirement",children:(e,t)=>{Ye(e,{onclick:()=>{yo.data=a(),yo.currentDialog="appRequirement"},children:(e,t)=>{var o=Ad();u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var s=X(n,2);Dt(s,{text:"Copy Addon",children:(e,t)=>{Ye(e,{onclick:P,children:(e,t)=>{var o=jd();u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var d=X(r,2);Dt(d,{text:"Move Down",children:(e,t)=>{Ye(e,{onclick:L,children:(e,t)=>{var o=Md();u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var g=X(o,2),h=v(g),I=e=>{var t=Dd();t.__click=()=>{yo.data=a(),yo.currentDialog="appImageUpload",yo.imgProp="image"};var o=v(t);b(()=>xe(o,"src",a().image)),u(e,t)};Y(h,e=>{a().image&&!app.hideImages&&e(I)});var x=X(h,2);ue(x,{onclick:()=>{yo.data=a(),yo.currentDialog="appImageUpload",yo.imgProp="image"},variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Change Image");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var $=X(g,2),T=v($);Se(T,{class:"col-12",label:e=>{var t=le("Always show this addon");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return a().showAddon??!1},set checked(e){var t;t=e,a().showAddon=t}})},$$slots:{label:!0,default:!0}});var y=X(T,2),C=v(y);ia(C,{label:"Template",variant:"filled",alwaysFloat:!0,get value(){return a().template},set value(e){a().template=e},children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>p,e=>e.text,(e,t)=>{la(e,{get value(){return i(t).value},children:(e,o)=>{var l=le();b(()=>re(l,i(t).text)),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}});var B=X(C,2);Jl(B,{class:"mb-1",label:"Addon Title",variant:"filled",get value(){return a().title},set value(e){a().title=e}}),Jl(X(B,2),{textarea:!0,label:"Addon Text",variant:"filled",input$rows:5,get value(){return a().text},set value(e){a().text=e}});var S=X($,2);Ee(S,21,()=>a().requireds,He,(e,t,o)=>{var l=Pd(),r=v(l);Fd(r,{get required(){return i(t)},isEditModeOn:!0,get data(){return a()},index:o});var n=X(r,2);ue(n,{onclick:()=>a().requireds.splice(o,1),class:"mt-1",variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Delete");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}}),b(()=>w(l,1,`${(i(t).requireds.length>0?"col-12":i(f))??""} p-2`)),u(e,l)}),at(t,"clientWidth",e=>c(m,e)),u(e,t)},z=(e,t)=>{var l=e=>{var t=lc(),l=v(t),r=e=>{var t=Hd(),l=v(t),r=e=>{var t=M(),o=D(t),l=e=>{Dt(e,{innerClass:"w-100",get text(){return a().imageSourceTooltip},children:(e,t)=>{var o=Ld();b(()=>{xe(o,"src",a().image),we(o,i(A)),xe(o,"loading",d()?"eager":"lazy")}),u(e,o)},$$slots:{default:!0}})},r=e=>{var t=Wd();b(()=>{xe(t,"src",a().image),we(t,i(A)),xe(t,"loading",d()?"eager":"lazy")}),u(e,t)};Y(o,e=>{a().imageSourceTooltip?e(l):e(r,!1)}),u(e,t)};Y(l,e=>{(1===a().template||n()<=960)&&a().image&&!o.row?.addonImageRemoved&&e(r)});var c=X(l,2),g=e=>{var t=Vd(),o=v(t);s(o,()=>nt.sanitize(xi(a().title),xo)),b(()=>we(t,i(F))),u(e,t)};Y(c,e=>{""===a().title||o.row?.addonTitleRemoved||e(g)});var h=X(c,2),p=e=>{var t=M(),o=D(t);Ee(o,17,()=>a().requireds,He,(e,t)=>{Fd(e,{get required(){return i(t)},get scoreText(){return i(j)}})}),u(e,t)};Y(h,e=>{o.row?.objectRequirementRemoved||e(p)});var m=X(h,2),f=e=>{var t=M(),o=D(t),l=e=>{Dt(e,{innerClass:"w-100",get text(){return a().imageSourceTooltip},children:(e,t)=>{var o=Nd();b(()=>{xe(o,"src",a().image),we(o,i(A)),xe(o,"loading",d()?"eager":"lazy")}),u(e,o)},$$slots:{default:!0}})},r=e=>{var t=zd();b(()=>{xe(t,"src",a().image),we(t,i(A)),xe(t,"loading",d()?"eager":"lazy")}),u(e,t)};Y(o,e=>{a().imageSourceTooltip?e(l):e(r,!1)}),u(e,t)};Y(m,e=>{5===a().template&&a().image&&!o.row?.addonImageRemoved&&e(f)});var w=X(m,2),I=e=>{var t=Ud(),o=v(t);s(o,()=>nt.sanitize(xi(a().text),xo)),b(()=>we(t,i(R))),u(e,t)};Y(w,e=>{""===a().text||o.row?.addonTextRemoved||e(I)});var x=X(w,2),$=e=>{var t=M(),o=D(t),l=e=>{Dt(e,{innerClass:"w-100",get text(){return a().imageSourceTooltip},children:(e,t)=>{var o=Gd();b(()=>{xe(o,"src",a().image),we(o,i(A)),xe(o,"loading",d()?"eager":"lazy")}),u(e,o)},$$slots:{default:!0}})},r=e=>{var t=Ed();b(()=>{xe(t,"src",a().image),we(t,i(A)),xe(t,"loading",d()?"eager":"lazy")}),u(e,t)};Y(o,e=>{a().imageSourceTooltip?e(l):e(r,!1)}),u(e,t)};Y(x,e=>{4===a().template&&a().image&&!o.row?.addonImageRemoved&&e($)}),u(e,t)},c=e=>{var t=ic(),l=v(t),r=e=>{var t=Zd(),l=D(t),r=v(l),n=e=>{var t=M(),o=D(t),l=e=>{Dt(e,{innerClass:"w-100",get text(){return a().imageSourceTooltip},children:(e,t)=>{var o=_d();b(()=>{xe(o,"src",a().image),we(o,i(A)),xe(o,"loading",d()?"eager":"lazy")}),u(e,o)},$$slots:{default:!0}})},r=e=>{var t=Jd();b(()=>{xe(t,"src",a().image),we(t,i(A)),xe(t,"loading",d()?"eager":"lazy")}),u(e,t)};Y(o,e=>{a().imageSourceTooltip?e(l):e(r,!1)}),u(e,t)};Y(r,e=>{a().image&&!o.row?.addonImageRemoved&&e(n)});var c=X(l,2),g=v(c),h=e=>{var t=Yd(),o=v(t);s(o,()=>nt.sanitize(xi(a().title),xo)),b(()=>we(t,i(F))),u(e,t)};Y(g,e=>{""===a().title||o.row?.addonTitleRemoved||e(h)});var p=X(g,2),m=e=>{var t=M(),o=D(t);Ee(o,17,()=>a().requireds,He,(e,t)=>{Fd(e,{get required(){return i(t)},get scoreText(){return i(j)}})}),u(e,t)};Y(p,e=>{o.row?.objectRequirementRemoved||e(m)});var f=X(p,2),w=e=>{var t=Xd(),o=v(t);s(o,()=>nt.sanitize(xi(a().text),xo)),b(()=>we(t,i(R))),u(e,t)};Y(f,e=>{""===a().text||o.row?.addonTextRemoved||e(w)}),b(()=>{we(l,`max-width: ${i(k)??""}%`),we(c,`max-width: ${100-i(k)}%`)}),u(e,t)},n=(e,t)=>{var l=e=>{var t=oc(),l=D(t),r=v(l),n=e=>{var t=Kd(),o=v(t);s(o,()=>nt.sanitize(xi(a().title),xo)),b(()=>we(t,i(F))),u(e,t)};Y(r,e=>{""===a().title||o.row?.addonTitleRemoved||e(n)});var c=X(r,2),g=e=>{var t=M(),o=D(t);Ee(o,17,()=>a().requireds,He,(e,t)=>{Fd(e,{get required(){return i(t)},get scoreText(){return i(j)}})}),u(e,t)};Y(c,e=>{o.row?.objectRequirementRemoved||e(g)});var h=X(c,2),p=e=>{var t=Qd(),o=v(t);s(o,()=>nt.sanitize(xi(a().text),xo)),b(()=>we(t,i(R))),u(e,t)};Y(h,e=>{""===a().text||o.row?.addonTextRemoved||e(p)});var m=X(l,2),f=v(m),w=e=>{var t=M(),o=D(t),l=e=>{Dt(e,{innerClass:"w-100",get text(){return a().imageSourceTooltip},children:(e,t)=>{var o=ec();b(()=>{xe(o,"src",a().image),we(o,i(A)),xe(o,"loading",d()?"eager":"lazy")}),u(e,o)},$$slots:{default:!0}})},r=e=>{var t=tc();b(()=>{xe(t,"src",a().image),we(t,i(A)),xe(t,"loading",d()?"eager":"lazy")}),u(e,t)};Y(o,e=>{a().imageSourceTooltip?e(l):e(r,!1)}),u(e,t)};Y(f,e=>{a().image&&!o.row?.addonImageRemoved&&e(w)}),b(()=>{we(l,`max-width: ${100-i(k)}%`),we(m,`max-width: ${i(k)??""}%`)}),u(e,t)};Y(e,e=>{3===a().template&&e(l)},t)};Y(l,e=>{2===a().template?e(r):e(n,!1)}),u(e,t)};Y(l,e=>{a().template>=4||1===a().template||n()<=960?e(r):e(c,!1)}),b(()=>we(t,i(O))),u(e,t)};Y(e,e=>{(app.showAllAddons>0||a().showAddon||Si(a().requireds))&&e(l)},t)};Y(V,e=>{r()?e(N):e(z,!1)}),u(e,W),g()}function ac(e,o){t(o,!0);const[i,l]=Ve();let r=h(o,"choice",7);ks(e,{get options(){return We(Lo,"$optimizedGroups",i)},getOptionLabel:function(e){let t=uo.get(e);return void 0!==t?`${t.id} | ${t.name}`:""},label:"Group",toggle:!0,showMenuWithNoInput:!0,textfield$variant:"filled",class:"col-12 on-top",onSMUIAutocompleteSelected:function(e){let t=uo.get(e.detail);void 0!==t&&-1===t.elements.indexOf(r().id)&&t.elements.push(r().id)},onSMUIAutocompleteDeselected:function(e){let t=uo.get(e.detail);if(void 0!==t){let e=t.elements.indexOf(r().id);-1!==e&&t.elements.splice(e,1)}},get value(){return r().groups[o.index]},set value(e){r().groups[o.index]=e}}),g(),l()}he(["click"]);var nc=n('<i class="mdi mdi-minus"></i>'),sc=n('<i class="mdi mdi-plus"></i>'),dc=n('<div class="px-5 w-100"><!></div>'),cc=n('<div class="d-row justify-space-around w-100"><!> <div translate="no"> </div> <!></div> <!>',1);function uc(e,r){t(r,!0);let a=l(0),n=Q(()=>{if(r.choice.isMultipleUseVariable)return r.choice.multipleUseVariable;if(void 0!==r.choice.multipleScoreId){let e=no.get(r.choice.multipleScoreId);if(void 0!==e)return e.startingSum}return 0});function s(e){e.stopPropagation(),r.selectedOneMore()}function d(e){e.stopPropagation(),r.selectedOneLess()}function h(){const e=i(a)-i(n);for(let t=0;t<Math.abs(e);t++)e>0?r.selectedOneMore():r.selectedOneLess();document.activeElement?.blur()}o(()=>{r.choice.useSlider&&c(a,i(n),!0)});var p=M(),m=D(p),f=e=>{var t=cc(),o=D(t),l=v(o);const g=Q(()=>!r.isEnabled);Ye(l,{class:"counter-icons",get disabled(){return i(g)},onclick:d,children:(e,t)=>{var o=nc();b(()=>we(o,r.multiChoiceButton)),u(e,o)},$$slots:{default:!0}});var p=X(l,2),m=v(p),f=X(p,2);const w=Q(()=>!r.isEnabled);Ye(f,{class:"counter-icons",get disabled(){return i(w)},onclick:s,children:(e,t)=>{var o=sc();b(()=>we(o,r.multiChoiceButton)),u(e,o)},$$slots:{default:!0}});var I=X(o,2),x=e=>{var t=dc(),o=v(t);const l=Q(()=>!r.isEnabled);st(o,{get min(){return r.choice.numMultipleTimesMinus},get max(){return r.choice.numMultipleTimesPluss},step:1,class:"mx-2",onpointerup:h,get disabled(){return i(l)},discrete:!0,get value(){return i(a)},set value(e){c(a,e,!0)}}),u(e,t)};Y(I,e=>{r.choice.useSlider&&e(x)}),b(()=>{we(p,r.multiChoiceText),re(m,i(n))}),u(e,t)};Y(m,e=>{r.choice.hideCounterUntilSelect&&0===r.choice.multipleUseVariable||e(f)}),u(e,p),g()}var gc=n('<i class="mdi mdi-chevron-up"></i>'),vc=n('<i class="mdi mdi-key-plus"></i>'),hc=n('<i class="mdi mdi-clipboard-outline"></i>'),pc=n('<i class="mdi mdi-chevron-down"></i>'),mc=n("<!> <!>",1),fc=n("<div><!> <!></div>"),bc=n('<div class="pb-1"><div class="d-row justify-space-between overflow-auto"><!> <div class="d-flex"><!> <!></div> <!></div> <div class="row gx-3"><!> <!> <!> <!></div> <div class="row gx-3"><div><!> <!></div> <div><!> <!></div></div> <div class="row gy-3 p-2"></div> <div class="row gx-3"><!> <!></div></div>'),wc=n('<img class="me-1" alt=""/>'),Ic=n('<img class="mx-1" alt=""/>'),xc=n('<img class="mx-1" alt=""/>'),$c=n('<img class="ms-1" alt=""/>'),Tc=n("<!> <!> <!> <!> <!> <!> <!>",1),yc=n('<div class="row m-0"><div class="col-12 p-0 m-0 d-flex align-items-center justify-center"><p><!></p></div></div>');function Cc(e,o){t(o,!0);const[r,a]=Ve();let n=h(o,"isEditModeOn",3,!1),d=h(o,"score",7),p=h(o,"num",3,0),m=l(0),f=Q(()=>i(m)>300?"col-6":"col-12"),x=Q(()=>i(m)>400?"col-6":"col-12"),$=Q(()=>$i("privateTextIsOn",o.row,o.choice)),T=Q(()=>$i("privateFilterIsOn",o.row,o.choice)),y=Q(()=>no.get(d().id)),C=Q(()=>Si(o.choice.requireds)),B=Q(()=>{let e=[];return e.push(`${d().afterText}`),d().discountIsOn&&d().discountShow&&void 0!==d().discountAfterText&&e.push(`${d().discountAfterText}`),e.join(" ")}),S=Q(()=>{let e=[];return e.push(`${d().beforeText}`),d().discountIsOn&&d().discountShow&&void 0!==d().discountBeforeText&&e.push(`${d().discountBeforeText}`),e.join(" ")}),k=Q(()=>d().hideValue?"":d().isRandom&&!d().setValue&&void 0!==d().maxValue?d().maxValue<0?`${i(F)} ~ ${i(R)}`:`${i(R)} ~ ${i(F)}`:`${i(O)}`),O=Q(()=>{let e=d().discountShow&&void 0!==d().discountScore?d().discountScore:d().value;if(e=Math.abs(e),e=i(y)?.allowFloat?e%1==0?e:parseFloat(e.toFixed(void 0!==i(y).decimalPlaces?i(y).decimalPlaces:2)):Math.floor(e),i(y)?.plussOrMinusAdded){return`${i(y).plussOrMinusInverted?i(A)?"-":"+":i(A)?"+":"-"}${e}`}return`${e}`}),F=Q(()=>{if(void 0!==d().maxValue){let e=d().maxValue<0,t=Math.abs(d().maxValue);if(t=i(y)?.allowFloat?t%1==0?t:parseFloat(t.toFixed(void 0!==i(y).decimalPlaces?i(y).decimalPlaces:2)):Math.floor(t),i(y)?.plussOrMinusAdded){return`${i(y).plussOrMinusInverted?e?"-":"+":e?"+":"-"}${t}`}return`${t}`}return""}),R=Q(()=>{if(void 0!==d().minValue){let e=d().minValue<0,t=Math.abs(d().minValue);if(t=i(y)?.allowFloat?t%1==0?t:parseFloat(t.toFixed(void 0!==i(y).decimalPlaces?i(y).decimalPlaces:2)):Math.floor(t),i(y)?.plussOrMinusAdded){return`${i(y).plussOrMinusInverted?e?"-":"+":e?"+":"-"}${t}`}return`${t}`}return""}),A=Q(()=>d().discountShow?(void 0!==d().discountScore?d().discountScore:d().value)<0:d().value<0),j=Q(()=>{let e=[];return e.push(`font-family: ${i($).scoreText}; font-size: ${i($).scoreTextSize}%; text-align: ${i($).scoreTextAlign};`),i(y)?.pointColorsIsOn?i(A)?e.push(`color: ${Pl(i(y).positiveColor)};`):e.push(`color: ${Pl(i(y).negativeColor)};`):e.push(`color: ${Pl(i($).scoreTextColor)};`),i(C)?o.choice.isActive&&i(T).selScoreTextColorIsOn&&e.push(`color: ${Pl(i(T).selFilterSTextColor)}`):i(T).reqScoreTextColorIsOn&&e.push(`color: ${Pl(i(T).reqFilterSTextColor)}`),e.join(" ")}),P=Q(()=>i(y)?.negativeIconIsOn&&i(A)),q=Q(()=>i(P)?i(y)?.negativeImageSidePlacement:i(y)?.imageSidePlacement),L=Q(()=>i(P)?i(y)?.negativeImageOnSide:i(y)?.imageOnSide),W=Q(()=>(i(P)?i(y)?.negativeImage:i(y)?.image)||""),V=Q(()=>(i(P)?i(y)?.negativeIconWidth:i(y)?.iconWidth)||0),N=Q(()=>(i(P)?i(y)?.negativeIconHeight:i(y)?.iconHeight)||0),z=Q(()=>!i(q)&&!i(L)),U=Q(()=>!i(q)&&i(L)),G=Q(()=>i(q)&&!i(L)),E=Q(()=>i(q)&&i(L));function H(){p()<o.choice.scores.length-1&&o.choice.scores.splice(p(),2,o.choice.scores[p()+1],o.choice.scores[p()])}function _(){p()>0&&o.choice.scores.splice(p()-1,2,o.choice.scores[p()],o.choice.scores[p()-1])}function J(){app.tmpScore.length=0,app.tmpScore.push(d()),Co.labelText="Copied to clipboard.",Co.isOpen=!0}function Z(e){let t=no.get(e);return void 0!==t?`${t.id} | ${t.name}`:""}var K=M(),ee=D(K),te=e=>{var t=bc(),l=v(t),a=v(l);Dt(a,{text:"Move Up",children:(e,t)=>{Ye(e,{onclick:_,children:(e,t)=>{var o=gc();u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var n=X(a,2),s=v(n);Dt(s,{text:"Create New Reqruirement",children:(e,t)=>{Ye(e,{onclick:()=>{yo.data=d(),yo.currentDialog="appRequirement"},children:(e,t)=>{var o=vc();u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var g=X(s,2);Dt(g,{text:"Copy Score",children:(e,t)=>{Ye(e,{onclick:J,children:(e,t)=>{var o=hc();u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var h=X(n,2);Dt(h,{text:"Move Down",children:(e,t)=>{Ye(e,{onclick:H,children:(e,t)=>{var o=pc();u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var p=X(l,2),$=v(p);Se($,{class:"col-12",label:e=>{var t=le("Prevent Recalculation");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return d().isNotRecalculatable??!1},set checked(e){var t;t=e,d().isNotRecalculatable=t},onchange:()=>{d().isNotRecalculatable||delete d().isNotDiscountable}})},$$slots:{label:!0,default:!0}});var T=X($,2);{const e=e=>{var t=le("Prevent Discount");u(e,t)};Se(T,{get class(){return i(f)},label:e,children:(e,t)=>{ze(e,{get checked(){return d().isNotDiscountable??!1},set checked(e){var t;t=e,d().isNotDiscountable=t},onchange:()=>{d().isNotDiscountable||delete d().isNotDiscountable}})},$$slots:{label:!0,default:!0}})}var C=X(T,2);{const e=e=>{var t=le("Enable Random");u(e,t)};Se(C,{get class(){return i(f)},label:e,children:(e,t)=>{ze(e,{get checked(){return d().isRandom??!1},set checked(e){var t;t=e,d().isRandom=t},onchange:()=>{d().isRandom?(d().minValue=0,d().maxValue=0,d().setValue=!1):(delete d().isRandom,delete d().minValue,delete d().maxValue,delete d().setValue)}})},$$slots:{label:!0,default:!0}})}var B=X(C,2),S=e=>{Se(e,{class:"col-12",label:e=>{var t=le("Muliply by number of selections");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return d().multiplyByTimes??!1},set checked(e){var t;t=e,d().multiplyByTimes=t},onchange:()=>{d().multiplyByTimes||delete d().multiplyByTimes}})},$$slots:{label:!0,default:!0}})};Y(B,e=>{o.choice?.isSelectableMultiple&&e(S)});var k=X(p,2),O=v(k),F=v(O);ks(F,{get options(){return We(Wo,"$optimizedPointTypes",r)},getOptionLabel:Z,label:"Point Type",toggle:!0,showMenuWithNoInput:!0,textfield$variant:"filled",class:"col-12 my-1",get value(){return d().id},set value(e){d().id=e}});var R=X(F,2),A=e=>{var t=mc(),o=D(t);Jl(o,{class:"mb-1",get value(){return d().minValue??0},set value(e){var t;t=e,d().minValue=t},onchange:()=>{d().minValue&&!i(y)?.allowFloat&&(d().minValue=Math.floor(d().minValue))},label:"Minimum Value",type:"number",variant:"filled"});var l=X(o,2);Jl(l,{class:"mb-1",get value(){return d().maxValue??0},set value(e){var t;t=e,d().maxValue=t},onchange:()=>{d().maxValue&&!i(y)?.allowFloat&&(d().maxValue=Math.floor(d().maxValue))},label:"Maximum Value",type:"number",variant:"filled"}),u(e,t)},j=e=>{Jl(e,{class:"mb-1",onchange:()=>{i(y)?.allowFloat||(d().value=Math.floor(d().value))},label:"Value",type:"number",variant:"filled",get value(){return d().value},set value(e){d().value=e}})};Y(R,e=>{d().isRandom?e(A):e(j,!1)});var M=X(O,2),P=v(M);Jl(P,{class:"my-1",label:"Text Before",variant:"filled",get value(){return d().beforeText},set value(e){d().beforeText=e}}),Jl(X(P,2),{class:"mb-1",label:"Text After",variant:"filled",get value(){return d().afterText},set value(e){d().afterText=e}});var q=X(k,2);Ee(q,21,()=>d().requireds,He,(e,t,o)=>{var l=fc(),r=v(l);Fd(r,{get required(){return i(t)},isEditModeOn:!0,get data(){return d()},index:o,isNotShown:!0});var a=X(r,2);ue(a,{onclick:()=>d().requireds.splice(o,1),class:"w-100",variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Delete");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}}),b(()=>w(l,1,`${(i(t).requireds.length>0?"col-12":i(x))??""} p-2`)),u(e,l)});var L=X(q,2),W=v(L);{const e=e=>{var t=le("Show Score");u(e,t)};Se(W,{get class(){return i(f)},label:e,children:(e,t)=>{ze(e,{get checked(){return d().showScore},set checked(e){d().showScore=e}})},$$slots:{label:!0,default:!0}})}var V=X(W,2);{const e=e=>{var t=le("Hide Value");u(e,t)};Se(V,{get class(){return i(f)},label:e,children:(e,t)=>{ze(e,{get checked(){return d().hideValue??!1},set checked(e){var t;t=e,d().hideValue=t},onchange:()=>{d().hideValue||delete d().hideValue}})},$$slots:{label:!0,default:!0}})}b(()=>{w(O,1,I(i(f))),w(M,1,I(i(f)))}),at(t,"clientWidth",e=>c(m,e)),u(e,t)},oe=(e,t)=>{var o=e=>{var t=yc(),o=v(t),l=v(o),r=v(l),a=e=>{var t=Tc(),o=D(t),l=e=>{var t=wc();b(()=>{xe(t,"src",i(W)),we(t,`width: ${i(V)??""}px; height: ${i(N)??""}px;`)}),u(e,t)};Y(o,e=>{i(z)&&e(l)});var r=X(o,2);s(r,()=>nt.sanitize(i(S),xo));var a=X(r,2),n=e=>{var t=Ic();b(()=>{xe(t,"src",i(W)),we(t,`width: ${i(V)??""}px; height: ${i(N)??""}px;`)}),u(e,t)};Y(a,e=>{i(U)&&e(n)});var d=X(a,2);s(d,()=>nt.sanitize(i(k),xo));var c=X(d,2),g=e=>{var t=xc();b(()=>{xe(t,"src",i(W)),we(t,`width: ${i(V)??""}px; height: ${i(N)??""}px;`)}),u(e,t)};Y(c,e=>{i(G)&&e(g)});var v=X(c,2);s(v,()=>nt.sanitize(i(B),xo));var h=X(v,2),p=e=>{var t=$c();b(()=>{xe(t,"src",i(W)),we(t,`width: ${i(V)??""}px; height: ${i(N)??""}px;`)}),u(e,t)};Y(h,e=>{i(E)&&e(p)}),u(e,t)},n=e=>{var t=M(),o=D(t);s(o,()=>nt.sanitize(`${i(S)} ${i(k)} ${i(B)}`,xo)),u(e,t)};Y(r,e=>{i(y)?.iconIsOn?e(a):e(n,!1)}),b(()=>{we(o,i(j)),w(l,1,`m-0 d-flex align-items-center ${""!==d().id}`)}),u(e,t)};Y(e,e=>{(function(){if(d().showScore){if(void 0!==i(y)&&i(y).isNotShownObjects){if(void 0!==i(y).activatedId&&""!==i(y).activatedId){let e=go.get(i(y).activatedId),t=ho.get(i(y).activatedId);return void 0!==e?Si(e.requireds):void 0!==t?t.isTrue:Ci(i(y).activatedId)}return!1}return!0}return!1})()&&Si(d().requireds)&&e(o)},t)};Y(ee,e=>{n()?e(te):e(oe,!1)}),u(e,K),g(),a()}var Bc=n("<i></i>"),Sc=n('<button type="button" class="btn--image-background"><img alt="" loading="lazy" class="btn--image" style="max-height: 175px"/></button>'),kc=n('<div class="row g-1 px-2 pb-2"><div class="col-12"><!></div></div>'),Oc=n("<i></i>"),Fc=n('<div class="col-12 p-0"><!> <!></div>'),Rc=n('<div class="row gy-4"></div>'),Ac=n("<!> <!>",1),jc=n('<div class="col-12 p-0"><!> <!></div>'),Mc=n('<div class="row gy-4"><!> <div class="col-12 p-0 mt-0"><!></div> <!></div>'),Dc=n("<!> <!>",1),Pc=n("<div><!> <!></div>"),qc=n('<div class="row"></div>'),Lc=n("<!> <!>",1),Wc=n('<div class="col-12 p-0 pb-2"><!> <!></div>'),Vc=n('<div class="row"></div>'),Nc=n("<!> <!>",1),zc=n("<!> <!>",1),Uc=n('<div class="col-12 m-1">The point type used here should only be used for this choice.</div> <div class="col-12 m-1 px-2"><!></div>',1),Gc=n('<!> <!> <!> <!> <!> <!> <div class="col-12 m-1 px-2"><!> <!></div> <div class="b-line"></div>',1),Ec=n('<div class="row gy-3"><!> <!> <!> <!> <!> <!> <!></div>'),Hc=n("<!> <!>",1),_c=n("<!> <!>",1),Jc=n('<!> <!> <!> <div class="col-12 m-1 px-4">Using the same ID multiple times may cause issues. You can use comma to activate multiple choices (ID,ID,ID/ON#1).</div> <div class="col-12 m-1 px-2"><!> <!></div> <div class="b-line"></div>',1),Yc=n('<div class="col-12 m-1 px-4">Using the same ID multiple times may cause issues. You can use comma to activate multiple choices (ID,ID,ID/ON#1).</div> <div class="col-12 m-1 px-2"><!></div> <div class="b-line"></div>',1),Xc=n('<div class="col-12 m-1 px-2"><!></div>'),Zc=n("<!> <div><!></div> <div><!></div>",1),Kc=n("<!> <!>",1),Qc=n('<!> <!> <!> <!> <!> <!> <div class="col-12 m-1 px-4">Do not select choices that are already included in the selected rows.</div> <div class="col-12 m-1 px-2"><!> <!></div> <div><!></div> <div><!></div> <div class="b-line"></div>',1),eu=n('<!> <!> <div class="col-12 m-1 px-4">IDs in the duplicated row will have a suffix (e.g., /D#n).</div> <div class="col-12 m-1 px-2"><!> <!></div> <div class="b-line"></div>',1),tu=n('<div class="col-12 m-1 px-2"><!> <!></div> <div class="b-line"></div>',1),ou=n('<div class="col-12 m-1 px-2"><!> <!></div> <div class="b-line"></div>',1),iu=n('<!> <div class="col-12 m-1 px-4">Using the same ID multiple times may cause issues. You can use comma to change multiple items (ID,ID,ID).</div> <div class="col-12 pe-1"><!></div> <div class="col-12 mt-0 m-1 px-2"><!></div> <div class="b-line"></div>',1),lu=n('<div class="col-12 m-1 px-4">Using the same ID multiple times may cause issues. You can use comma to change multiple items (ID,ID,ID).</div> <div class="col-12 pe-1"><!></div> <div class="col-12 mt-0 m-1 px-2"><!></div> <div class="b-line"></div>',1),ru=n('<div class="row gy-3"><!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!></div>'),au=n("<!> <!>",1),nu=n("<!> <!>",1),su=n('<!> <div class="col-12 m-1 px-2"><!></div> <div class="b-line"></div>',1),du=n('<div class="col-12 m-1 px-4"><!></div>'),cu=n('<div class="col-12 m-1 px-4"><!></div>'),uu=n('<div class="col-12 m-1 px-4"><!></div>'),gu=n('<!> <!> <!> <!> <!> <!> <div class="b-line"></div>',1),vu=n('<button type="button" class="btn--image-background"><img alt="" loading="lazy" class="btn--image" style="max-height: 175px"/></button>'),hu=n('<div class="col-12 px-5 py-3"><!> <!></div>'),pu=n('<div class="col-12 m-1 px-4"><!></div>'),mu=n('<!> <!> <div class="b-line"></div>',1),fu=n('<!> <!> <!> <div class="col-12 m-1 px-4">Enter only the YouTube video ID (e.g., naktUDBaHuw), not the full URL.</div> <div class="col-12 m-1 px-2"><!> <!> <!></div> <div class="b-line"></div>',1),bu=n('<div class="col-12 m-1 px-4"><!></div> <div class="col-12 m-1 px-2"><!></div> <div class="col-12 m-1 px-2"><!></div>',1),wu=n('<div class="row gy-3"><!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!></div>'),Iu=n("<!> <!>",1),xu=n("<!> <!>",1),$u=n('<!> <div class="col-12 m-1 px-2"><!> <!></div> <div class="b-line"></div>',1),Tu=n('<div class="col-12 m-1 px-2"><!> <!></div> <div class="b-line"></div>',1),yu=n('<div class="col-12 m-1 px-2"><!> <!></div> <div class="b-line"></div>',1),Cu=n('<!> <div class="col-12 m-1 px-2"><!> <!> <!></div> <div class="b-line"></div>',1),Bu=n('<div class="col-12 m-1 px-2"><!></div> <div class="b-line"></div>',1),Su=n('<div class="row gy-3"><!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!></div>'),ku=n("<!> <!>",1),Ou=n("<!> <!> <!> <!>",1),Fu=n("<!> <!>",1),Ru=n("<!> <!> <!> <!> <!>",1),Au=n('<div class="toolbar justify-space-around"></div> <div class="py-3 px-5 col-12"><!> <!></div> <div class="row gx-1 p-2"><div class="col-12"><!></div></div> <div class="row g-1 px-2 pb-2"><div><!></div> <div><!></div></div> <!> <div class="row g-1 px-2 pb-2"><div><!></div> <div><!></div></div> <div class="toolbar justify-space-around"></div> <!>',1),ju=n('<div><div class="container-fluid gx-0"><!></div></div>'),Mu=n('<div class="col-12"><!></div>'),Du=n('<img alt=""/>'),Pu=n('<img alt=""/>'),qu=n('<h3 class="m-0"><!></h3>'),Lu=n('<img alt=""/>'),Wu=n('<img alt=""/>'),Vu=n('<p class="mb-0"><!></p>'),Nu=n('<img alt=""/>'),zu=n('<img alt=""/>'),Uu=n('<span class="d-column w-100 p-0 align-items-center"><!> <!> <span class="w-100"><!> <!> <!> <!> <!> <!> <!> <!> <!> <!></span> <div></div> <!></span>'),Gu=n('<img alt=""/>'),Eu=n('<img alt=""/>'),Hu=n('<h2 class="mb-0"><!></h2>'),_u=n('<p class="mb-0"><!></p>'),Ju=n("<div></div> <!>",1),Yu=n('<div class="col-12 text-center"><div></div> <!></div>'),Xu=n('<div class="col p-0 text-center"><!></div> <div class="col p-0 text-center"><!> <!> <!> <!> <!> <!> <!> <!> <!></div> <!>',1),Zu=n('<h2 class="mb-0"><!></h2>'),Ku=n('<p class="mb-0"><!></p>'),Qu=n("<div></div> <!>",1),eg=n('<img alt=""/>'),tg=n('<img alt=""/>'),og=n('<div class="col-12 text-center"><div></div> <!></div>'),ig=n('<div class="col p-0 text-center"><!> <!> <!> <!> <!> <!> <!> <!> <!></div> <div class="col p-0 text-center"><!></div> <!>',1),lg=n("<div><span><span><!></span></span></div>"),rg=n("<!> <!>",1);function ag(e,o){t(o,!0);const[r,a]=Ve(),n=()=>We(Ao,"$winWidth",r),d=()=>We(Wo,"$optimizedPointTypes",r),p=h(o,"row",7),m=h(o,"choice",7),f=h(o,"preloadImages",3,!1),$=[{action:()=>{var e,t;o.index>0&&(e=[p().objects[o.index],p().objects[o.index-1]],t=ct(e,2),p().objects[o.index-1]=t[0],p().objects[o.index]=t[1],p().objects[o.index-1].index-=1,p().objects[o.index].index+=1)},text:"Move Left",icon:"mdi mdi-chevron-left"},{action:()=>{!function(){function e(){const e=m().index;if(m().backpackBtnRequirement&&(m().isActive&&(app.btnBackpackIsOn-=1),app.hideBackpackBtn-=1),m().showAllAddons&&m().isActive&&(app.showAddons-=1),m().groups)for(let t=0;t<m().groups.length;t++){let e=uo.get(m().groups[t]);if(void 0!==e){let t=e.elements.indexOf(m().id);-1!==t&&e.elements.splice(t,1)}}if(m().objectDesignGroups)for(let t=0;t<m().objectDesignGroups.length;t++){let e=mo.get(m().objectDesignGroups[t]);if(void 0!==e){let t=e.elements.indexOf(m().id);-1!==t&&e.elements.splice(t,1)}}lo.delete(m().id),ro.delete(m().id),p().objects.splice(o.index,1),co.delete(m().id);for(let t=e;t<p().objects.length;t++)p().objects[t].index=t}app.checkDeleteObject?(yo.currentDialog="dlgCommon",yo.row=p(),yo.context="Are you sure you want to delete this choice?<br>Be sure to deselect this choice before delete.",yo.title="",yo.cFunc=t=>{"accept"===t.detail.action&&e()}):e()}()},text:"Delete Choice",icon:"mdi mdi-delete-forever"},{action:()=>{yo.currentDialog="appObjectSettings",yo.row=p(),yo.choice=m()},text:"Choice Settings",icon:"mdi mdi-cog"},{action:()=>{!function(){const e=ui(0,app.objectIdLength),t=JSON.parse(JSON.stringify(m()));t.id=e,t.index=o.index+1,t.isActive=!1,delete t.forcedActivated;for(let o=0;o<t.scores.length;o++){const e=t.scores[o];e.idx=mi(0,5),fo.add(e.idx),delete e.isActive,delete e.setValue,delete e.discountIsOn,delete e.discountShow,delete e.discountBeforeText,delete e.discountAfterText,delete e.discountScore,delete e.discountScoreCal,delete e.isChangeDiscount,delete e.tmpDisScore,delete e.tmpDiscount,delete e.discountedFrom,delete e.dupTextA,delete e.dupTextB,delete e.discountTextA,delete e.discountTextB,delete e.notStackableDiscount}for(let o=0;o<t.addons.length;o++){t.addons[o].parentId=t.id}t.backpackBtnRequirement&&(void 0!==app.hideBackpackBtn?app.hideBackpackBtn+=1:delete t.backpackBtnRequirement);p().objects.splice(o.index+1,0,t),co.set(e,{choice:p().objects[o.index+1],row:p()});for(let i=o.index+2;i<p().objects.length;i++)p().objects[i].index+=1;if(t.groups)for(let o=0;o<t.groups.length;o++){let i=uo.get(t.groups[o]);if(void 0!==i){-1===i.elements.indexOf(e)&&i.elements.push(e)}}if(t.objectDesignGroups)for(let o=0;o<t.objectDesignGroups.length;o++){let i=mo.get(t.objectDesignGroups[o]);if(void 0!==i){-1===i.elements.indexOf(e)&&i.elements.push(e)}}}()},text:"Clone Choice",icon:"mdi mdi-content-copy"},{action:()=>{var e,t;o.index<p().objects.length-1&&(e=[p().objects[o.index+1],p().objects[o.index]],t=ct(e,2),p().objects[o.index]=t[0],p().objects[o.index+1]=t[1],p().objects[o.index].index-=1,p().objects[o.index+1].index+=1)},text:"Move Right",icon:"mdi mdi-chevron-right"}],T=[{action:()=>{m().scores.push({idx:mi(0,5),id:"",value:0,type:"",requireds:[],beforeText:app.defaultBeforePoint,afterText:app.defaultAfterPoint,showScore:!0})},contextAction:e=>{e.preventDefault(),function(){if(void 0===app.tmpScore||0===app.tmpScore.length)Co.labelText="The clipboard is empty.",Co.isOpen=!0;else{const t=JSON.parse(JSON.stringify(app.tmpScore));for(var e=0;e<t.length;e++)m().scores.push(t[e])}}()},text:"L: Create Score<br>R: Paste Score",icon:"mdi mdi-numeric-9-plus-box"},{action:()=>{m().addons.push({id:"",title:app.defaultAddonTitle,text:app.defaultAddonText,template:1,image:"",requireds:[],parentId:m().id})},contextAction:e=>{e.preventDefault(),function(){if(void 0===app.tmpAddon||0===app.tmpAddon.length)Co.labelText="The clipboard is empty.",Co.isOpen=!0;else{const t=JSON.parse(JSON.stringify(app.tmpAddon));for(var e=0;e<t.length;e++)m().addons.push(t[e])}}()},text:"L: Create Addon<br>R: Paste Addon",icon:"mdi mdi-comment-plus"},{action:()=>{yo.currentDialog="appRequirement",yo.data=m()},contextAction:e=>{e.preventDefault(),function(){if(void 0===app.tmpRequired||0===app.tmpRequired.length)Co.labelText="The clipboard is empty.",Co.isOpen=!0;else{const t=JSON.parse(JSON.stringify(app.tmpRequired));for(var e=0;e<t.length;e++)m().requireds.push(t[e])}}()},text:"L: Create Requirement<br>R: Paste Requirement",icon:"mdi mdi-key-plus"},{action:()=>{m().groups.push("")},contextAction:e=>{},text:"Add To Group",icon:"mdi mdi-group"}],y=[{text:"Image top",value:1},{text:"Image left",value:2},{text:"Image right",value:3},{text:"Image bottom",value:4},{text:"Image center",value:5}],C=[{text:"+ Plus",value:"1"},{text:"- Minus",value:"2"},{text:"× Multiply",value:"3"},{text:"÷ Divide",value:"4"}],B=["Title of Choice","Image of Choice","Text of Choice","Score of Choice","Requirement of Choice","Title of Addon","Image of Addon","Text of Addon"],S=["1","2","3","4","5","6","7","8"],k=[{text:"True",value:"1"},{text:"False",value:"2"},{text:"Toggle",value:"3"}],F=["start","center","end","space-around","space-between"],R=[],A={choice:null,row:null,context:"",prevText:"",isWord:!0};let j=l(!1),P=l(!1),q=l(!1),L=l(!1),W=l(!1),V=l(!1),N=l(!1),z=l(!1),U=Q(()=>$i("privateBackgroundIsOn",p(),m())),G=Q(()=>$i("privateFilterIsOn",p(),m())),E=Q(()=>$i("privateMultiChoiceIsOn",p(),m())),H=Q(()=>$i("privateObjectImageIsOn",p(),m())),_=Q(()=>$i("privateObjectIsOn",p(),m())),Z=Q(()=>$i("privateTextIsOn",p(),m())),K=Q(()=>void 0!==i(H).objectImageBoxWidth?i(H).objectImageBoxWidth:50),ee=l(0),te=l("none"),oe="",ie=!1,ae=Q(()=>i(ee)>278?"col-6":"col-12"),ne=Q(()=>i(ee)>400?"col-6":"col-12"),se=Q(()=>Si(m().requireds)),de=Q(()=>m().addonJustify?`justify-${m().addonJustify}`:""),ce=Q(()=>m().isActive),ve=Q(()=>(!p().isEditModeOn||!o.bCreatorMode)&&i(_).objectHeight),he=Q(()=>{if(p().isResultRow){const e=co.get(m().id);if(void 0!==e)return e.row}return p()}),pe=Q(()=>o.isBackpack?We(Po,"$optimizedBackpackRows",r):We(Mo,"$optimizedRows",r)),me=Q(()=>o.isBackpack?We(qo,"$optimizedBackpackChoices",r):We(Do,"$optimizedChoices",r)),fe=Q(()=>{let e=[];return e.push(`font-family: ${i(Z).objectTitle};font-size: ${i(Z).objectTitleTextSize}%;text-align: ${i(Z).objectTitleAlign};`),!i(se)&&i(G).reqCTitleColorIsOn?e.push(`color: ${Pl(i(G).reqFilterCTitleColor)};`):i(ce)&&i(G).selCTitleColorIsOn?e.push(`color: ${Pl(i(G).selFilterCTitleColor)};`):e.push(`color: ${Pl(i(Z).objectTitleColor)};`),i(_).titlePaddingIsOn&&e.push(`padding: ${i(_).objectTextPadding}px;`),e.join(" ")}),be=Q(()=>`font-family: ${i(E).multiChoiceTextFont}; color: ${Pl(i(Z).scoreTextColor)}; font-size: ${i(E).multiChoiceTextSize}%; align-content: center;`),Ie=Q(()=>`font-size: ${i(E).multiChoiceCounterSize}%; color: ${Pl(i(Z).scoreTextColor)};`),$e=Q(()=>!m().hideMultipleCounter||i(se)),Te=Q(()=>{let e=[];return e.push(`font-family: ${i(Z).objectText};text-align: ${i(Z).objectTextAlign};font-size: ${i(Z).objectTextTextSize}%;white-space: pre-line;`),!i(se)&&i(G).reqCTextColorIsOn?e.push(`color: ${Pl(i(G).reqFilterCTextColor)};`):i(ce)&&i(G).selCTextColorIsOn?e.push(`color: ${Pl(i(G).selFilterCTextColor)};`):e.push(`color: ${Pl(i(Z).objectTextColor)};`),e.push(`padding: ${i(_).objectTextPadding}px;`),e.join(" ")}),ye=Q(()=>{const e=i(_).objectBorderRadiusIsPixels?"px":"%";let t=0,o=0,l=0,r=[];if(i(_).objectBorderImage&&r.push(`border-image: url('${i(_).objectBorderImage}') ${i(_).objectBorderImageSliceTop} ${i(_).objectBorderImageSliceRight} ${i(_).objectBorderImageSliceBottom} ${i(_).objectBorderImageSliceLeft} / ${i(_).objectBorderImageWidth}px ${i(_).objectBorderImageRepeat}; border-style: solid; padding: ${i(_).objectBorderImageWidth}px;`),i(U).objectBackgroundImage&&(r.push(`background-image: url('${i(U).objectBackgroundImage}'); ${i(U).isObjectBackgroundRepeat?"background-repeat: repeat;":i(U).isObjectBackgroundFitIn?"background-size: 100% 100%;":"background-size: cover;"}`),t=r.length),i(U).objectBgColorIsOn&&(r.push(`background-color: ${Pl(i(U).objectBgColor)};`),o=r.length),r.push(`margin: ${i(_).objectMargin}px;`),r.push(`border-radius: ${i(_).objectBorderRadiusTopLeft}${e} ${i(_).objectBorderRadiusTopRight}${e} ${i(_).objectBorderRadiusBottomRight}${e} ${i(_).objectBorderRadiusBottomLeft}${e};`),i(_).objectOverflowIsOn&&r.push("overflow: hidden;"),i(_).objectBorderIsOn||i(ce)&&i(G).selBorderColorIsOn||!i(se)&&i(G).reqBorderColorIsOn){let e=i(_).objectBorderColor;!i(se)&&i(G).reqBorderColorIsOn?e=i(G).reqFilterBorderColor:i(ce)&&i(G).selBorderColorIsOn&&(e=i(G).selFilterBorderColor),r.push(`border: ${i(_).objectBorderWidth}px ${i(_).objectBorderStyle} ${Pl(e)};`)}return i(_).objectDropShadowIsOn&&(i(_).objectUseBoxShadowIsOn?r.push(`box-shadow: ${i(_).objectDropShadowH}px ${i(_).objectDropShadowV}px ${i(_).objectDropShadowBlur}px ${Pl(i(_).objectDropShadowColor)};`):(l=r.length,r.push(`filter: drop-shadow(${i(_).objectDropShadowH}px ${i(_).objectDropShadowV}px ${i(_).objectDropShadowBlur}px ${Pl(i(_).objectDropShadowColor)})`))),0===l&&(r.push("filter:"),l=r.length),i(se)?(i(ce)?(i(G).selFilterBlurIsOn&&r.push(` blur(${i(G).selFilterBlur}px)`),i(G).selFilterBrightIsOn&&r.push(` brightness(${i(G).selFilterBright}%)`),i(G).selFilterContIsOn&&r.push(` contrast(${i(G).selFilterCont}%)`),i(G).selFilterGrayIsOn&&r.push(` grayscale(${i(G).selFilterGray}%)`),i(G).selFilterHueIsOn&&r.push(` hue-rotate(${i(G).selFilterHue}deg)`),i(G).selFilterInvertIsOn&&r.push(` invert(${i(G).selFilterInvert}%)`),i(G).selFilterOpacIsOn&&r.push(` opacity(${i(G).selFilterOpac}%)`),i(G).selFilterSaturIsOn&&r.push(` saturate(${i(G).selFilterSatur})`),i(G).selFilterSepiaIsOn&&r.push(` sepia(${i(G).selFilterGray}%)`),r.length===l?r.splice(l-1,1):r.push(";"),i(G).selBgColorIsOn&&(0!==o&&r.splice(o-1,1),i(G).selOverlayOnImage||0!==t&&r.splice(t-1,1),r.push(`background-color: ${Pl(i(G).selFilterBgColor)};`)),i(_).objectGradientIsOn&&r.push(`background-image: linear-gradient(${i(_).objectGradientOnSelect});`)):(i(G).unselFilterBlurIsOn&&r.push(` blur(${i(G).unselFilterBlur}px)`),i(G).unselFilterBrightIsOn&&r.push(` brightness(${i(G).unselFilterBright}%)`),i(G).unselFilterContIsOn&&r.push(` contrast(${i(G).unselFilterCont}%)`),i(G).unselFilterGrayIsOn&&r.push(` grayscale(${i(G).unselFilterGray}%)`),i(G).unselFilterHueIsOn&&r.push(` hue-rotate(${i(G).unselFilterHue}deg)`),i(G).unselFilterInvertIsOn&&r.push(` invert(${i(G).unselFilterInvert}%)`),i(G).unselFilterOpacIsOn&&r.push(` opacity(${i(G).unselFilterOpac}%)`),i(G).unselFilterSaturIsOn&&r.push(` saturate(${i(G).unselFilterSatur})`),i(G).unselFilterSepiaIsOn&&r.push(` sepia(${i(G).unselFilterGray}%)`),r.length===l?r.splice(l-1,1):r.push(";"),i(_).objectGradientIsOn&&r.push(`background-image: linear-gradient(${i(_).objectGradient});`)),app.isPointerCursor&&!m().isNotSelectable&&(!m().isSelectableMultiple||m().allowSelectByClick&&0===m().multipleUseVariable)&&r.push("cursor: pointer;")):(i(G).reqFilterBlurIsOn&&r.push(` blur(${i(G).reqFilterBlur}px)`),i(G).reqFilterBrightIsOn&&r.push(` brightness(${i(G).reqFilterBright}%)`),i(G).reqFilterContIsOn&&r.push(` contrast(${i(G).reqFilterCont}%)`),i(G).reqFilterGrayIsOn&&r.push(` grayscale(${i(G).reqFilterGray}%)`),i(G).reqFilterHueIsOn&&r.push(` hue-rotate(${i(G).reqFilterHue}deg)`),i(G).reqFilterInvertIsOn&&r.push(` invert(${i(G).reqFilterInvert}%)`),i(G).reqFilterOpacIsOn&&r.push(` opacity(${i(G).reqFilterOpac}%)`),i(G).reqFilterSaturIsOn&&r.push(` saturate(${i(G).reqFilterSatur})`),i(G).reqFilterSepiaIsOn&&r.push(` sepia(${i(G).reqFilterGray}%)`),r.length===l?r.splice(l-1,1):r.push(";"),i(G).reqBgColorIsOn&&(0!==o&&r.splice(o-1,1),i(G).reqOverlayOnImage||0!==t&&r.splice(t-1,1),r.push(`background-color: ${Pl(i(G).reqFilterBgColor)};`)),i(_).objectGradientIsOn&&r.push(`background-image: linear-gradient(${i(_).objectGradientOnReq});`)),r.join(" ")}),Ce=Q(()=>{let e=[];const t=i(H).objectImgBorderRadiusIsPixels?"px":"%";return e.push(`width: ${i(H).objectImageWidth}%; margin-top: ${i(H).objectImageMarginTop}%; margin-bottom: ${i(H).objectImageMarginBottom}%;`),i(H).objectImgObjectFillIsOn&&p().objectImgObjectFillHeight&&e.push(`object-fit: ${i(H).objectImgObjectFillStyle}; height: ${p().objectImgObjectFillHeight}px;`),e.push(`border-radius: ${i(H).objectImgBorderRadiusTopLeft}${t} ${i(H).objectImgBorderRadiusTopRight}${t} ${i(H).objectImgBorderRadiusBottomRight}${t} ${i(H).objectImgBorderRadiusBottomLeft}${t};`),i(H).objectImgOverflowIsOn&&e.push("overflow: hidden;"),i(H).objectImgBorderIsOn&&e.push(`border: ${i(H).objectImgBorderWidth}px ${i(H).objectImgBorderStyle} ${Pl(i(H).objectImgBorderColor)};`),e.join(" ")}),Be=Q(()=>{let e=[];return e.push(`font-family: ${i(Z).scoreText}; font-size: ${i(Z).scoreTextSize}%; text-align: ${i(Z).scoreTextAlign};`),e.push(`color: ${Pl(i(Z).scoreTextColor)};`),i(se)?m().isActive&&i(G).selScoreTextColorIsOn&&e.push(`color: ${Pl(i(G).selFilterSTextColor)}`):i(G).reqScoreTextColorIsOn&&e.push(`color: ${Pl(i(G).reqFilterSTextColor)}`),e.join(" ")}),ke=[];function Oe(){let e=m().objectWidth||p().objectWidth,t=fi(e),o="col-6"===app.objectsPerRow?2:"col-4"===app.objectsPerRow?3:4;if(n()>1280)return e;if(!(n()>720))return n()>480?1===t?"col-12":"col-6":"col-12";switch(t){case 1:return"col-12";case 2:return"col-6";case 3:return o>2?"col-4":app.objectsPerRow;case 4:return o>3?"col-3":app.objectsPerRow;default:return app.objectsPerRow}}function Fe(e,t,o,i){let l=!1;if(t.activateOtherChoice&&void 0!==t.activateThisChoice&&-1===R.indexOf(e.id)&&t.activateThisChoice.split(",").some(t=>t.split("/ON#")[0]===e.id)&&(R.push(e.id),l=!0),t.isSelectableMultiple){if(t.isMultipleUseVariable&&void 0!==t.numMultipleTimesMinus&&void 0!==t.numMultipleTimesPluss){let l=t.multipleUseVariable;if(i>0)for(let r=0;r<i;r++)_e(t,o),l++,e.isAllowDeselect||(t.numMultipleTimesMinus+=1);else if(i<0)for(let r=0;r>-1*i;r++)Je(t,o),l--,e.isAllowDeselect||(t.numMultipleTimesPluss-=1);if(t.multipleUseVariable!==l){const o=Math.abs(t.numMultipleTimesMinus-t.numMultipleTimesPluss);if(t.numMultipleTimesMinus>t.numMultipleTimePluss){const l=ro.get(t.id);i>0?(t.numMultipleTimesMinus-=o,void 0!==l?l.multiple+=o:ro.set(t.id,{multiple:o,isAllowDeselect:e.isAllowDeselect||!1})):i<0&&(void 0!==l?l.multiple-=o:ro.set(t.id,{multiple:-o,isAllowDeselect:e.isAllowDeselect||!1}))}}}}else t.isActive||qe(t,o),e.isAllowDeselect||(t.forcedActivated=!0),void 0===t.activatedFrom&&(t.activatedFrom=0),l||t.activatedFrom++;t.isActive||(delete t.forcedActivated,ro.set(t.id,{multiple:i,isAllowDeselect:e.isAllowDeselect||!1}))}function Ae(e,t,o,i){if(t.activateOtherChoice&&void 0!==t.activateThisChoice&&-1===R.indexOf(e.id)&&t.activateThisChoice.split(",").some(t=>t.split("/ON#")[0]===e.id)&&R.push(e.id),t.isSelectableMultiple){if(t.isMultipleUseVariable&&void 0!==t.numMultipleTimesMinus&&void 0!==t.numMultipleTimesPluss)if(t.isActive){if(i>0)for(let l=0;l<i;l++)e.isAllowDeselect||(t.numMultipleTimesMinus-=1),e.isNotDeactivate||Je(t,o);else if(i<0)for(let l=0;l>-1*i;l++)e.isAllowDeselect||(t.numMultipleTimesPluss+=1),e.isNotDeactivate||_e(t,o)}else{const o=ro.get(t.id);let l=0;void 0!==o?(l=o.multiple-i,0===l?ro.delete(t.id):ro.set(t.id,{multiple:l,isAllowDeselect:e.isAllowDeselect||!1})):ro.delete(t.id)}}else void 0!==t.activatedFrom?(t.activatedFrom--,t.activatedFrom<=0&&(t.isActive?(delete t.activatedFrom,delete t.forcedActivated,e.isNotDeactivate||Le(t,o)):ro.delete(t.id))):(delete t.forcedActivated,!e.isNotDeactivate&&t.isActive&&Le(t,o))}function je(e){if(void 0!==e.activateThisChoice){let t=e.activateThisChoice.split(","),o=new Map;for(let e=0;e<t.length;e++){let[i,l="0"]=t[e].split("/ON#"),r=parseInt(l),a=uo.get(i);if(void 0!==a)for(let e=0;e<a.elements.length;e++)lo.has(a.elements[e])||o.set(a.elements[e],r);else lo.has(i)||o.set(i,r)}let i=[...o.keys()],l=Math.min(i.length,e.numActivateRandom||0),r=l;for(let e=i.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1));[i[e],i[t]]=[i[t],i[e]]}let a=[];for(let n=0;n<l;){let t=i[n],s=co.get(t);if(void 0!==s){let d=s.row,c=s.choice;if(Fe(e,c,d,o.get(t)||0),!c.isActive){if(a.length<l&&i.length>r){i[n]=i[r++],void 0!==c.activatedFrom&&(c.activatedFrom--,0===c.activatedFrom&&ro.delete(c.id));continue}break}a.push(t)}n++}e.isSelectableMultiple?(void 0===e.activatedRandomMul&&(e.activatedRandomMul=[]),e.activatedRandomMul[e.multipleUseVariable-1]=[...a]):e.activatedRandom=[...a]}}function Me(e,t,o,i=new Set){Array.from(lo.entries()).forEach(([l])=>{const r=co.get(l);if(void 0!==r){const l=r.row,a=r.choice,n=new x;let s=!1;for(let o=0;o<a.scores.length;o++){const r=a.scores[o];if(!r.isNotRecalculatable){const o=no.get(r.id);if(void 0!==o){if(e.discountOther&&r.isChangeDiscount&&void 0!==r.tmpDisScore){const t=a.multipleUseVariable;if(a.isSelectableMultiple&&a.isMultipleUseVariable&&void 0!==a.numMultipleTimesMinus){for(let e=t-1;e>=0;e--)a.isActive&&(o.belowZeroNotAllowed&&o.startingSum+r.tmpDisScore<0?a.forcedActivated&&a.isActive?(a.forcedActivated=!1,a.numMultipleTimesMinus--,Je(a,l),a.forcedActivated=!0):Je(a,l):o.startingSum+=r.tmpDisScore);a.isActive&&(n.set(r.id,r.tmpDisScore),delete r.isChangeDiscount,delete r.tmpDisScore)}else if(!a.isSelectableMultiple)if(o.belowZeroNotAllowed&&o.startingSum+r.tmpDisScore<0)if(a.forcedActivated&&(delete a.forcedActivated,a.isAllowDeselect||ro.set(a.id,{multiple:a.multipleUseVariable})),a.isSelectableMultiple&&a.isMultipleUseVariable)for(let e=0;e<a.multipleUseVariable;e++)a.isActive&&Je(a,l);else a.isActive&&Le(a,l);else o.startingSum+=r.tmpDisScore,n.set(r.id,r.tmpDisScore),delete r.isChangeDiscount,delete r.tmpDisScore;0===ke.length?ke.push(`Scores Updated On: ${a.title}`):ke.push(`, ${a.title}`),s=e.id!==a.id}if(!i.has(r.idx)){const d=e.scores.length>0,c=e.scores.length||1;for(let u=0;u<c;u++){const c=d?e.scores[u]:null,g=c&&t.get(c.id)||0,v=c?no.get(c.id):null;if((!d||d&&v)&&a.isActive){const t=Si(r.requireds),d=new x(JSON.parse(JSON.stringify([...lo])));d.set(e.id,{multiple:e.multipleUseVariable}),l.currentChoices+=1,v&&(v.startingSum+=g);const c=Si(r.requireds,d);if(l.currentChoices-=1,v&&(v.startingSum-=g),c!==t){let e=r.discountIsOn&&void 0!==r.discountScore?r.discountScore:r.value;if(e=o.allowFloat?e:Math.floor(e),c)if(a.isSelectableMultiple&&a.isMultipleUseVariable&&void 0!==a.numMultipleTimesMinus){for(let t=a.multipleUseVariable-1;t>=0;t--)void 0!==r.isActiveMul&&r.isActiveMul[t]&&(o.belowZeroNotAllowed&&o.startingSum+e<0?a.forcedActivated&&a.isActive?(a.forcedActivated=!1,a.numMultipleTimesMinus--,Je(a,l),a.forcedActivated=!0):Je(a,l):(o.startingSum+=e,n.set(r.id,e),r.isActiveMul[t]=!1))}else a.isSelectableMultiple||r.isActive&&(o.belowZeroNotAllowed&&o.startingSum+e<0?(a.forcedActivated&&delete a.forcedActivated,Le(a,l)):(o.startingSum+=e,n.set(r.id,e),delete r.isActive));else if(a.isSelectableMultiple&&a.isMultipleUseVariable&&void 0!==a.numMultipleTimesMinus){const t=a.multipleUseVariable;void 0===r.isActiveMul&&(r.isActiveMul=[]);for(let i=t-1;i>=0;i--)r.isActiveMul[i]||(o.belowZeroNotAllowed&&o.startingSum+e<0?a.forcedActivated&&a.isActive?(a.forcedActivated=!1,a.numMultipleTimesMinus--,Je(a,l),a.forcedActivated=!0):Je(a,l):(o.startingSum-=e,n.set(r.id,e),r.isActiveMul[i]=!0))}else a.isSelectableMultiple||r.isActive||(o.belowZeroNotAllowed&&o.startingSum-e<0?(a.forcedActivated&&delete a.forcedActivated,Le(a,l)):(o.startingSum-=e,n.set(r.id,e),r.isActive=!0));s||(0===ke.length?ke.push(`Scores Updated On: ${a.title}`):ke.push(`, ${a.title}`),s=!0),i.add(r.idx)}}}}}}}s&&Me(a,n,++o,i)}}),ke.length>0&&!app.hideScoresUpdated&&(Co.labelText=ke.join(""),Co.isOpen=!0),ke.splice(0)}function De(e,t,o,i=new Set){Array.from(lo.entries()).forEach(([l])=>{const r=co.get(l);if(void 0!==r){const l=r.row,a=r.choice,n=new x;let s=!1;for(let o=0;o<a.scores.length;o++){const r=a.scores[o];if(!r.isNotRecalculatable){const o=no.get(r.id);if(void 0!==o){if(e.discountOther&&r.isChangeDiscount&&void 0!==r.tmpDisScore&&a.id!==e.id){const e=a.multipleUseVariable;if(a.isSelectableMultiple&&a.isMultipleUseVariable&&void 0!==a.numMultipleTimesMinus){for(let t=e-1;t>=0;t--)a.isActive&&(o.belowZeroNotAllowed&&o.startingSum+r.tmpDisScore<0?a.forcedActivated&&a.isActive?(a.forcedActivated=!1,a.numMultipleTimesMinus--,Je(a,l),a.forcedActivated=!0):Je(a,l):o.startingSum+=r.tmpDisScore);a.isActive&&(n.set(r.id,r.tmpDisScore),delete r.isChangeDiscount,delete r.tmpDisScore)}else a.isSelectableMultiple||(o.belowZeroNotAllowed&&o.startingSum+r.tmpDisScore<0?(a.forcedActivated&&delete a.forcedActivated,Le(a,l)):(o.startingSum+=r.tmpDisScore,n.set(r.id,r.tmpDisScore),delete r.isChangeDiscount,delete r.tmpDisScore));0===ke.length?ke.push(`Scores Updated On: ${a.title}`):ke.push(`, ${a.title}`),s=!0}if(!i.has(r.idx)){const d=e.scores.length>0,c=e.scores.length||1;for(let u=0;u<c;u++){const c=d?e.scores[u]:null,g=c&&t.get(c.id)||0,v=c?no.get(c.id):null;if((!d||d&&v)&&a.isActive&&!r.isChanged){const t=Si(r.requireds),d=new x(JSON.parse(JSON.stringify([...lo])));d.delete(e.id),l.currentChoices-=1,v&&(v.startingSum+=g);const c=Si(r.requireds,d);if(l.currentChoices+=1,v&&(v.startingSum-=g),c!==t){let e=r.discountIsOn&&void 0!==r.discountScore?r.discountScore:r.value;if(e=o.allowFloat?e:Math.floor(e),c)if(a.isSelectableMultiple&&a.isMultipleUseVariable&&void 0!==a.numMultipleTimesMinus){for(let t=a.multipleUseVariable-1;t>=0;t--)void 0!==r.isActiveMul&&r.isActiveMul[t]&&(o.belowZeroNotAllowed&&o.startingSum+e<0?a.forcedActivated&&a.isActive?(a.forcedActivated=!1,a.numMultipleTimesMinus--,Je(a,l),a.forcedActivated=!0):Je(a,l):(o.startingSum+=e,n.set(r.id,e),r.isActiveMul[t]=!1))}else a.isSelectableMultiple||r.isActive&&(o.belowZeroNotAllowed&&o.startingSum+e<0?(a.forcedActivated&&delete a.forcedActivated,Le(a,l)):(o.startingSum+=e,n.set(r.id,e),delete r.isActive));else if(a.isSelectableMultiple&&a.isMultipleUseVariable&&void 0!==a.numMultipleTimesMinus){const t=a.multipleUseVariable;void 0===r.isActiveMul&&(r.isActiveMul=[]);for(let i=t-1;i>=0;i--)r.isActiveMul[i]||(o.belowZeroNotAllowed&&o.startingSum+e<0?a.forcedActivated&&a.isActive?(a.forcedActivated=!1,a.numMultipleTimesMinus--,Je(a,l),a.forcedActivated=!0):Je(a,l):(o.startingSum-=e,n.set(r.id,e),r.isActiveMul[i]=!0))}else a.isSelectableMultiple||r.isActive||(o.belowZeroNotAllowed&&o.startingSum-e<0?(a.forcedActivated&&delete a.forcedActivated,Le(a,l)):(o.startingSum-=e,n.set(r.id,e),r.isActive=!0));s||(0===ke.length?ke.push(`Scores Updated On: ${a.title}`):ke.push(`, ${a.title}`),s=!0),i.add(r.idx)}}}}}}}s&&De(a,n,++o,i)}}),ke.length>0&&!app.hideScoresUpdated&&(Co.labelText=ke.join(""),Co.isOpen=!0),ke.splice(0)}function Pe(){let e=!1;Array.from(ro.entries()).forEach(([t,o])=>{const i=co.get(t);if(void 0!==i){const l=i.row,r=i.choice;r.isActive||(qe(r,l),r.isActive&&(ro.delete(t),e=!0,o.isAllowDeselect||(r.forcedActivated=!0)))}}),e&&Pe()}function qe(e,t){let o=t;if(t.isResultRow){const t=co.get(e.id);void 0!==t&&(o=t.row)}e.isSelectableMultiple?e.id===m().id&&e.allowSelectByClick&&0===e.multipleUseVariable&&_e(e,o):!Si(e.requireds)||t.isInfoRow||e.isNotSelectable||e.forcedActivated||(e.isActive?e.selectOnce||Le(e,o):Ne(e,o))}function Le(e,t){if(Li(e,!1)){const o=()=>{const o=new x;for(let t=0;t<e.scores.length;t++){const i=e.scores[t];if(Si(i.requireds)&&i.isActive||i.isActive){const e=no.get(i.id);if(void 0!==e){let t=i.discountIsOn&&void 0!==i.discountScore?i.discountScore:i.value;t=e.allowFloat?t:Math.floor(t),e.startingSum+=t;let l=o.get(i.id);void 0!==l?o.set(i.id,-t+l):o.set(i.id,-t),delete i.isActive,delete i.setValue}}}if(e.activateOtherChoice&&void 0!==e.activateThisChoice)if(e.isActivateRandom&&void 0!==e.activatedRandom){for(let t=0;t<e.activatedRandom.length;t++){const o=co.get(e.activatedRandom[t]);if(void 0!==o){const t=o.row,i=o.choice;Ae(e,i,t,0)}}delete e.activatedRandom}else{const t=e.activateThisChoice.split(",");for(let o=0;o<t.length;o++){const i=t[o].split("/ON#"),l=i.length>1?parseInt(i[1]):0,r=co.get(i[0]);if(void 0!==r){const t=r.row,o=r.choice;Ae(e,o,t,l)}else{const t=uo.get(i[0]);if(void 0!==t){const o=t.elements;for(let t=0;t<o.length;t++){const i=co.get(o[t]);if(void 0!==i){const t=i.row,o=i.choice;Ae(e,o,t,l)}}}}}}if(e.discountOther&&void 0!==e.discountOperator&&void 0!==e.discountValue)if(void 0===e.discountPointTypes&&(e.discountPointTypes=[]),e.isDisChoices){const t=new Set;if(void 0!==e.discountRows)for(let o=0;o<e.discountRows.length;o++){const i=so.get(e.discountRows[o]);if(void 0!==i)for(let o=0;o<i.objects.length;o++){const l=i.objects[o];for(let t=0;t<l.scores.length;t++){const o=l.scores[t];o.isNotDiscountable||0!==e.discountPointTypes.length&&-1===e.discountPointTypes.indexOf(o.id)||Di(e,o)}t.add(l.id)}}if(void 0!==e.discountChoices)for(let o=0;o<e.discountChoices.length;o++)if(!t.has(e.discountChoices[o])){const i=co.get(e.discountChoices[o]);if(void 0!==i){const o=i.choice;for(let l=0;l<o.scores.length;l++){const o=i.choice.scores[l];o.isNotDiscountable||0!==e.discountPointTypes.length&&-1===e.discountPointTypes.indexOf(o.id)||t.has(o.idx)||Di(e,o)}}}}else if(void 0!==e.discountGroups)for(let t=0;t<e.discountGroups.length;t++){const o=uo.get(e.discountGroups[t]);if(void 0!==o)for(let t=0;t<o.elements.length;t++){const i=co.get(o.elements[t]);if(void 0!==i)for(let t=0;t<i.choice.scores.length;t++){const o=i.choice.scores[t];o.isNotDiscountable||0!==e.discountPointTypes.length&&-1===e.discountPointTypes.indexOf(o.id)||Di(e,o)}}}if(e.isActive=!1,t.currentChoices-=1,lo.delete(e.id),Array.from(lo.entries()).forEach(([t,o])=>{const i=co.get(t);if(void 0!==i){const t=i.row,l=i.choice;if(l.id!==e.id&&!Si(l.requireds))if(l.forcedActivated&&(delete l.forcedActivated,l.isAllowDeselect||ro.set(l.id,{multiple:o.multiple})),0===o.multiple)l.isActive&&Le(l,t);else if(o.multiple>0)for(let e=0;e<o.multiple;e++)l.isActive&&Je(l,t)}}),e.multiplyPointtypeIsOnCheck&&void 0!==e.pointTypeToMultiply){let t=0;for(let o=0;o<e.pointTypeToMultiply.length;o++){let i=no.get(e.pointTypeToMultiply[o]);if(void 0!==i){for(let l=bo.length-1;l>=0;l--){let r=bo[l];if(r.multiplyPointtypeIsOnCheck&&void 0!==r.startingSumAtMultiply){let e=r.startingSumAtMultiply[o].value*r.startingSumAtMultiply[o].calcVal;e=i.allowFloat?e:Math.floor(e),i.startingSum-=e,i.startingSum+=r.startingSumAtMultiply[o].value}if(r.dividePointtypeIsOnCheck&&void 0!==r.startingSumAtDivide){let e=r.startingSumAtDivide[o].value/r.startingSumAtDivide[o].calcVal;e=i.allowFloat?e:Math.floor(e),i.startingSum-=e,i.startingSum+=r.startingSumAtDivide[o].value}if(r.id===e.id){t=l;break}}for(let e=t+1;e<bo.length;e++){let t=bo[e];t.multiplyPointtypeIsOnCheck&&void 0!==t.startingSumAtMultiply&&(t.startingSumAtMultiply[o].value=i.startingSum,i.startingSum*=t.startingSumAtMultiply[o].calcVal,i.startingSum=i.allowFloat?i.startingSum:Math.floor(i.startingSum)),t.dividePointtypeIsOnCheck&&void 0!==t.startingSumAtDivide&&(t.startingSumAtDivide[o].value=i.startingSum,i.startingSum/=t.startingSumAtDivide[o].calcVal,i.startingSum=i.allowFloat?i.startingSum:Math.floor(i.startingSum))}}}delete e.multiplyPointtypeIsOnCheck,delete e.startingSumAtMultiply,e.dividePointtypeIsOnCheck||bo.splice(t,1)}if(e.dividePointtypeIsOnCheck&&void 0!==e.pointTypeToDivide){let t=0;for(let o=0;o<e.pointTypeToDivide.length;o++){let i=no.get(e.pointTypeToDivide[o]);if(void 0!==i){for(let l=bo.length-1;l>=0;l--){let r=bo[l];if(r.multiplyPointtypeIsOnCheck&&void 0!==r.startingSumAtMultiply){let e=r.startingSumAtMultiply[o].value*r.startingSumAtMultiply[o].calcVal;e=i.allowFloat?e:Math.floor(e),i.startingSum-=e,i.startingSum+=r.startingSumAtMultiply[o].value}if(r.dividePointtypeIsOnCheck&&void 0!==r.startingSumAtDivide){let e=r.startingSumAtDivide[o].value/r.startingSumAtDivide[o].calcVal;e=i.allowFloat?e:Math.floor(e),i.startingSum-=e,i.startingSum+=r.startingSumAtDivide[o].value}if(r.id===e.id){t=l;break}}for(let e=t+1;e<bo.length;e++){let t=bo[e];t.multiplyPointtypeIsOnCheck&&void 0!==t.startingSumAtMultiply&&(t.startingSumAtMultiply[o].value=i.startingSum,i.startingSum*=t.startingSumAtMultiply[o].calcVal,i.startingSum=i.allowFloat?i.startingSum:Math.floor(i.startingSum)),t.dividePointtypeIsOnCheck&&void 0!==t.startingSumAtDivide&&(t.startingSumAtDivide[o].value=i.startingSum,i.startingSum/=t.startingSumAtDivide[o].calcVal,i.startingSum=i.allowFloat?i.startingSum:Math.floor(i.startingSum))}}}delete e.dividePointtypeIsOnCheck,delete e.startingSumAtDivide,bo.splice(t,1)}if(e.isChangeVariables&&void 0!==e.changedVariables)for(let t=0;t<e.changedVariables.length;t++){const o=ho.get(e.changedVariables[t]);void 0!==o&&("1"===e.changeType?o.isTrue=!1:"2"===e.changeType?o.isTrue=!0:"3"===e.changeType&&(o.isTrue=!o.isTrue))}if(e.addToAllowChoice&&void 0!==e.idOfAllowChoice&&void 0!==e.numbAddToAllowChoice)for(let t=0;t<e.idOfAllowChoice.length;t++){const o=so.get(e.idOfAllowChoice[t]);if(void 0!==o&&(o.allowedChoices-=e.numbAddToAllowChoice,o.allowedChoices>0&&o.currentChoices>=o.allowedChoices))for(let e=0;e<o.objects.length;e++){const t=o.objects[e];if(t.isActive&&!t.forcedActivated)if(t.isSelectableMultiple){let e=t.multipleUseVariable;for(let i=0;i<e;i++)Je(t,o)}else Le(t,o);if(o.allowedChoices>=o.currentChoices)break}}if(e.textfieldIsOn&&void 0!==e.idOfTheTextfieldWord&&void 0!==e.wordChangeSelect){const t=vo.get(e.idOfTheTextfieldWord);void 0!==t&&(t.replaceText=void 0===e.wordChangeDeselect?"":e.wordChangeDeselect)}if(e.isImageUpload&&void 0!==e.defaultImage&&(e.image=e.defaultImage),e.backpackBtnRequirement&&void 0!==app.btnBackpackIsOn&&(app.btnBackpackIsOn-=1),e.showAllAddons&&void 0!==app.showAllAddons&&(app.showAllAddons-=1),e.changeBackground)if(e.changeBgImage){if(void 0!==app.bgImageStack){const t=app.bgImageStack.findIndex(t=>t.id===e.id);-1!==t&&app.bgImageStack.splice(t,1);const o=app.bgImageStack.length;o>0?app.styling.backgroundImage=app.bgImageStack[o-1].data:(app.styling.backgroundImage=app.defaultBgImage||"",delete app.bgImageStack)}}else if(void 0!==e.changedBgColorCode&&void 0!==app.bgColorStack){const t=app.bgColorStack.findIndex(t=>t.id===e.id);-1!==t&&app.bgColorStack.splice(t,1);const o=app.bgColorStack.length;o>0?app.styling.backgroundColor=app.bgColorStack[o-1].data:(app.styling.backgroundColor=app.defaultBgColor||"#FFFFFFFF",delete app.bgColorStack)}if(e.changePointBar){if(e.changeBarBgColorIsOn&&void 0!==e.changedBarBgColor&&void 0!==app.barBgColorStack){const t=app.barBgColorStack.findIndex(t=>t.id===e.id);-1!==t&&app.barBgColorStack.splice(t,1);const o=app.barBgColorStack.length;o>0?app.styling.barBackgroundColor=app.barBgColorStack[o-1].data:(app.styling.barBackgroundColor=app.defaultBarBgColor||"#FFFFFFFF",delete app.barBgColorStack)}if(e.changeBarIconColorIsOn&&void 0!==e.changedBarIconColor&&void 0!==app.barIconColorStack){const t=app.barIconColorStack.findIndex(t=>t.id===e.id);-1!==t&&app.barIconColorStack.splice(t,1);const o=app.barIconColorStack.length;o>0?app.styling.barIconColor=app.barIconColorStack[o-1].data:(app.styling.barIconColor=app.defaultBarIconColor||"#0000008A",delete app.barIconColorStack)}if(e.changeBarTextColorIsOn&&void 0!==e.changedBarTextColor&&void 0!==app.barTextColorStack){const t=app.barTextColorStack.findIndex(t=>t.id===e.id);-1!==t&&app.barTextColorStack.splice(t,1);const o=app.barTextColorStack.length;o>0?app.styling.barTextColor=app.barTextColorStack[o-1].data:(app.styling.barTextColor=app.defaultBarIconColor||"#000000",delete app.barTextColorStack)}}if(e.changeTemplates&&e.changeTemplatesList&&e.changeToThisTemplate){const t=e.changeTemplatesList.split(",");for(let o=0;o<t.length;o++){const i=t[o],l=co.get(i);if(void 0!==l){const t=l.choice;if(Ol(t,e.id),e.changeAddonTemplate)for(let o=0;o<t.addons.length;o++){Ol(t.addons[o],e.id)}continue}const r=so.get(i);if(void 0!==r){Ol(r,e.id);continue}const a=uo.get(i[0]);if(void 0!==a){const t=a.rowElements;for(let i=0;i<t.length;i++){const o=so.get(t[i]);void 0!==o&&Ol(o,e.id)}const o=a.elements;for(let i=0;i<o.length;i++){const t=co.get(o[i]);if(void 0!==t){Ol(t.choice,e.id)}}continue}}}if(e.changeWidth&&e.changeWidthList&&e.changeToThisWidth){const t=e.changeWidthList.split(",");for(let o=0;o<t.length;o++){const i=t[o],l=co.get(i);if(void 0!==l){Rl(l.choice,e.id);continue}const r=so.get(i);if(void 0!==r){Rl(r,e.id);continue}const a=uo.get(i[0]);if(void 0!==a){const t=a.rowElements;for(let i=0;i<t.length;i++){const o=so.get(t[i]);void 0!==o&&Rl(o,e.id)}const o=a.elements;for(let i=0;i<o.length;i++){const t=co.get(o[i]);if(void 0!==t){Rl(t.choice,e.id)}}continue}}}if(e.setBgmIsOn&&$o&&e.bgmId&&(To.bgmIsPlaying=!1,Fi(e,e.bgmId,0)),e.muteBgm&&$o){const e=O($o);app.isMute=!1,e&&"function"==typeof e.unMute&&e.unMute()}if(e.isContentHidden&&void 0!==e.hiddenContentsRow&&void 0!==e.hiddenContentsType)for(let t=0;t<e.hiddenContentsRow.length;t++){const o=so.get(e.hiddenContentsRow[t]);if(void 0!==o)for(let t=0;t<e.hiddenContentsType.length;t++)switch(e.hiddenContentsType[t]){case"1":delete o.objectTitleRemoved;break;case"2":delete o.objectImageRemoved;break;case"3":delete o.objectTextRemoved;break;case"4":delete o.objectScoreRemoved;break;case"5":delete o.objectRequirementRemoved;break;case"6":delete o.addonTitleRemoved;break;case"7":delete o.addonImageRemoved;break;case"8":delete o.addonTextRemoved}}delete e.tempSlots,Me(e,o,0),Pe()};-1===R.indexOf(e.id)&&(e.isFadeTransition?(void 0===e.fadeTransitionColor||""===e.fadeTransitionColor?app.fadeTransitionColor="000000FF":app.fadeTransitionColor=e.fadeTransitionColor,void 0===e.fadeInTransitionTime?app.fadeTransitionTime=.25:app.fadeTransitionTime=e.fadeInTransitionTime/1e3,app.fadeTransitionIsOn=!0,window.setTimeout(()=>{void 0!==e.fadeOutTransitionTime&&(app.fadeTransitionTime=e.fadeOutTransitionTime/1e3),app.fadeTransitionIsOn=!1,o()},1e3*app.fadeTransitionTime)):o()),0===R.indexOf(e.id)&&R.splice(0)}}function Ne(e,t){let i=!0;if(t.allowedChoices>0&&t.currentChoices>=t.allowedChoices){let e=0;for(let o=0;o<t.objects.length;o++){const i=t.objects[o];if(i.isActive){if(!i.forcedActivated){if(i.isSelectableMultiple){let e=i.multipleUseVariable;for(let o=0;o<e;o++)qe(i,t)}else qe(i,t);break}e++}}e>=t.allowedChoices&&(i=!1)}if(i){for(let t=0;t<e.scores.length;t++){const o=e.scores[t],i=no.get(o.id);void 0!==i&&o.isRandom&&!o.setValue&&void 0!==o.maxValue&&void 0!==o.minValue&&(o.value=Math.floor(Math.random()*(o.maxValue-o.minValue+1))+o.minValue,o.value=i.allowFloat?o.value:Math.floor(o.value),o.setValue=!0)}if(Li(e,!0)){const i=()=>{const i=new x;if(e.isActive=!0,lo.set(e.id,{multiple:0}),t.currentChoices+=1,e.discountOther&&void 0!==e.discountOperator&&void 0!==e.discountValue)if(e.isDisChoices){const t=new Set;if(void 0!==e.discountRows)for(let o=0;o<e.discountRows.length;o++){const i=so.get(e.discountRows[o]);if(void 0!==i)for(let o=0;o<i.objects.length;o++){const l=i.objects[o];for(let t=0;t<l.scores.length;t++){const o=l.scores[t];o.isNotDiscountable||0!==e.discountPointTypes?.length&&-1===e.discountPointTypes?.indexOf(o.id)||Pi(e,o)}t.add(l.id)}}if(void 0!==e.discountChoices)for(let o=0;o<e.discountChoices.length;o++)if(!t.has(e.discountChoices[o])){const t=co.get(e.discountChoices[o]);if(void 0!==t){const o=t.choice;for(let t=0;t<o.scores.length;t++){const i=o.scores[t];i.isNotDiscountable||0!==e.discountPointTypes?.length&&-1===e.discountPointTypes?.indexOf(i.id)||Pi(e,i)}}}}else if(void 0!==e.discountGroups)for(let t=0;t<e.discountGroups.length;t++){const o=uo.get(e.discountGroups[t]);if(void 0!==o)for(let t=0;t<o.elements.length;t++){const i=co.get(o.elements[t]);if(void 0!==i)for(let t=0;t<i.choice.scores.length;t++){const o=i.choice.scores[t];o.isNotDiscountable||0!==e.discountPointTypes?.length&&-1===e.discountPointTypes?.indexOf(o.id)||Pi(e,o)}}}for(let t=0;t<e.scores.length;t++){const o=e.scores[t];if(Si(o.requireds)&&!o.isActive){const e=no.get(o.id);if(void 0!==e){let t=o.discountIsOn&&void 0!==o.discountScore?o.discountScore:o.value;t=e.allowFloat?t:Math.floor(t),e.startingSum-=t,o.isActive=!0;let l=i.get(o.id);void 0!==l?i.set(o.id,t+l):i.set(o.id,t)}}}if(e.duplicateRow&&void 0!==e.duplicateRowId&&void 0!==e.duplicateRowPlace&&Ei(e),e.activateOtherChoice&&void 0!==e.activateThisChoice)if(e.isActivateRandom)je(e);else{const t=e.activateThisChoice.split(",");for(let o=0;o<t.length;o++){const i=t[o].split("/ON#"),l=i.length>1?parseInt(i[1]):0,r=co.get(i[0]);if(void 0!==r){const t=r.row,o=r.choice;Fe(e,o,t,l)}else{const t=uo.get(i[0]);if(void 0!==t){const o=t.elements;for(let t=0;t<o.length;t++){const i=co.get(o[t]);if(void 0!==i){const t=i.row,o=i.choice;Fe(e,o,t,l)}}}}}}if(e.deactivateOtherChoice&&void 0!==e.deactivateThisChoice){const t=e.deactivateThisChoice.split(",");for(let e=0;e<t.length;e++){const o=t[e].split("/ON#"),i=o.length>1?parseInt(o[1]):0,l=co.get(o[0]);if(void 0!==l){const e=l.row,t=l.choice;if(t.isActive)if(t.isSelectableMultiple&&t.isMultipleUseVariable)for(let o=0;o<i;o++)Je(t,e);else Le(t,e)}else{const e=uo.get(o[0]);if(void 0!==e){const t=e.elements;for(let e=0;e<t.length;e++){const o=co.get(t[e]);if(void 0!==o){const e=o.row,t=o.choice;if(t.isActive)if(t.isSelectableMultiple&&t.isMultipleUseVariable)for(let o=0;o<i;o++)Je(t,e);else Le(t,e)}}}}}}if(Array.from(lo.entries()).forEach(([t,o])=>{const i=co.get(t);if(void 0!==i){const t=i.row,l=i.choice;if(l.id!==e.id&&!Si(l.requireds))if(l.forcedActivated&&(delete l.forcedActivated,l.isAllowDeselect||ro.set(l.id,{multiple:o.multiple})),0===o.multiple)l.isActive&&Le(l,t);else if(o.multiple>0)for(let e=0;e<o.multiple;e++)l.isActive&&Je(l,t)}}),e.multiplyPointtypeIsOn&&void 0!==e.pointTypeToMultiply&&void 0!==e.multiplyWithThis){let t=0;e.multiplyPointtypeIsOnCheck=!0,"object"!=typeof e.startingSumAtMultiply&&(e.startingSumAtMultiply=[]);for(let o=0;o<e.pointTypeToMultiply.length;o++){let i=no.get(e.pointTypeToMultiply[o]);if(void 0!==i)if(e.multiplyPointtypeIsId&&"string"==typeof e.multiplyWithThis){let l=no.get(e.multiplyWithThis);void 0!==l?(e.startingSumAtMultiply[o]={value:i.startingSum,calcVal:l.startingSum},i.startingSum*=l.startingSum,i.startingSum=i.allowFloat?i.startingSum:Math.floor(i.startingSum)):t++}else"number"==typeof e.multiplyWithThis&&(e.startingSumAtMultiply[o]={value:i.startingSum,calcVal:e.multiplyWithThis},i.startingSum*=e.multiplyWithThis,i.startingSum=i.allowFloat?i.startingSum:Math.floor(i.startingSum));else t++}t===e.pointTypeToMultiply.length&&delete e.multiplyPointtypeIsOnCheck,e.multiplyPointtypeIsOnCheck&&bo.push(e)}if(e.dividePointtypeIsOn&&void 0!==e.pointTypeToDivide&&void 0!==e.divideWithThis){let t=0;e.dividePointtypeIsOnCheck=!0,"object"!=typeof e.startingSumAtDivide&&(e.startingSumAtDivide=[]);for(let o=0;o<e.pointTypeToDivide.length;o++){let i=no.get(e.pointTypeToDivide[o]);if(void 0!==i)if(e.dividePointtypeIsId&&"string"==typeof e.divideWithThis){let l=no.get(e.divideWithThis);void 0!==l?0===l.startingSum?t++:(e.startingSumAtDivide[o]={value:i.startingSum,calcVal:l.startingSum},i.startingSum/=l.startingSum,i.startingSum=i.allowFloat?i.startingSum:Math.floor(i.startingSum)):t++}else"number"==typeof e.divideWithThis&&(0===e.dividedWithThis?t++:(e.startingSumAtDivide[o]={value:i.startingSum,calcVal:e.divideWithThis},i.startingSum/=e.divideWithThis,i.startingSum=i.allowFloat?i.startingSum:Math.floor(i.startingSum)));else t++}t===e.pointTypeToDivide.length&&delete e.dividePointtypeIsOnCheck,!e.multiplyPointtypeIsOnCheck&&e.dividePointtypeIsOnCheck&&bo.push(e)}if(e.isChangeVariables&&void 0!==e.changedVariables)for(let t=0;t<e.changedVariables.length;t++){const o=ho.get(e.changedVariables[t]);void 0!==o&&("1"===e.changeType?o.isTrue=!0:"2"===e.changeType?o.isTrue=!1:"3"===e.changeType&&(o.isTrue=!o.isTrue))}if(e.addToAllowChoice&&void 0!==e.idOfAllowChoice&&void 0!==e.numbAddToAllowChoice)for(let t=0;t<e.idOfAllowChoice.length;t++){const o=so.get(e.idOfAllowChoice[t]);if(void 0!==o&&(o.allowedChoices+=e.numbAddToAllowChoice,o.allowedChoices>0&&o.currentChoices>=o.allowedChoices))for(let e=0;e<o.objects.length;e++){const t=o.objects[e];if(t.isActive&&!t.forcedActivated)if(t.isSelectableMultiple){let e=t.multipleUseVariable;for(let i=0;i<e;i++)Je(t,o)}else Le(t,o);if(o.allowedChoices>=o.currentChoices)break}}if(e.textfieldIsOn&&void 0!==e.idOfTheTextfieldWord&&void 0!==e.wordChangeSelect){const t=vo.get(e.idOfTheTextfieldWord);void 0!==t&&(t.replaceText=e.wordChangeSelect)}if(e.isImageUpload&&(e.defaultImage=e.image,yo.currentDialog="appImageUpload",yo.data=e,yo.imgProp="image"),e.backpackBtnRequirement&&(app.btnBackpackIsOn+=1),e.showAllAddons&&(app.showAllAddons+=1),e.changeBackground&&(e.changeBgImage?void 0!==e.bgImage&&(void 0===app.bgImageStack&&(app.bgImageStack=[],app.defaultBgImage=app.styling.backgroundImage||""),app.bgImageStack.push({id:e.id,data:e.bgImage}),app.styling.backgroundImage=e.bgImage):void 0!==e.changedBgColorCode&&(void 0===app.bgColorStack&&(app.bgColorStack=[],app.defaultBgColor=app.styling.backgroundColor||""),app.bgColorStack.push({id:e.id,data:e.changedBgColorCode}),app.styling.backgroundColor=e.changedBgColorCode)),e.changePointBar&&(e.changeBarBgColorIsOn&&void 0!==e.changedBarBgColor&&(void 0===app.barBgColorStack&&(app.barBgColorStack=[],app.defaultBarBgColor=app.styling.barBackgroundColor||"#FFFFFFFF"),app.barBgColorStack.push({id:e.id,data:e.changedBarBgColor}),app.styling.barBackgroundColor=e.changedBarBgColor),e.changeBarIconColorIsOn&&void 0!==e.changedBarIconColor&&(void 0===app.barIconColorStack&&(app.barIconColorStack=[],app.defaultBarIconColor=app.styling.barIconColor||"#0000008A"),app.barIconColorStack.push({id:e.id,data:e.changedBarIconColor}),app.styling.barIconColor=e.changedBarIconColor),e.changeBarTextColorIsOn&&void 0!==e.changedBarTextColor&&(void 0===app.barTextColorStack&&(app.barTextColorStack=[],app.defaultBarTextColor=app.styling.barTextColor||"#000000"),app.barTextColorStack.push({id:e.id,data:e.changedBarTextColor}),app.styling.barTextColor=e.changedBarTextColor)),e.changeTemplates&&e.changeTemplatesList&&e.changeToThisTemplate){const t=e.changeTemplatesList.split(",");for(let o=0;o<t.length;o++){const i=t[o],l=co.get(i);if(void 0!==l){const t=l.choice;if(kl(t,e.id,e.changeToThisTemplate),e.changeAddonTemplate)for(let o=0;o<t.addons.length;o++){kl(t.addons[o],e.id,e.changeToThisTemplate)}continue}const r=so.get(i);if(void 0!==r){kl(r,e.id,e.changeToThisTemplate);continue}const a=uo.get(i[0]);if(void 0!==a){const t=a.rowElements;for(let i=0;i<t.length;i++){const o=so.get(t[i]);void 0!==o&&kl(o,e.id,e.changeToThisTemplate)}const o=a.elements;for(let i=0;i<o.length;i++){const t=co.get(o[i]);if(void 0!==t){kl(t.choice,e.id,e.changeToThisTemplate)}}continue}}}if(e.changeWidth&&e.changeWidthList&&e.changeToThisWidth){const t=e.changeWidthList.split(",");for(let o=0;o<t.length;o++){const i=t[o],l=co.get(i);if(void 0!==l){Fl(l.choice,e.id,e.changeToThisWidth);continue}const r=so.get(i);if(void 0!==r){Fl(r,e.id,e.changeToThisWidth);continue}const a=uo.get(i[0]);if(void 0!==a){const t=a.rowElements;for(let i=0;i<t.length;i++){const o=so.get(t[i]);void 0!==o&&Fl(o,e.id,e.changeToThisWidth)}const o=a.elements;for(let i=0;i<o.length;i++){const t=co.get(o[i]);if(void 0!==t){Fl(t.choice,e.id,e.changeToThisWidth)}}continue}}}if(e.setBgmIsOn&&e.bgmId&&(To.bgmIsPlaying=!0,To.isBgmInit?Fi(e,e.bgmId,0):(Ri(e),To.isBgmInit=!0)),e.muteBgm&&$o){const e=O($o);app.isMute=!0,e&&"function"==typeof e.mute&&e.mute()}if(e.isContentHidden&&void 0!==e.hiddenContentsRow&&void 0!==e.hiddenContentsType)for(let t=0;t<e.hiddenContentsRow.length;t++){const o=so.get(e.hiddenContentsRow[t]);if(void 0!==o){o.textIsRemoved||(o.textIsRemoved=!0);for(let t=0;t<e.hiddenContentsType.length;t++)switch(e.hiddenContentsType[t]){case"1":o.objectTitleRemoved=!0;break;case"2":o.objectImageRemoved=!0;break;case"3":o.objectTextRemoved=!0;break;case"4":o.objectScoreRemoved=!0;break;case"5":o.objectRequirementRemoved=!0;break;case"6":o.addonTitleRemoved=!0;break;case"7":o.addonImageRemoved=!0;break;case"8":o.addonTextRemoved=!0}}}e.scrollToRow&&J().then(()=>{setTimeout(()=>{if(e.scrollToObject){if(e.scrollObjectId){const t=co.get(e.scrollObjectId);if(void 0!==t){const e=t.choice,i=t.row,l=app.useToolbarBtn||!o.bCreatorMode?i.index:i.index+1,r=o.mainDiv?.children[l]?.children[1]?.children[1]?.children;if(void 0!==r){if(o.isBackpack){const t=document.getElementById("backpackDialog");t?.scrollTo({top:r[e.index].getBoundingClientRect().top+window.scrollY,behavior:"smooth"})}window.scrollTo({top:r[e.index].getBoundingClientRect().top+window.scrollY,behavior:"smooth"})}}}}else if(e.scrollRowId){const t=so.get(e.scrollRowId);if(void 0!==t){const e=o.mainDiv?.children;if(void 0!==e){const i=app.useToolbarBtn||!o.bCreatorMode?t.index:t.index+1;if(o.isBackpack){const t=document.getElementById("backpackDialog");t?.scrollTo({top:e[i].getBoundingClientRect().top+window.scrollY,behavior:"smooth"})}else window.scrollTo({top:e[i].getBoundingClientRect().top+window.scrollY,behavior:"smooth"})}}}},10)}),e.cleanACtivatedOnSelect&&Wi(),De(e,i,0),Pe(),!Si(e.requireds)&&e.isActive&&Le(e,t)};if(e.customTextfieldIsOn&&!ie)return A.choice=e,A.row=t,A.context=void 0!==e.wordPromptText?e.wordPromptText:"",A.prevText=e.wordChangeSelect||"",A.isWord=!0,void c(te,"dlgCommon");if(e.confirmIsOn&&!ie)return A.choice=e,A.row=t,A.context=void 0!==e.wordPromptText?e.wordPromptText:"",A.isWord=!1,void c(te,"dlgCommon");-1===R.indexOf(e.id)&&(e.isFadeTransition?(void 0===e.fadeTransitionColor||""===e.fadeTransitionColor?app.fadeTransitionColor="000000FF":app.fadeTransitionColor=e.fadeTransitionColor,void 0===e.fadeInTransitionTime?app.fadeTransitionTime=.25:app.fadeTransitionTime=e.fadeInTransitionTime/1e3,app.fadeTransitionIsOn=!0,window.setTimeout(()=>{void 0!==e.fadeOutTransitionTime&&(app.fadeTransitionTime=e.fadeOutTransitionTime/1e3),app.fadeTransitionIsOn=!1,i()},1e3*app.fadeTransitionTime)):i()),0===R.indexOf(e.id)&&R.splice(0)}}}function _e(e,t){const i=Si(e.requireds)&&!t.isInfoRow&&!e.isNotSelectable;let l=!0,r=t;if(t.isResultRow){const t=co.get(e.id);void 0!==t&&(r=t.row)}if(i&&e.isMultipleUseVariable&&r.allowedChoices>0&&r.currentChoices>=r.allowedChoices){let e=0;for(let t=0;t<r.objects.length;t++){const o=r.objects[t];if(o.isActive){if(!o.forcedActivated){if(o.isSelectableMultiple){let e=o.multipleUseVariable;for(let t=0;t<e;t++)Je(o,r)}else qe(o,r);break}e++}}e>=r.allowedChoices&&(l=!1)}if(l){for(let t=0;t<e.scores.length;t++){const o=e.scores[t],i=no.get(o.id);void 0!==i&&o.isRandom&&!o.setValue&&void 0!==o.maxValue&&void 0!==o.minValue&&(o.value=Math.floor(Math.random()*(o.maxValue-o.minValue+1))+o.minValue,o.value=i.allowFloat?o.value:Math.floor(o.value),o.setValue=!0)}if(Li(e,!0)){const l=()=>{const i=new x,l=e.isActive,a=e.multipleUseVariable>=0,n=Math.abs(e.multipleUseVariable);if(e.multipleUseVariable+=1,0===e.multipleUseVariable?(lo.delete(e.id),e.isActive=!1,r.currentChoices-=1):(1===e.multipleUseVariable&&(e.isActive=!0,r.currentChoices+=1),lo.set(e.id,{multiple:e.multipleUseVariable})),a){if(e.discountOther&&void 0!==e.discountOperator&&void 0!==e.discountValue&&(e.stackableDiscount||!e.stackableDiscount&&1===e.multipleUseVariable))if(e.isDisChoices){const t=new Set;if(void 0!==e.discountRows)for(let o=0;o<e.discountRows.length;o++){const i=so.get(e.discountRows[o]);if(void 0!==i)for(let o=0;o<i.objects.length;o++){const l=i.objects[o];for(let t=0;t<l.scores.length;t++){const o=l.scores[t];o.isNotDiscountable||0!==e.discountPointTypes?.length&&-1===e.discountPointTypes?.indexOf(o.id)||Pi(e,o)}t.add(l.id)}}if(void 0!==e.discountChoices)for(let o=0;o<e.discountChoices.length;o++)if(!t.has(e.discountChoices[o])){const t=co.get(e.discountChoices[o]);if(void 0!==t){const o=t.choice;for(let t=0;t<o.scores.length;t++){const i=o.scores[t];i.isNotDiscountable||0!==e.discountPointTypes?.length&&-1===e.discountPointTypes?.indexOf(i.id)||Pi(e,i)}}}}else if(void 0!==e.discountGroups)for(let t=0;t<e.discountGroups.length;t++){const o=uo.get(e.discountGroups[t]);if(void 0!==o)for(let t=0;t<o.elements.length;t++){const i=co.get(o.elements[t]);if(void 0!==i)for(let t=0;t<i.choice.scores.length;t++){const o=i.choice.scores[t];o.isNotDiscountable||0!==e.discountPointTypes?.length&&-1===e.discountPointTypes?.indexOf(o.id)||Pi(e,o)}}}for(let t=0;t<e.scores.length;t++){const o=e.scores[t];if(void 0===o.isActiveMul&&(o.isActiveMul=[]),Si(o.requireds)&&!o.isActiveMul[n]){const e=no.get(o.id);if(void 0!==e){let t=o.discountIsOn&&void 0!==o.discountScore?o.discountScore:o.value;t=e.allowFloat?t:Math.floor(t),o.multiplyByTimes&&(t*=n+1),e.startingSum-=t,o.isActiveMul[n]=!0;let l=i.get(o.id);void 0!==l?i.set(o.id,t+l):i.set(o.id,t)}}}}else for(let t=0;t<e.scores.length;t++){const o=e.scores[t];if(void 0===o.isActiveMulMinus&&(o.isActiveMulMinus=[]),Si(o.requireds)&&o.isActiveMulMinus[n]||o.isActiveMulMinus[n]){const e=no.get(o.id);if(void 0!==e){let t=o.discountIsOn&&void 0!==o.discountScore?o.discountScore:o.value;t=e.allowFloat?t:Math.floor(t),o.multiplyByTimes&&(t*=Math.abs(n)),e.startingSum-=t;let l=i.get(o.id);void 0!==l?i.set(o.id,t+l):i.set(o.id,t),delete o.isActiveMulMinus[n]}}}if(a&&(e.duplicateRow&&void 0!==e.duplicateRowId&&void 0!==e.duplicateRowPlace&&Ei(e),e.activateOtherChoice&&void 0!==e.activateThisChoice))if(e.isActivateRandom)je(e);else{const t=e.activateThisChoice.split(",");for(let o=0;o<t.length;o++){const i=t[o].split("/ON#"),r=i.length>1?parseInt(i[1]):0,a=co.get(i[0]);if(void 0!==a){const t=a.row,o=a.choice;!o.isSelectableMultiple&&l||Fe(e,o,t,r)}else{const t=uo.get(i[0]);if(void 0!==t){const o=t.elements;for(let t=0;t<o.length;t++){const i=co.get(o[t]);if(void 0!==i){const t=i.row,o=i.choice;!o.isSelectableMultiple&&l||Fe(e,o,t,r)}}}}}}if(Array.from(lo.entries()).forEach(([t,o])=>{const i=co.get(t);if(void 0!==i){const t=i.row,l=i.choice;if(l.id!==e.id&&!Si(l.requireds))if(l.forcedActivated&&(delete l.forcedActivated,l.isAllowDeselect||ro.set(l.id,{multiple:o.multiple})),0===o.multiple)l.isActive&&Le(l,t);else if(o.multiple>0)for(let e=0;e<o.multiple;e++)l.isActive&&Je(l,t)}}),e.addToAllowChoice&&void 0!==e.idOfAllowChoice&&void 0!==e.numbAddToAllowChoice)for(let t=0;t<e.idOfAllowChoice.length;t++){const o=so.get(e.idOfAllowChoice[t]);if(void 0!==o&&(o.allowedChoices+=e.numbAddToAllowChoice,o.allowedChoices>0&&o.currentChoices>=o.allowedChoices))for(let e=0;e<o.objects.length;e++){const t=o.objects[e];if(t.isActive&&!t.forcedActivated)if(t.isSelectableMultiple){let e=t.multipleUseVariable;for(let i=0;i<e;i++)Je(t,o)}else t.isActive&&Le(t,o);if(o.allowedChoices>=o.currentChoices)break}}if(!l){if(e.isChangeVariables&&void 0!==e.changedVariables)for(let t=0;t<e.changedVariables.length;t++){const o=ho.get(e.changedVariables[t]);void 0!==o&&("1"===e.changeType?o.isTrue=!0:"2"===e.changeType?o.isTrue=!1:"3"===e.changeType&&(o.isTrue=!o.isTrue))}if(e.backpackBtnRequirement&&(app.btnBackpackIsOn+=1),e.showAllAddons&&(app.showAllAddons+=1),e.changeBackground&&(e.changeBgImage?void 0!==e.bgImage&&(void 0===app.bgImageStack&&(app.bgImageStack=[],app.defaultBgImage=app.styling.backgroundImage||""),app.bgImageStack.push({id:e.id,data:e.bgImage}),app.styling.backgroundImage=e.bgImage):void 0!==e.changedBgColorCode&&(void 0===app.bgColorStack&&(app.bgColorStack=[],app.defaultBgColor=app.styling.backgroundColor||""),app.bgColorStack.push({id:e.id,data:e.changedBgColorCode}),app.styling.backgroundColor=e.changedBgColorCode)),e.changePointBar&&(e.changeBarBgColorIsOn&&void 0!==e.changedBarBgColor&&(void 0===app.barBgColorStack&&(app.barBgColorStack=[],app.defaultBarBgColor=app.styling.barBackgroundColor||"#FFFFFFFF"),app.barBgColorStack.push({id:e.id,data:e.changedBarBgColor}),app.styling.barBackgroundColor=e.changedBarBgColor),e.changeBarIconColorIsOn&&void 0!==e.changedBarIconColor&&(void 0===app.barIconColorStack&&(app.barIconColorStack=[],app.defaultBarIconColor=app.styling.barIconColor||"#0000008A"),app.barIconColorStack.push({id:e.id,data:e.changedBarIconColor}),app.styling.barIconColor=e.changedBarIconColor),e.changeBarTextColorIsOn&&void 0!==e.changedBarTextColor&&(void 0===app.barTextColorStack&&(app.barTextColorStack=[],app.defaultBarTextColor=app.styling.barTextColor||"#000000"),app.barTextColorStack.push({id:e.id,data:e.changedBarTextColor}),app.styling.barTextColor=e.changedBarTextColor)),e.changeTemplates&&e.changeTemplatesList&&e.changeToThisTemplate){const t=e.changeTemplatesList.split(",");for(let o=0;o<t.length;o++){const i=t[o],l=co.get(i);if(void 0!==l){const t=l.choice;if(kl(t,e.id,e.changeToThisTemplate),e.changeAddonTemplate)for(let o=0;o<t.addons.length;o++){kl(t.addons[o],e.id,e.changeToThisTemplate)}continue}const r=so.get(i);if(void 0!==r){kl(r,e.id,e.changeToThisTemplate);continue}const a=uo.get(i[0]);if(void 0!==a){const t=a.rowElements;for(let i=0;i<t.length;i++){const o=so.get(t[i]);void 0!==o&&kl(o,e.id,e.changeToThisTemplate)}const o=a.elements;for(let i=0;i<o.length;i++){const t=co.get(o[i]);if(void 0!==t){kl(t.choice,e.id,e.changeToThisTemplate)}}continue}}}if(e.changeWidth&&e.changeWidthList&&e.changeToThisWidth){const t=e.changeWidthList.split(",");for(let o=0;o<t.length;o++){const i=t[o],l=co.get(i);if(void 0!==l){Fl(l.choice,e.id,e.changeToThisWidth);continue}const r=so.get(i);if(void 0!==r){Fl(r,e.id,e.changeToThisWidth);continue}const a=uo.get(i[0]);if(void 0!==a){const t=a.rowElements;for(let i=0;i<t.length;i++){const o=so.get(t[i]);void 0!==o&&Fl(o,e.id,e.changeToThisWidth)}const o=a.elements;for(let i=0;i<o.length;i++){const t=co.get(o[i]);if(void 0!==t){Fl(t.choice,e.id,e.changeToThisWidth)}}continue}}}if(e.setBgmIsOn&&e.bgmId&&(To.bgmIsPlaying=!0,To.isBgmInit?Fi(e,e.bgmId,0):(Ri(e),To.isBgmInit=!0)),e.muteBgm&&$o){const e=O($o);app.isMute=!0,e&&"function"==typeof e.mute&&e.mute()}if(e.isContentHidden&&void 0!==e.hiddenContentsRow&&void 0!==e.hiddenContentsType)for(let t=0;t<e.hiddenContentsRow.length;t++){const o=so.get(e.hiddenContentsRow[t]);if(void 0!==o){o.textIsRemoved||(o.textIsRemoved=!0);for(let t=0;t<e.hiddenContentsType.length;t++)switch(e.hiddenContentsType[t]){case"1":o.objectTitleRemoved=!0;break;case"2":o.objectImageRemoved=!0;break;case"3":o.objectTextRemoved=!0;break;case"4":o.objectScoreRemoved=!0;break;case"5":o.objectRequirementRemoved=!0;break;case"6":o.addonTitleRemoved=!0;break;case"7":o.addonImageRemoved=!0;break;case"8":o.addonTextRemoved=!0}}}if(e.changeTemplates&&e.changeTemplatesList&&e.changeToThisTemplate){const t=e.changeTemplatesList.split(",");for(let o=0;o<t.length;o++){const i=t[o],l=co.get(i);if(void 0!==l){const t=l.choice;t.defaultTemplate&&(t.defaultTemplate=t.template),t.template=e.changeToThisTemplate,e.changeAddonTemplate}else{const t=so.get(i);if(void 0!==t)t.defaultTemplate=t.template,t.template=e.changeToThisTemplate;else{const t=uo.get(i[0]);if(void 0!==t){const o=t.rowElements;for(let t=0;t<o.length;t++){const i=so.get(o[t]);void 0!==i&&(i.defaultTemplate=i.template,i.template=e.changeToThisTemplate)}const i=t.elements;for(let t=0;t<i.length;t++){const o=co.get(i[t]);if(void 0!==o){const t=o.choice;t.defaultTemplate=t.template,t.template=e.changeToThisTemplate}}}}}}}e.scrollToRow&&J().then(()=>{setTimeout(()=>{if(e.scrollToObject){if(e.scrollObjectId){const t=co.get(e.scrollObjectId);if(void 0!==t){const e=t.choice,i=t.row,l=app.useToolbarBtn||!o.bCreatorMode?i.index:i.index+1,r=o.mainDiv?.children[l]?.children[1]?.children[1]?.children;if(void 0!==r){if(o.isBackpack){const t=document.getElementById("backpackDialog");t?.scrollTo({top:r[e.index].getBoundingClientRect().top+window.scrollY,behavior:"smooth"})}window.scrollTo({top:r[e.index].getBoundingClientRect().top+window.scrollY,behavior:"smooth"})}}}}else if(e.scrollRowId){const t=so.get(e.scrollRowId);if(void 0!==t){const e=o.mainDiv?.children;if(void 0!==e){const i=app.useToolbarBtn||!o.bCreatorMode?t.index:t.index+1;if(o.isBackpack){const t=document.getElementById("backpackDialog");t?.scrollTo({top:e[i].getBoundingClientRect().top+window.scrollY,behavior:"smooth"})}else window.scrollTo({top:e[i].getBoundingClientRect().top+window.scrollY,behavior:"smooth"})}}}},10)})}De(e,i,0),Pe(),!Si(e.requireds)&&e.isActive&&Je(e,t)};if(i)if(e.isMultipleUseVariable)void 0===e.multipleUseVariable&&(e.multipleUseVariable=0),void 0===e.numMultipleTimesPluss&&(e.numMultipleTimesPluss=0),e.numMultipleTimesPluss>e.multipleUseVariable&&(-1===R.indexOf(e.id)&&(e.isFadeTransition?(void 0===e.fadeTransitionColor||""===e.fadeTransitionColor?app.fadeTransitionColor="000000FF":app.fadeTransitionColor=e.fadeTransitionColor,void 0===e.fadeInTransitionTime?app.fadeTransitionTime=.25:app.fadeTransitionTime=e.fadeInTransitionTime/1e3,app.fadeTransitionIsOn=!0,window.setTimeout(()=>{void 0!==e.fadeOutTransitionTime&&(app.fadeTransitionTime=e.fadeOutTransitionTime/1e3),app.fadeTransitionIsOn=!1,l()},1e3*app.fadeTransitionTime)):l()),0===R.indexOf(e.id)&&R.splice(0));else if(void 0!==e.multipleScoreId){const t=no.get(e.multipleScoreId);void 0!==t&&(void 0===e.numMultipleTimesPluss&&(e.numMultipleTimesPluss=0),e.numMultipleTimesPluss>t.startingSum&&(t.startingSum+=1))}}}}function Je(e,t){const o=Li(e,!1);let i=t;if(t.isResultRow){const t=co.get(e.id);void 0!==t&&(i=t.row)}if(o){const o=()=>{const t=new x,o=e.multipleUseVariable>0,l=Math.abs(e.multipleUseVariable-1);if(o){for(let o=0;o<e.scores.length;o++){const i=e.scores[o];if(void 0!==i.isActiveMul&&(Si(i.requireds)&&i.isActiveMul[l]||i.isActiveMul[l])){const e=no.get(i.id);if(void 0!==e){let o=i.discountIsOn&&void 0!==i.discountScore?i.discountScore:i.value;o=e.allowFloat?o:Math.floor(o),i.multiplyByTimes&&(o*=l+1),e.startingSum+=o;let r=t.get(i.id);void 0!==r?t.set(i.id,-o+r):t.set(i.id,-o),delete i.isActiveMul[l],0===l&&delete i.setValue}}}if(e.activateOtherChoice&&void 0!==e.activateThisChoice)if(e.isActivateRandom&&void 0!==e.activatedRandomMul&&void 0!==e.activatedRandomMul[l]){for(let t=0;t<e.activatedRandomMul[l].length;t++){const o=co.get(e.activatedRandomMul[l][t]);if(void 0!==o){const t=o.row,i=o.choice;Ae(e,i,t,0)}}e.activatedRandomMul.splice(l,1)}else{const t=e.activateThisChoice.split(",");for(let o=0;o<t.length;o++){const i=t[o].split("/ON#"),r=i.length>1?parseInt(i[1]):0,a=co.get(i[0]);if(void 0!==a){const t=a.row,o=a.choice;(0===l||o.isSelectableMultiple)&&Ae(e,o,t,r)}else{const t=uo.get(i[0]);if(void 0!==t){const o=t.elements;for(let t=0;t<o.length;t++){const i=co.get(o[t]);if(void 0!==i){const t=i.row,o=i.choice;(0===l||o.isSelectableMultiple)&&Ae(e,o,t,r)}}}}}}if(e.discountOther&&void 0!==e.discountOperator&&void 0!==e.discountValue&&(e.stackableDiscount||!e.stackableDiscount&&1===e.multipleUseVariable))if(void 0===e.discountPointTypes&&(e.discountPointTypes=[]),e.isDisChoices){const t=new Set;if(void 0!==e.discountRows)for(let o=0;o<e.discountRows.length;o++){const i=so.get(e.discountRows[o]);if(void 0!==i)for(let o=0;o<i.objects.length;o++){const l=i.objects[o];for(let t=0;t<l.scores.length;t++){const o=l.scores[t];o.isNotDiscountable||0!==e.discountPointTypes.length&&-1===e.discountPointTypes.indexOf(o.id)||Di(e,o)}t.add(l.id)}}if(void 0!==e.discountChoices)for(let o=0;o<e.discountChoices.length;o++)if(!t.has(e.discountChoices[o])){const i=co.get(e.discountChoices[o]);if(void 0!==i){const o=i.choice;for(let l=0;l<o.scores.length;l++){const o=i.choice.scores[l];o.isNotDiscountable||0!==e.discountPointTypes.length&&-1===e.discountPointTypes.indexOf(o.id)||t.has(o.idx)||Di(e,o)}}}}else if(void 0!==e.discountGroups)for(let t=0;t<e.discountGroups.length;t++){const o=uo.get(e.discountGroups[t]);if(void 0!==o)for(let t=0;t<o.elements.length;t++){const i=co.get(o.elements[t]);if(void 0!==i)for(let t=0;t<i.choice.scores.length;t++){const o=i.choice.scores[t];o.isNotDiscountable||0!==e.discountPointTypes.length&&-1===e.discountPointTypes.indexOf(o.id)||Di(e,o)}}}}else for(let i=0;i<e.scores.length;i++){const o=e.scores[i];if(void 0===o.isActiveMulMinus&&(o.isActiveMulMinus=[]),Si(o.requireds)&&!o.isActiveMulMinus[l]){const e=no.get(o.id);if(void 0!==e){let i=o.discountIsOn&&void 0!==o.discountScore?o.discountScore:o.value;i=e.allowFloat?i:Math.floor(i),o.multiplyByTimes&&(i*=l),e.startingSum+=i;let r=t.get(o.id);void 0!==r?t.set(o.id,-i+r):t.set(o.id,-i),o.isActiveMulMinus[l]=!0}}}if(e.multipleUseVariable-=1,0===e.multipleUseVariable?(e.isActive=!1,i.currentChoices-=1,lo.delete(e.id)):(-1===e.multipleUseVariable&&(e.isActive=!0,i.currentChoices+=1),lo.set(e.id,{multiple:e.multipleUseVariable})),Array.from(lo.entries()).forEach(([t,o])=>{const i=co.get(t);if(void 0!==i){const t=i.row,l=i.choice;if(l.id!==e.id&&!Si(l.requireds))if(l.forcedActivated&&(delete l.forcedActivated,l.isAllowDeselect||ro.set(l.id,{multiple:o.multiple})),0===o.multiple)l.forcedActivated&&delete l.forcedActivated,l.isActive&&Le(l,t);else if(o.multiple>0)for(let e=0;e<o.multiple;e++)l.isActive&&Je(l,t)}}),e.addToAllowChoice&&void 0!==e.idOfAllowChoice&&void 0!==e.numbAddToAllowChoice)for(let i=0;i<e.idOfAllowChoice.length;i++){const t=so.get(e.idOfAllowChoice[i]);if(void 0!==t&&(t.allowedChoices-=e.numbAddToAllowChoice,t.allowedChoices>0&&t.currentChoices>=t.allowedChoices))for(let e=0;e<t.objects.length;e++){const o=t.objects[e];if(o.isActive&&!o.forcedActivated)if(o.isSelectableMultiple){let e=o.multipleUseVariable;for(let i=0;i<e;i++)Je(o,t)}else o.isActive&&Le(o,t);if(t.allowedChoices>=t.currentChoices)break}}if(0===l){if(e.isChangeVariables&&void 0!==e.changedVariables)for(let t=0;t<e.changedVariables.length;t++){const o=ho.get(e.changedVariables[t]);void 0!==o&&("1"===e.changeType?o.isTrue=!1:"2"===e.changeType?o.isTrue=!0:"3"===e.changeType&&(o.isTrue=!o.isTrue))}if(e.backpackBtnRequirement&&void 0!==app.btnBackpackIsOn&&(app.btnBackpackIsOn-=1),e.showAllAddons&&void 0!==app.showAllAddons&&(app.showAllAddons-=1),e.changeBackground)if(e.changeBgImage){if(void 0!==app.bgImageStack){const t=app.bgImageStack.findIndex(t=>t.id===e.id);-1!==t&&app.bgImageStack.splice(t,1);const o=app.bgImageStack.length;o>0?app.styling.backgroundImage=app.bgImageStack[o-1].data:(app.styling.backgroundImage=app.defaultBgImage||"",delete app.bgImageStack)}}else if(void 0!==e.changedBgColorCode&&void 0!==app.bgColorStack){const t=app.bgColorStack.findIndex(t=>t.id===e.id);-1!==t&&app.bgColorStack.splice(t,1);const o=app.bgColorStack.length;o>0?app.styling.backgroundColor=app.bgColorStack[o-1].data:(app.styling.backgroundColor=app.defaultBgColor||"#FFFFFFFF",delete app.bgColorStack)}if(e.changePointBar){if(e.changeBarBgColorIsOn&&void 0!==e.changedBarBgColor&&void 0!==app.barBgColorStack){const t=app.barBgColorStack.findIndex(t=>t.id===e.id);-1!==t&&app.barBgColorStack.splice(t,1);const o=app.barBgColorStack.length;o>0?app.styling.barBackgroundColor=app.barBgColorStack[o-1].data:(app.styling.barBackgroundColor=app.defaultBarBgColor||"#FFFFFFFF",delete app.barBgColorStack)}if(e.changeBarIconColorIsOn&&void 0!==e.changedBarIconColor&&void 0!==app.barIconColorStack){const t=app.barIconColorStack.findIndex(t=>t.id===e.id);-1!==t&&app.barIconColorStack.splice(t,1);const o=app.barIconColorStack.length;o>0?app.styling.barIconColor=app.barIconColorStack[o-1].data:(app.styling.barIconColor=app.defaultBarIconColor||"#0000008A",delete app.barIconColorStack)}if(e.changeBarTextColorIsOn&&void 0!==e.changedBarTextColor&&void 0!==app.barTextColorStack){const t=app.barTextColorStack.findIndex(t=>t.id===e.id);-1!==t&&app.barTextColorStack.splice(t,1);const o=app.barTextColorStack.length;o>0?app.styling.barTextColor=app.barTextColorStack[o-1].data:(app.styling.barTextColor=app.defaultBarIconColor||"#000000",delete app.barTextColorStack)}}if(e.changeTemplates&&e.changeTemplatesList&&e.changeToThisTemplate){const t=e.changeTemplatesList.split(",");for(let o=0;o<t.length;o++){const i=t[o],l=co.get(i);if(void 0!==l){const t=l.choice;if(Ol(t,e.id),e.changeAddonTemplate)for(let o=0;o<t.addons.length;o++){Ol(t.addons[o],e.id)}continue}const r=so.get(i);if(void 0!==r){Ol(r,e.id);continue}const a=uo.get(i[0]);if(void 0!==a){const t=a.rowElements;for(let i=0;i<t.length;i++){const o=so.get(t[i]);void 0!==o&&Ol(o,e.id)}const o=a.elements;for(let i=0;i<o.length;i++){const t=co.get(o[i]);if(void 0!==t){Ol(t.choice,e.id)}}continue}}}if(e.changeWidth&&e.changeWidthList&&e.changeToThisWidth){const t=e.changeWidthList.split(",");for(let o=0;o<t.length;o++){const i=t[o],l=co.get(i);if(void 0!==l){Rl(l.choice,e.id);continue}const r=so.get(i);if(void 0!==r){Rl(r,e.id);continue}const a=uo.get(i[0]);if(void 0!==a){const t=a.rowElements;for(let i=0;i<t.length;i++){const o=so.get(t[i]);void 0!==o&&Rl(o,e.id)}const o=a.elements;for(let i=0;i<o.length;i++){const t=co.get(o[i]);if(void 0!==t){Rl(t.choice,e.id)}}continue}}}if(e.setBgmIsOn&&$o&&e.bgmId&&(To.bgmIsPlaying=!1,Fi(e,e.bgmId,0)),e.muteBgm&&$o){const e=O($o);app.isMute=!1,e&&"function"==typeof e.unMute&&e.unMute()}if(e.isContentHidden&&void 0!==e.hiddenContentsRow&&void 0!==e.hiddenContentsType)for(let t=0;t<e.hiddenContentsRow.length;t++){const o=so.get(e.hiddenContentsRow[t]);if(void 0!==o)for(let t=0;t<e.hiddenContentsType.length;t++)switch(e.hiddenContentsType[t]){case"1":o.objectTitleRemoved=!1;break;case"2":o.objectImageRemoved=!1;break;case"3":o.objectTextRemoved=!1;break;case"4":o.objectScoreRemoved=!1;break;case"5":o.objectRequirementRemoved=!1;break;case"6":o.addonTitleRemoved=!1;break;case"7":o.addonImageRemoved=!1;break;case"8":o.addonTextRemoved=!1}}}Me(e,t,0),Pe()};if(!t.isInfoRow&&!e.isNotSelectable&&!e.selectOnce)if(e.isMultipleUseVariable)void 0===e.numMultipleTimesMinus&&(e.numMultipleTimesMinus=0),e.multipleUseVariable>e.numMultipleTimesMinus&&(-1===R.indexOf(e.id)&&(e.isFadeTransition?(void 0===e.fadeTransitionColor||""===e.fadeTransitionColor?app.fadeTransitionColor="000000FF":app.fadeTransitionColor=e.fadeTransitionColor,void 0===e.fadeInTransitionTime?app.fadeTransitionTime=.25:app.fadeTransitionTime=e.fadeInTransitionTime/1e3,app.fadeTransitionIsOn=!0,window.setTimeout(()=>{void 0!==e.fadeOutTransitionTime&&(app.fadeTransitionTime=e.fadeOutTransitionTime/1e3),app.fadeTransitionIsOn=!1,o()},1e3*app.fadeTransitionTime)):o()),0===R.indexOf(e.id)&&R.splice(0));else if(void 0!==e.multipleScoreId){const t=no.get(e.multipleScoreId);void 0!==t&&(void 0===e.numMultipleTimesMinus&&(e.numMultipleTimesMinus=0),t.startingSum>e.numMultipleTimesMinus&&(t.startingSum-=1))}}}var Xe=rg(),Ze=D(Xe),Ke=e=>{var t=ju(),o=v(t),l=v(o);Ue(l,{class:"mx-1 my-2",children:(e,t)=>{Ge(e,{class:"p-0",children:(e,t)=>{var o=Au(),l=D(o);Ee(l,21,()=>$,He,(e,t)=>{Dt(e,{get text(){return i(t).text},children:(e,o)=>{Ye(e,{get onclick(){return i(t).action},children:(e,o)=>{var l=Bc();b(()=>w(l,1,I(i(t).icon))),u(e,l)},$$slots:{default:!0}})},$$slots:{default:!0}})});var a=X(l,2),n=v(a),s=e=>{var t=Sc();t.__click=()=>{yo.currentDialog="appImageUpload",yo.data=m(),yo.imgProp="image"};var o=v(t);b(()=>xe(o,"src",m().image)),u(e,t)};Y(n,e=>{m().image&&!app.hideImages&&e(s)});var g=X(n,2);ue(g,{onclick:()=>{yo.currentDialog="appImageUpload",yo.data=m(),yo.imgProp="image"},variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Change Image");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var h=X(a,2),f=v(h);Jl(v(f),{textarea:!0,label:"Choice Text",variant:"filled",input$rows:5,get value(){return m().text},set value(e){m().text=e}});var x=X(h,2),O=v(x);Jl(v(O),{label:"Choice Title",variant:"filled",get value(){return m().title},set value(e){m().title=e}});var R=X(O,2);Jl(v(R),{onfocus:()=>oe=m().id,onchange:()=>function(){if(""===m().id)m().id=oe;else if(m().id!==oe){if(m().id=Ti(m().id,co),m().groups)for(let e=0;e<m().groups.length;e++){let t=uo.get(m().groups[e]);if(void 0!==t){let e=t.elements.indexOf(oe);-1!==e&&(t.elements[e]=m().id)}}if(m().objectDesignGroups)for(let e=0;e<m().objectDesignGroups.length;e++){let t=mo.get(m().objectDesignGroups[e]);if(void 0!==t){let e=t.elements.indexOf(oe);-1!==e&&(t.elements[e]=m().id)}}co.set(m().id,{choice:m(),row:p()}),co.delete(oe),oe=m().id}}(),label:"Choice Id",variant:"filled",get value(){return m().id},set value(e){m().id=e}});var A=X(x,2),U=e=>{var t=kc(),o=v(t),i=v(o);Jl(i,{get value(){return m().debugTitle??""},set value(e){var t;t=e,m().debugTitle=t},label:"Debug Title",variant:"filled"}),u(e,t)};Y(A,e=>{app.hideChoiceDT||e(U)});var G=X(A,2),E=v(G);ia(v(E),{label:"Template",variant:"filled",alwaysFloat:!0,get value(){return m().template},set value(e){m().template=e},children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>y,e=>e.text,(e,t)=>{la(e,{get value(){return i(t).value},children:(e,o)=>{var l=le();b(()=>re(l,i(t).text)),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}});var H=X(E,2);ia(v(H),{label:"Choices Per Row",variant:"filled",alwaysFloat:!0,get value(){return m().objectWidth},set value(e){m().objectWidth=e},children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>io,e=>e.text,(e,t)=>{la(e,{get value(){return i(t).value},children:(e,o)=>{var l=le();b(()=>re(l,i(t).text)),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}});var _=X(G,2);Ee(_,21,()=>T,He,(e,t)=>{Dt(e,{get text(){return i(t).text},children:(e,o)=>{Ye(e,{get onclick(){return i(t).action},get oncontextmenu(){return i(t).contextAction},children:(e,o)=>{var l=Oc();b(()=>w(l,1,I(i(t).icon))),u(e,l)},$$slots:{default:!0}})},$$slots:{default:!0}})}),Gs(X(_,2),{children:(e,t)=>{var o=Ru(),l=D(o),a=e=>{const t=Q(()=>i(j)?"on-top":"");Es(e,{get class(){return`bordered-panel ${i(t)??""}`},variant:"unelevated",conditionalRender:!0,get open(){return i(j)},set open(e){c(j,e,!0)},children:(e,t)=>{var o=Ac(),l=D(o);Xs(l,{class:"p-0",children:(e,t)=>{var o=le();b(()=>re(o,`Scores: ${m().scores.length??""}`)),u(e,o)},$$slots:{default:!0}});var r=X(l,2);Re(r,{style:"overflow:visible",children:(e,t)=>{var o=M(),l=D(o),r=e=>{var t=Rc();Ee(t,21,()=>m().scores,He,(e,t,o)=>{var l=Fc(),r=v(l);Cc(r,{get score(){return i(t)},get choice(){return m()},isEditModeOn:!0,num:o});var a=X(r,2);ue(a,{onclick:()=>{m().scores.splice(o,1),fo.delete(i(t).idx)},class:"w-100 mt-1",variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Delete");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,l)}),u(e,t)};Y(l,e=>{i(j)&&e(r)}),u(e,o)},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}})};Y(l,e=>{m().scores.length>0&&e(a)});var n=X(l,2),s=e=>{const t=Q(()=>i(q)?"on-top":"");Es(e,{get class(){return`bordered-panel ${i(t)??""}`},variant:"unelevated",conditionalRender:!0,get open(){return i(q)},set open(e){c(q,e,!0)},children:(e,t)=>{var o=Dc(),l=D(o);Xs(l,{class:"p-0",children:(e,t)=>{var o=le();b(()=>re(o,`Addons: ${m().addons.length??""}`)),u(e,o)},$$slots:{default:!0}});var r=X(l,2);Re(r,{style:"overflow:visible",children:(e,t)=>{var o=M(),l=D(o),r=e=>{var t=Mc(),o=v(t);Dt(o,{text:"Applies only when the choice image template is left or right.",innerClass:"mt-3",children:(e,t)=>{Se(e,{class:"col-12 p-0",label:e=>{var t=le("Use Seperate Layout");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().useSeperateAddon??!1},set checked(e){var t;t=e,m().useSeperateAddon=t},onchange:()=>{m().useSeperateAddon||delete m().useSeperateAddon}})},$$slots:{label:!0,default:!0}})},$$slots:{default:!0}});var l=X(o,2);ia(v(l),{label:"Addon Justify",variant:"filled",get value(){return m().addonJustify},set value(e){m().addonJustify=e},children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>F,He,(e,t)=>{la(e,{get value(){return i(t)},children:(e,o)=>{var l=le();b(()=>re(l,i(t))),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}});var r=X(l,2);Ee(r,17,()=>m().addons,He,(e,t,o)=>{var l=jc(),r=v(l);rc(r,{get choice(){return m()},get addon(){return i(t)},isEditModeOn:!0,index:o});var a=X(r,2);ue(a,{onclick:()=>m().addons.splice(o,1),class:"w-100 mt-1",variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Delete");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,l)}),u(e,t)};Y(l,e=>{i(q)&&e(r)}),u(e,o)},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}})};Y(n,e=>{m().addons.length>0&&e(s)});var g=X(n,2),h=e=>{const t=Q(()=>i(P)?"on-top":"");Es(e,{get class(){return`bordered-panel ${i(t)??""}`},variant:"unelevated",conditionalRender:!0,get open(){return i(P)},set open(e){c(P,e,!0)},children:(e,t)=>{var o=Lc(),l=D(o);Xs(l,{class:"p-0",children:(e,t)=>{var o=le();b(()=>re(o,`Requirements: ${m().requireds.length??""}`)),u(e,o)},$$slots:{default:!0}});var r=X(l,2);Re(r,{style:"overflow:visible",children:(e,t)=>{var o=M(),l=D(o),r=e=>{var t=qc();Ee(t,21,()=>m().requireds,He,(e,t,o)=>{var l=Pc(),r=v(l);Fd(r,{get required(){return i(t)},isEditModeOn:!0,get data(){return m()},index:o});var a=X(r,2);ue(a,{onclick:()=>m().requireds.splice(o,1),class:"w-100 mt-1",variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Delete");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}}),b(()=>w(l,1,`${(i(t).requireds.length>0?"col-12":i(ne))??""} p-2`)),u(e,l)}),u(e,t)};Y(l,e=>{i(P)&&e(r)}),u(e,o)},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}})};Y(g,e=>{m().requireds.length>0&&e(h)});var p=X(g,2),f=e=>{const t=Q(()=>i(L)?"on-top":"");Es(e,{get class(){return`bordered-panel ${i(t)??""}`},variant:"unelevated",conditionalRender:!0,get open(){return i(L)},set open(e){c(L,e,!0)},children:(e,t)=>{var o=Nc(),l=D(o);Xs(l,{class:"p-0",children:(e,t)=>{var o=le();b(()=>re(o,`Groups: ${m().groups.length??""}`)),u(e,o)},$$slots:{default:!0}});var r=X(l,2);Re(r,{style:"overflow:visible",children:(e,t)=>{var o=M(),l=D(o),r=e=>{var t=Vc();Ee(t,21,()=>m().groups,He,(e,t,o)=>{var i=Wc(),l=v(i);ac(l,{get choice(){return m()},index:o});var r=X(l,2);ue(r,{onclick:()=>m().groups.splice(o,1),class:"w-100 mt-1",variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Delete");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,i)}),u(e,t)};Y(l,e=>{i(L)&&e(r)}),u(e,o)},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}})};Y(p,e=>{m().groups.length>0&&e(f)}),Es(X(p,2),{class:"bordered-panel",variant:"unelevated",children:(e,t)=>{var o=Fu(),l=D(o);Xs(l,{class:"p-0",children:(e,t)=>{var o=le("Functions:");u(e,o)},$$slots:{default:!0}});var a=X(l,2);Re(a,{class:"p-0",children:(e,t)=>{Gs(e,{class:"p-0",children:(e,t)=>{var o=Ou(),l=D(o);Es(l,{class:"bordered-panel",variant:"unelevated",conditionalRender:!0,get open(){return i(W)},set open(e){c(W,e,!0)},children:(e,t)=>{var o=Hc(),l=D(o);Xs(l,{class:"p-0",icon:e=>{Ye(e,{toggle:!0,get pressed(){return i(W)},size:"mini",children:(e,t)=>{var o=zc(),i=D(o);dt(i,{class:"mdi mdi-chevron-up",on:!0});var l=X(i,2);dt(l,{class:"mdi mdi-chevron-down"}),u(e,o)},$$slots:{default:!0}})},children:(e,t)=>{var o=le("- This Choice");u(e,o)},$$slots:{icon:!0,default:!0}});var r=X(l,2);Re(r,{style:"overflow:visible",children:(e,t)=>{var o=M(),l=D(o),r=e=>{var t=Ec(),o=v(t);Se(o,{class:"col-12 m-1 p-0",label:e=>{var t=le("Can Be Selected Multiple Times");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().isSelectableMultiple??!1},set checked(e){var t;t=e,m().isSelectableMultiple=t},onchange:()=>{m().isSelectableMultiple?(m().numMultipleTimesMinus=0,m().numMultipleTimesPluss=0,m().isMultipleUseVariable=!0,m().useSlider=!1):(delete m().isSelectableMultiple,delete m().isMultipleUseVariable,delete m().multipleScoreId,delete m().hideMultipleCounter,delete m().numMultipleTimesMinus,delete m().numMultipleTimesPluss,delete m().allowSelectByClick,delete m().useSlider)}})},$$slots:{label:!0,default:!0}});var i=X(o,2),l=e=>{var t=Gc(),o=D(t);Dt(o,{text:"Disabling this checkbox will make most features unavailable.",children:(e,t)=>{Se(e,{class:"col-12 m-1 p-0",label:e=>{var t=le("Use a Simple Variable");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().isMultipleUseVariable??!1},set checked(e){var t;t=e,m().isMultipleUseVariable=t},onchange:()=>{m().isMultipleUseVariable?delete m().multipleScoreId:delete m().isMultipleUseVariable}})},$$slots:{label:!0,default:!0}})},$$slots:{default:!0}});var i=X(o,2);Se(i,{class:"col-12 m-1 p-0",label:e=>{var t=le("Allow First Selection by Clicking the Choice");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().allowSelectByClick??!1},set checked(e){var t;t=e,m().allowSelectByClick=t},onchange:()=>{m().allowSelectByClick||delete m().allowSelectByClick}})},$$slots:{label:!0,default:!0}});var l=X(i,2),r=e=>{Se(e,{class:"col-12 m-1 p-0",label:e=>{var t=le("Hide Counter Until First Selection");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().hideCounterUntilSelect??!1},set checked(e){var t;t=e,m().hideCounterUntilSelect=t},onchange:()=>{m().hideCounterUntilSelect||delete m().hideCounterUntilSelect}})},$$slots:{label:!0,default:!0}})};Y(l,e=>{m().allowSelectByClick&&e(r)});var a=X(l,2);Se(a,{class:"col-12 m-1 p-0",label:e=>{var t=le("Hide Counter if Requirement Is Missing");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().hideMultipleCounter??!1},set checked(e){var t;t=e,m().hideMultipleCounter=t},onchange:()=>{m().hideMultipleCounter||delete m().hideMultipleCounter}})},$$slots:{label:!0,default:!0}});var n=X(a,2);Se(n,{class:"col-12 m-1 p-0",label:e=>{var t=le("Enable Slider for Selection");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().useSlider??!1},set checked(e){var t;t=e,m().useSlider=t},onchange:()=>{m().useSlider||delete m().useSlider}})},$$slots:{label:!0,default:!0}});var s=X(n,2),c=e=>{var t=Uc(),o=X(D(t),2);ks(v(o),{get options(){return d()},get getOptionLabel(){return oi},label:"Point Type",toggle:!0,showMenuWithNoInput:!0,textfield$variant:"filled",class:"w-100 p-0",get value(){return m().multipleScoreId},set value(e){m().multipleScoreId=e}}),u(e,t)};Y(s,e=>{m().isMultipleUseVariable||e(c)});var g=X(s,2),h=v(g);Dt(h,{text:"Some features may not work properly if this value is set below 0.",children:(e,t)=>{Jl(e,{get value(){return m().numMultipleTimesMinus??0},set value(e){var t;t=e,m().numMultipleTimesMinus=t},label:"Number at which the minus stops working",type:"number",variant:"filled"})},$$slots:{default:!0}});var p=X(h,2);Jl(p,{get value(){return m().numMultipleTimesPluss??0},set value(e){var t;t=e,m().numMultipleTimesPluss=t},label:"Number at which the plus stops working",type:"number",variant:"filled"}),u(e,t)};Y(i,e=>{m().isSelectableMultiple&&e(l)});var r=X(i,2);Se(r,{class:"col-12 m-1 p-0",label:e=>{var t=le("Cannot Be Selected");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().isNotSelectable??!1},set checked(e){var t;t=e,m().isNotSelectable=t},onchange:()=>{m().isNotSelectable||delete m().isNotSelectable}})},$$slots:{label:!0,default:!0}});var a=X(r,2);Se(a,{class:"col-12 m-1 p-0",label:e=>{var t=le("Cannot Be Deselected Manually");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().selectOnce??!1},set checked(e){var t;t=e,m().selectOnce=t},onchange:()=>{m().selectOnce||delete m().selectOnce}})},$$slots:{label:!0,default:!0}});var n=X(a,2);Se(n,{class:"col-12 m-1 p-0",label:e=>{var t=le("Cannot Be Reset Manually");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().notDeselectedByClean??!1},set checked(e){var t;t=e,m().notDeselectedByClean=t},onchange:()=>{m().notDeselectedByClean||delete m().notDeselectedByClean}})},$$slots:{label:!0,default:!0}});var s=X(n,2);Se(s,{class:"col-12 m-1 p-0",label:e=>{var t=le("Cannot Be Shown in Result Row");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().isNotResult??!1},set checked(e){var t;t=e,m().isNotResult=t},onchange:()=>{m().isNotResult||delete m().isNotResult}})},$$slots:{label:!0,default:!0}});var c=X(s,2);Se(c,{class:"col-12 m-1 p-0",label:e=>{var t=le("Allows the Player to Upload Image");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().isImageUpload??!1},set checked(e){var t;t=e,m().isImageUpload=t},onchange:()=>{m().isImageUpload||delete m().isImageUpload}})},$$slots:{label:!0,default:!0}});u(e,t)};Y(l,e=>{i(W)&&e(r)}),u(e,o)},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}});var a=X(l,2);const n=Q(()=>i(V)?"on-top":"");Es(a,{get class(){return`bordered-panel ${i(n)??""}`},variant:"unelevated",conditionalRender:!0,get open(){return i(V)},set open(e){c(V,e,!0)},children:(e,t)=>{var o=au(),l=D(o);Xs(l,{class:"p-0",icon:e=>{Ye(e,{toggle:!0,get pressed(){return i(V)},size:"mini",children:(e,t)=>{var o=_c(),i=D(o);dt(i,{class:"mdi mdi-chevron-up",on:!0});var l=X(i,2);dt(l,{class:"mdi mdi-chevron-down"}),u(e,o)},$$slots:{default:!0}})},children:(e,t)=>{var o=le("- Other Choices");u(e,o)},$$slots:{icon:!0,default:!0}});var a=X(l,2);Re(a,{style:"overflow:visible",children:(e,t)=>{var o=M(),l=D(o),a=e=>{var t=ru(),o=v(t);Se(o,{class:"col-12 m-1 p-0",label:e=>{var t=le("Clear All Selected Choices");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().cleanACtivatedOnSelect??!1},set checked(e){var t;t=e,m().cleanACtivatedOnSelect=t},onchange:()=>{m().cleanACtivatedOnSelect||delete m().cleanACtivatedOnSelect}})},$$slots:{label:!0,default:!0}});var l=X(o,2);Se(l,{class:"col-12 m-1 p-0",label:e=>{var t=le("Force Other Choices to Be Active");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().activateOtherChoice??!1},set checked(e){var t;t=e,m().activateOtherChoice=t},onchange:()=>{m().activateOtherChoice||(delete m().activateOtherChoice,delete m().isNotDeactivate,delete m().isAllowDeselect,delete m().isActivateRandom,delete m().numActivateRandom,delete m().activateThisChoice)}})},$$slots:{label:!0,default:!0}});var a=X(l,2),n=e=>{var t=Jc(),o=D(t);Se(o,{class:"col-12 m-1 p-0",label:e=>{var t=le("Keep Other Choices Active when Deselected");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().isNotDeactivate??!1},set checked(e){var t;t=e,m().isNotDeactivate=t},onchange:()=>{m().isNotDeactivate||delete m().isNotDeactivate}})},$$slots:{label:!0,default:!0}});var i=X(o,2);Se(i,{class:"col-12 m-1 p-0",label:e=>{var t=le("Allow Deselection of Activated Choices");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().isAllowDeselect??!1},set checked(e){var t;t=e,m().isAllowDeselect=t},onchange:()=>{m().isAllowDeselect||delete m().isAllowDeselect}})},$$slots:{label:!0,default:!0}});var l=X(i,2);Se(l,{class:"col-12 m-1 p-0",label:e=>{var t=le("Activate Choices at Random");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().isActivateRandom??!1},set checked(e){var t;t=e,m().isActivateRandom=t},onchange:()=>{m().isActivateRandom?m().numActivateRandom=0:delete m().isActivateRandom}})},$$slots:{label:!0,default:!0}});var r=X(l,4),a=v(r),n=e=>{Jl(e,{get value(){return m().numActivateRandom??0},set value(e){var t;t=e,m().numActivateRandom=t},label:"Number of choices to activate",type:"number",variant:"filled"})};Y(a,e=>{m().isActivateRandom&&e(n)});var s=X(a,2);Jl(s,{get value(){return m().activateThisChoice??""},set value(e){var t;t=e,m().activateThisChoice=t},label:"Choice / Group IDs",variant:"filled"}),u(e,t)};Y(a,e=>{m().activateOtherChoice&&e(n)});var s=X(a,2);Se(s,{class:"col-12 m-1 p-0",label:e=>{var t=le("Deactivate Other Choices");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().deactivateOtherChoice??!1},set checked(e){var t;t=e,m().deactivateOtherChoice=t},onchange:()=>{m().deactivateOtherChoice||(delete m().deactivateOtherChoice,delete m().deactivateThisChoice)}})},$$slots:{label:!0,default:!0}});var c=X(s,2),g=e=>{var t=Yc(),o=X(D(t),2),i=v(o);Jl(i,{get value(){return m().deactivateThisChoice??""},set value(e){var t;t=e,m().deactivateThisChoice=t},label:"Choice / Group IDs",variant:"filled"}),u(e,t)};Y(c,e=>{m().deactivateOtherChoice&&e(g)});var h=X(c,2);Se(h,{class:"col-12 m-1 p-0",label:e=>{var t=le("Discount Other Choices");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().discountOther??!1},set checked(e){var t;t=e,m().discountOther=t},onchange:()=>{m().discountOther?(m().discountGroups=[],m().discountPointTypes=[]):(delete m().discountOther,delete m().discountLowLimitIsOn,delete m().discountLowLimit,delete m().discountShow,delete m().discountBeforeText,delete m().discountAfterText,delete m().isDisChoices,delete m().discountGroups,delete m().discountChoices,delete m().discountRows,delete m().discountPointTypes,delete m().discountOperator,delete m().discountValue)}})},$$slots:{label:!0,default:!0}});var p=X(h,2),f=e=>{var t=Qc(),o=D(t);Se(o,{class:"col-12 m-1 p-0",label:e=>{var t=le("Allow Stacking Discounts");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().stackableDiscount??!1},set checked(e){var t;t=e,m().stackableDiscount=t},onchange:()=>{m().stackableDiscount||delete m().stackableDiscount}})},$$slots:{label:!0,default:!0}});var l=X(o,2);Se(l,{class:"col-12 m-1 p-0",label:e=>{var t=le("Enable Minimum Score Cap");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().discountLowLimitIsOn??!1},set checked(e){var t;t=e,m().discountLowLimitIsOn=t},onchange:()=>{m().discountLowLimitIsOn?m().discountLowLimit=0:(delete m().discountLowLimitIsOn,delete m().discountLowLimit)}})},$$slots:{label:!0,default:!0}});var a=X(l,2),n=e=>{var t=Xc(),o=v(t);Jl(o,{get value(){return m().discountLowLimit??0},set value(e){var t;t=e,m().discountLowLimit=t},label:"Score Cap",type:"number",variant:"filled"}),u(e,t)};Y(a,e=>{m().discountLowLimitIsOn&&e(n)});var s=X(a,2);Se(s,{class:"col-12 m-1 p-0",label:e=>{var t=le("Display Discounted Score");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().discountShow??!1},set checked(e){var t;t=e,m().discountShow=t},onchange:()=>{m().discountShow||(delete m().discountShow,delete m().discountBeforeText,delete m().discountAfterText)}})},$$slots:{label:!0,default:!0}});var c=X(s,2),g=e=>{var t=Zc(),o=D(t);Se(o,{class:"col-12 m-1 p-0",label:e=>{var t=le("Display Repeated Text Only Once");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().discountTextDuplicated??!1},set checked(e){var t;t=e,m().discountTextDuplicated=t},onchange:()=>{m().discountTextDuplicated||delete m().discountTextDuplicated}})},$$slots:{label:!0,default:!0}});var l=X(o,2),r=v(l);Jl(r,{get value(){return m().discountBeforeText??""},set value(e){var t;t=e,m().discountBeforeText=t},label:"Added to Text Before",variant:"filled"});var a=X(l,2),n=v(a);Jl(n,{get value(){return m().discountAfterText??""},set value(e){var t;t=e,m().discountAfterText=t},label:"Added to Text After",variant:"filled"}),b(()=>{w(l,1,I(i(ae))),w(a,1,I(i(ae)))}),u(e,t)};Y(c,e=>{m().discountShow&&e(g)});var h=X(c,2);Se(h,{class:"col-12 m-1 p-0",label:e=>{var t=le("Select Individual Choices Instead of Groups");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().isDisChoices??!1},set checked(e){var t;t=e,m().isDisChoices=t},onchange:()=>{m().isDisChoices?(m().discountChoices=[],m().discountRows=[],delete m().discountGroups):(delete m().isDisChoices,delete m().discountChoices,delete m().discountRows)}})},$$slots:{label:!0,default:!0}});var p=X(h,4),f=v(p),x=e=>{var t=Kc(),o=D(t);const l=Q(()=>m().discountRows??[]);js(o,{get acValue(){return i(l)},get acOptions(){return i(pe)},inputLabel:"Rows to apply discount",get getLabel(){return ri},get selectProp(){return m()}});var r=X(o,2);const a=Q(()=>m().discountChoices??[]);js(r,{get acValue(){return i(a)},get acOptions(){return i(me)},inputLabel:"Choices to apply discount",get getLabel(){return ii},get selectProp(){return m()}}),u(e,t)},$=e=>{const t=Q(()=>m().discountGroups??[]);js(e,{get acValue(){return i(t)},get acOptions(){return We(Lo,"$optimizedGroups",r)},inputLabel:"Groups to apply discount",get getLabel(){return li},get selectProp(){return m()}})};Y(f,e=>{m().isDisChoices?e(x):e($,!1)});var T=X(f,2);const y=Q(()=>m().discountPointTypes??[]);js(T,{get acValue(){return i(y)},get acOptions(){return d()},inputLabel:"Point Types to apply discount",get getLabel(){return oi},get selectProp(){return m()}});var B=X(p,2);ia(v(B),{label:"Operator",variant:"filled",get value(){return m().discountOperator},set value(e){m().discountOperator=e},children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>C,e=>e.text,(e,t)=>{la(e,{get value(){return i(t).value},children:(e,o)=>{var l=le();b(()=>re(l,i(t).text)),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}});var S=X(B,2),k=v(S);Jl(k,{get value(){return m().discountValue??0},set value(e){var t;t=e,m().discountValue=t},label:"Discount Value",type:"number",variant:"filled"}),b(()=>{w(B,1,I(i(ae))),w(S,1,I(i(ae)))}),u(e,t)};Y(p,e=>{m().discountOther&&e(f)});var x=X(p,2);Se(x,{class:"col-12 m-1 p-0",label:e=>{var t=le("Duplicate a Row");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().duplicateRow??!1},set checked(e){var t;t=e,m().duplicateRow=t},onchange:()=>{m().duplicateRow||(delete m().duplicateRow,delete m().dRowAddSufReq,delete m().dRowAddSufFunc,delete m().duplicateRowId,delete m().duplicateRowPlace)}})},$$slots:{label:!0,default:!0}});var $=X(x,2),T=e=>{var t=eu(),o=D(t);Se(o,{class:"col-12 m-1 p-0",label:e=>{var t=le("Do Not Add Suffix to Requirement IDs");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().dRowAddSufReq??!1},set checked(e){var t;t=e,m().dRowAddSufReq=t},onchange:()=>{m().dRowAddSufReq||delete m().dRowAddSufReq}})},$$slots:{label:!0,default:!0}});var l=X(o,2);Se(l,{class:"col-12 m-1 p-0",label:e=>{var t=le("Do Not Add Suffix to Function IDs");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().dRowAddSufFunc??!1},set checked(e){var t;t=e,m().dRowAddSufFunc=t},onchange:()=>{m().dRowAddSufFunc||delete m().dRowAddSufFunc}})},$$slots:{label:!0,default:!0}});var r=X(l,4),a=v(r);ks(a,{get options(){return i(pe)},get getOptionLabel(){return ri},label:"Source Row (to be duplicated)",toggle:!0,showMenuWithNoInput:!0,textfield$variant:"filled",class:"w-100 p-0",get value(){return m().duplicateRowId},set value(e){m().duplicateRowId=e}}),ks(X(a,2),{get options(){return i(pe)},get getOptionLabel(){return ri},label:"Target Placement (insert after)",toggle:!0,showMenuWithNoInput:!0,textfield$variant:"filled",class:"w-100 p-0",get value(){return m().duplicateRowPlace},set value(e){m().duplicateRowPlace=e}}),u(e,t)};Y($,e=>{m().duplicateRow&&e(T)});var k=X($,2);Se(k,{class:"col-12 m-1 p-0",label:e=>{var t=le("Hide the Contents of Choices");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().isContentHidden??!1},set checked(e){var t;t=e,m().isContentHidden=t},onchange:()=>{m().isContentHidden?(m().hiddenContentsRow=[],m().hiddenContentsType=[]):(delete m().isContentHidden,delete m().hiddenContentsRow,delete m().hiddenContentsType)}})},$$slots:{label:!0,default:!0}});var O=X(k,2),F=e=>{var t=tu(),o=D(t),l=v(o);const r=Q(()=>m().hiddenContentsRow??[]);js(l,{get acValue(){return i(r)},get acOptions(){return i(pe)},inputLabel:"Target Row",get getLabel(){return ri},get selectProp(){return m()}});var a=X(l,2);const n=Q(()=>m().hiddenContentsType??[]);js(a,{get acValue(){return i(n)},get acOptions(){return S},inputLabel:"Target Content",getLabel:e=>B[parseInt(e)-1],get selectProp(){return m()}}),u(e,t)};Y(O,e=>{m().isContentHidden&&e(F)});var R=X(O,2);Se(R,{class:"col-12 m-1 p-0",label:e=>{var t=le("Adjust Allowed Choices for Rows");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().addToAllowChoice??!1},set checked(e){var t;t=e,m().addToAllowChoice=t},onchange:()=>{m().addToAllowChoice?m().idOfAllowChoice=[]:(delete m().addToAllowChoice,delete m().idOfAllowChoice,delete m().numbAddToAllowChoice)}})},$$slots:{label:!0,default:!0}});var A=X(R,2),j=e=>{var t=ou(),o=D(t),l=v(o);const r=Q(()=>m().idOfAllowChoice??[]);js(l,{get acValue(){return i(r)},get acOptions(){return i(pe)},inputLabel:"Target Row",get getLabel(){return ri},get selectProp(){return m()}});var a=X(l,2);Jl(a,{get value(){return m().numbAddToAllowChoice??0},set value(e){var t;t=e,m().numbAddToAllowChoice=t},label:"Number to increase or decrease",type:"number",variant:"filled"}),u(e,t)};Y(A,e=>{m().addToAllowChoice&&e(j)});var P=X(A,2);Se(P,{class:"col-12 m-1 p-0",label:e=>{var t=le("Show All Addons");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().showAllAddons??!1},set checked(e){var t;t=e,m().showAllAddons=t},onchange:()=>{m().showAllAddons||delete m().showAllAddons}})},$$slots:{label:!0,default:!0}});var q=X(P,2);Se(q,{class:"col-12 m-1 p-0",label:e=>{var t=le("Change Image Template");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().changeTemplates??!1},set checked(e){var t;t=e,m().changeTemplates=t},onchange:()=>{m().changeTemplates?m().changeToThisTemplate=1:(delete m().changeTemplates,delete m().changeTemplatesList,delete m().changeToThisTemplate)}})},$$slots:{label:!0,default:!0}});var L=X(q,2),W=e=>{var t=iu(),o=D(t);Se(o,{class:"col-12 m-1 p-0",label:e=>{var t=le("Change Addon Image Template too");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().changeAddonTemplate??!1},set checked(e){var t;t=e,m().changeAddonTemplate=t},onchange:()=>{m().changeAddonTemplate||delete m().changeAddonTemplate}})},$$slots:{label:!0,default:!0}});var l=X(o,4),r=v(l);ia(r,{get value(){return m().changeToThisTemplate??1},set value(e){var t;t=e,m().changeToThisTemplate=t},label:"Template",variant:"filled",alwaysFloat:!0,children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>y,e=>e.text,(e,t)=>{la(e,{get value(){return i(t).value},children:(e,o)=>{var l=le();b(()=>re(l,i(t).text)),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}});var a=X(l,2),n=v(a);Jl(n,{get value(){return m().changeTemplatesList??""},set value(e){var t;t=e,m().changeTemplatesList=t},label:"Row / Choice / Group IDs",variant:"filled"}),u(e,t)};Y(L,e=>{m().changeTemplates&&e(W)});var V=X(L,2);Se(V,{class:"col-12 m-1 p-0",label:e=>{var t=le("Change Choices Per Row");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().changeWidth??!1},set checked(e){var t;t=e,m().changeWidth=t},onchange:()=>{m().changeWidth?m().changeToThisWidth="":(delete m().changeWidth,delete m().changeWidthList,delete m().changeToThisWidth)}})},$$slots:{label:!0,default:!0}});var N=X(V,2),z=e=>{var t=lu(),o=X(D(t),2),l=v(o);ia(l,{get value(){return m().changeToThisWidth??""},set value(e){var t;t=e,m().changeToThisWidth=t},label:"Template",variant:"filled",alwaysFloat:!0,children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>io,e=>e.text,(e,t)=>{la(e,{get value(){return i(t).value},children:(e,o)=>{var l=le();b(()=>re(l,i(t).text)),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}});var r=X(o,2),a=v(r);Jl(a,{get value(){return m().changeWidthList??""},set value(e){var t;t=e,m().changeWidthList=t},label:"Row / Choice / Group IDs",variant:"filled"}),u(e,t)};Y(N,e=>{m().changeWidth&&e(z)}),u(e,t)};Y(l,e=>{i(V)&&e(a)}),u(e,o)},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}});var s=X(a,2);const g=Q(()=>i(N)?"on-top":"");Es(s,{get class(){return`bordered-panel ${i(g)??""}`},variant:"unelevated",conditionalRender:!0,get open(){return i(N)},set open(e){c(N,e,!0)},children:(e,t)=>{var o=Iu(),l=D(o);Xs(l,{class:"p-0",icon:e=>{Ye(e,{toggle:!0,get pressed(){return i(N)},size:"mini",children:(e,t)=>{var o=nu(),i=D(o);dt(i,{class:"mdi mdi-chevron-up",on:!0});var l=X(i,2);dt(l,{class:"mdi mdi-chevron-down"}),u(e,o)},$$slots:{default:!0}})},children:(e,t)=>{var o=le("- Effects");u(e,o)},$$slots:{icon:!0,default:!0}});var r=X(l,2);Re(r,{style:"overflow:visible",children:(e,t)=>{var o=M(),l=D(o),r=e=>{var t=wu(),o=v(t);Se(o,{class:"col-12 m-1 p-0",label:e=>{var t=le("Scroll to Row");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().scrollToRow??!1},set checked(e){var t;t=e,m().scrollToRow=t},onchange:()=>{m().scrollToRow||(delete m().scrollToRow,delete m().scrollToObject,delete m().scrollObjectId,delete m().scrollRowId)}})},$$slots:{label:!0,default:!0}});var l=X(o,2),r=e=>{var t=su(),o=D(t);Se(o,{class:"col-12 m-1 p-0",label:e=>{var t=le("Scroll to Choice Instead");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().scrollToObject??!1},set checked(e){var t;t=e,m().scrollToObject=t},onchange:()=>{m().scrollToObject?delete m().scrollRowId:(delete m().scrollToObject,delete m().scrollObjectId)}})},$$slots:{label:!0,default:!0}});var l=X(o,2),r=v(l),a=e=>{ks(e,{get options(){return i(pe)},get getOptionLabel(){return ii},label:"Target Choice",toggle:!0,showMenuWithNoInput:!0,textfield$variant:"filled",class:"w-100 p-0",get value(){return m().scrollObjectId},set value(e){m().scrollObjectId=e}})},n=e=>{ks(e,{get options(){return i(pe)},get getOptionLabel(){return ri},label:"Target Row",toggle:!0,showMenuWithNoInput:!0,textfield$variant:"filled",class:"w-100 p-0",get value(){return m().scrollRowId},set value(e){m().scrollRowId=e}})};Y(r,e=>{m().scrollToObject?e(a):e(n,!1)}),u(e,t)};Y(l,e=>{m().scrollToRow&&e(r)});var a=X(l,2);Se(a,{class:"col-12 m-1 p-0",label:e=>{var t=le("Change Point Bar Design");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().changePointBar??!1},set checked(e){var t;t=e,m().changePointBar=t},onchange:()=>{m().changePointBar||(delete m().changePointBar,delete m().changeBarBgColorIsOn,delete m().changeBarTextColorIsOn,delete m().changeBarIconColorIsOn,delete m().changedBarBgColor,delete m().changedBarTextColor,delete m().changedBarIconColor)}})},$$slots:{label:!0,default:!0}});var n=X(a,2),s=e=>{var t=gu(),o=D(t);Se(o,{class:"col-12 m-1 p-0",label:e=>{var t=le("Change Point Bar Background Color");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().changeBarBgColorIsOn??!1},set checked(e){var t;t=e,m().changeBarBgColorIsOn=t},onchange:()=>{m().changeBarBgColorIsOn?m().changedBarBgColor="#000000":(delete m().changeBarBgColorIsOn,delete m().changedBarBgColor)}})},$$slots:{label:!0,default:!0}});var i=X(o,2),l=e=>{var t=du(),o=v(t);Sr(o,{get hex(){return m().changedBarBgColor??"#000000"},set hex(e){var t;t=e,m().changedBarBgColor=t},get components(){return Or},sliderDirection:"horizontal"}),u(e,t)};Y(i,e=>{m().changeBarBgColorIsOn&&e(l)});var r=X(i,2);Se(r,{class:"col-12 m-1 p-0",label:e=>{var t=le("Change Point Bar Text Color");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().changeBarTextColorIsOn??!1},set checked(e){var t;t=e,m().changeBarTextColorIsOn=t},onchange:()=>{m().changeBarTextColorIsOn?m().changedBarTextColor="#000000":(delete m().changeBarTextColorIsOn,delete m().changedBarTextColor)}})},$$slots:{label:!0,default:!0}});var a=X(r,2),n=e=>{var t=cu(),o=v(t);Sr(o,{get hex(){return m().changedBarTextColor??"#000000"},set hex(e){var t;t=e,m().changedBarTextColor=t},get components(){return Or},sliderDirection:"horizontal"}),u(e,t)};Y(a,e=>{m().changeBarTextColorIsOn&&e(n)});var s=X(a,2);Se(s,{class:"col-12 m-1 p-0",label:e=>{var t=le("Change Point Bar Icon Color");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().changeBarIconColorIsOn??!1},set checked(e){var t;t=e,m().changeBarIconColorIsOn=t},onchange:()=>{m().changeBarIconColorIsOn?m().changedBarIconColor="#000000":(delete m().changeBarIconColorIsOn,delete m().changedBarIconColor)}})},$$slots:{label:!0,default:!0}});var d=X(s,2),c=e=>{var t=uu(),o=v(t);Sr(o,{get hex(){return m().changedBarIconColor??"#000000"},set hex(e){var t;t=e,m().changedBarIconColor=t},get components(){return Or},sliderDirection:"horizontal"}),u(e,t)};Y(d,e=>{m().changeBarIconColorIsOn&&e(c)}),u(e,t)};Y(n,e=>{m().changePointBar&&e(s)});var d=X(n,2);Se(d,{class:"col-12 m-1 p-0",label:e=>{var t=le("Change Background Color");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().changeBackground??!1},set checked(e){var t;t=e,m().changeBackground=t},onchange:()=>{m().changeBackground?m().changedBgColorCode="#000000":(delete m().changeBackground,delete m().changedBgColorCode,delete m().changeBgImage,delete m().bgImage)}})},$$slots:{label:!0,default:!0}});var c=X(d,2),g=e=>{var t=mu(),o=D(t);Se(o,{class:"col-12 m-1 p-0",label:e=>{var t=le("Use Backgrond Image");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().changeBgImage??!1},set checked(e){var t;t=e,m().changeBgImage=t},onchange:()=>{m().changeBgImage?delete m().changedBgColorCode:(delete m().changeBgImage,delete m().bgImage)}})},$$slots:{label:!0,default:!0}});var i=X(o,2),l=e=>{var t=hu(),o=v(t),i=e=>{var t=vu();t.__click=()=>{yo.currentDialog="appImageUpload",yo.data=m(),yo.imgProp="bgImage"};var o=v(t);b(()=>xe(o,"src",m().bgImage)),u(e,t)};Y(o,e=>{m().bgImage&&!app.hideImages&&e(i)});var l=X(o,2);ue(l,{onclick:()=>{yo.currentDialog="appImageUpload",yo.data=m(),yo.imgProp="bgImage"},variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Change Image");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,t)},r=e=>{var t=pu(),o=v(t);Sr(o,{get hex(){return m().changedBgColorCode??"#000000"},set hex(e){var t;t=e,m().changedBgColorCode=t},get components(){return Or},sliderDirection:"horizontal"}),u(e,t)};Y(i,e=>{m().changeBgImage?e(l):e(r,!1)}),u(e,t)};Y(c,e=>{m().changeBackground&&e(g)});var h=X(c,2);Se(h,{class:"col-12 m-1 p-0",label:e=>{var t=le("Enable Background Music");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().setBgmIsOn??!1},set checked(e){var t;t=e,m().setBgmIsOn=t},onchange:()=>{m().setBgmIsOn||(delete m().setBgmIsOn,delete m().bgmNoLoop,delete m().bgmFadeIn,delete m().bgmFadeInSec,delete m().bgmFadeOut,delete m().bgmFadeOutSec,delete m().bgmId)}})},$$slots:{label:!0,default:!0}});var p=X(h,2),f=e=>{var t=fu(),o=D(t);Se(o,{class:"col-12 m-1 p-0",label:e=>{var t=le("Do Not Loop Music");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().bgmNoLoop??!1},set checked(e){var t;t=e,m().bgmNoLoop=t},onchange:()=>{m().bgmNoLoop||delete m().bgmNoLoop}})},$$slots:{label:!0,default:!0}});var i=X(o,2);Se(i,{class:"col-12 m-1 p-0",label:e=>{var t=le("Enable Fade In");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().bgmFadeIn??!1},set checked(e){var t;t=e,m().bgmFadeIn=t},onchange:()=>{m().bgmFadeIn?m().bgmFadeInSec=0:(delete m().bgmFadeIn,delete m().bgmFadeInSec)}})},$$slots:{label:!0,default:!0}});var l=X(i,2);Se(l,{class:"col-12 m-1 p-0",label:e=>{var t=le("Enable Fade Out");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().bgmFadeOut??!1},set checked(e){var t;t=e,m().bgmFadeOut=t},onchange:()=>{m().bgmFadeOut?m().bgmFadeOutSec=0:(delete m().bgmFadeOut,delete m().bgmFadeOutSec)}})},$$slots:{label:!0,default:!0}});var r=X(l,4),a=v(r),n=e=>{Jl(e,{get value(){return m().bgmFadeInSec??0},set value(e){var t;t=e,m().bgmFadeInSec=t},label:"Fade In Duration",type:"number",suffix:"ms",variant:"filled"})};Y(a,e=>{m().bgmFadeIn&&e(n)});var s=X(a,2),d=e=>{Jl(e,{get value(){return m().bgmFadeOutSec??0},set value(e){var t;t=e,m().bgmFadeOutSec=t},label:"Fade Out Duration",type:"number",suffix:"ms",variant:"filled"})};Y(s,e=>{m().bgmFadeOut&&e(d)});var c=X(s,2);Jl(c,{get value(){return m().bgmId??""},set value(e){var t;t=e,m().bgmId=t},label:"Youtube Video ID",variant:"filled"}),u(e,t)};Y(p,e=>{m().setBgmIsOn&&e(f)});var w=X(p,2);Se(w,{class:"col-12 m-1 p-0",label:e=>{var t=le("Mute Background Music");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().muteBgm??!1},set checked(e){var t;t=e,m().muteBgm=t},onchange:()=>{m().muteBgm||delete m().muteBgm}})},$$slots:{label:!0,default:!0}});var I=X(w,2);Se(I,{class:"col-12 m-1 p-0",label:e=>{var t=le("Trigger Fade Transition");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().isFadeTransition??!1},set checked(e){var t;t=e,m().isFadeTransition=t},onchange:()=>{m().isFadeTransition?(m().fadeTransitionColor="#000000FF",m().fadeInTransitionTime=250,m().fadeOutTransitionTime=250):(delete m().isFadeTransition,delete m().fadeTransitionColor,delete m().fadeInTransitionTime,delete m().fadeOutTransitionTime)}})},$$slots:{label:!0,default:!0}});var x=X(I,2),$=e=>{var t=bu(),o=D(t),i=v(o);Sr(i,{get hex(){return m().fadeTransitionColor??"#000000FF"},set hex(e){var t;t=e,m().fadeTransitionColor=t},get components(){return Or},sliderDirection:"horizontal"});var l=X(o,2),r=v(l);Jl(r,{get value(){return m().fadeInTransitionTime??0},set value(e){var t;t=e,m().fadeInTransitionTime=t},label:"Fade In Duration",type:"number",suffix:"ms",variant:"filled"});var a=X(l,2),n=v(a);Jl(n,{get value(){return m().fadeOutTransitionTime??0},set value(e){var t;t=e,m().fadeOutTransitionTime=t},label:"Fade Out Duration",type:"number",suffix:"ms",variant:"filled"}),u(e,t)};Y(x,e=>{m().isFadeTransition&&e($)}),u(e,t)};Y(l,e=>{i(N)&&e(r)}),u(e,o)},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}});var h=X(s,2);const p=Q(()=>i(z)?"on-top":"");Es(h,{get class(){return`bordered-panel ${i(p)??""}`},variant:"unelevated",conditionalRender:!0,get open(){return i(z)},set open(e){c(z,e,!0)},children:(e,t)=>{var o=ku(),l=D(o);Xs(l,{class:"p-0",icon:e=>{Ye(e,{toggle:!0,get pressed(){return i(z)},size:"mini",children:(e,t)=>{var o=xu(),i=D(o);dt(i,{class:"mdi mdi-chevron-up",on:!0});var l=X(i,2);dt(l,{class:"mdi mdi-chevron-down"}),u(e,o)},$$slots:{default:!0}})},children:(e,t)=>{var o=le("- Miscellaneous");u(e,o)},$$slots:{icon:!0,default:!0}});var a=X(l,2);Re(a,{style:"overflow:visible",children:(e,t)=>{var o=M(),l=D(o),a=e=>{var t=Su(),o=v(t);Se(o,{class:"col-12 m-1 p-0",label:e=>{var t=le("Multiply into Point Types");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().multiplyPointtypeIsOn??!1},set checked(e){var t;t=e,m().multiplyPointtypeIsOn=t},onchange:()=>{m().multiplyPointtypeIsOn?m().pointTypeToMultiply=[]:(delete m().multiplyPointtypeIsOn,delete m().multiplyPointtypeIsId,delete m().pointTypeToMultiply,delete m().multiplyWithThis)}})},$$slots:{label:!0,default:!0}});var l=X(o,2),a=e=>{var t=$u(),o=D(t);Se(o,{class:"col-12 m-1 p-0",label:e=>{var t=le("Use a Point Type as multiplier");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().multiplyPointtypeIsId??!1},set checked(e){var t;t=e,m().multiplyPointtypeIsId=t},onchange:()=>{m().multiplyPointtypeIsId?m().multiplyWithThis=0:(delete m().multiplyPointtypeIsId,delete m().multiplyWithThis)}})},$$slots:{label:!0,default:!0}});var l=X(o,2),r=v(l);const a=Q(()=>m().pointTypeToMultiply??[]);js(r,{get acValue(){return i(a)},get acOptions(){return d()},inputLabel:"Target Point Type",get getLabel(){return oi},get selectProp(){return m()}});var n=X(r,2),s=e=>{ks(e,{get options(){return d()},get getOptionLabel(){return oi},label:"Multiplied by",toggle:!0,showMenuWithNoInput:!0,textfield$variant:"filled",class:"w-100 p-0",get value(){return m().multiplyWithThis},set value(e){m().multiplyWithThis=e}})},c=e=>{Jl(e,{get value(){return m().multiplyWithThis??0},set value(e){var t;t=e,m().multiplyWithThis=t},label:"Multiplied by",type:"number",variant:"filled"})};Y(n,e=>{m().multiplyPointtypeIsId?e(s):e(c,!1)}),u(e,t)};Y(l,e=>{m().multiplyPointtypeIsOn&&e(a)});var n=X(l,2);Se(n,{class:"col-12 m-1 p-0",label:e=>{var t=le("Divide into Point Types");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().dividePointtypeIsOn??!1},set checked(e){var t;t=e,m().dividePointtypeIsOn=t},onchange:()=>{m().dividePointtypeIsOn?m().pointTypeToDivide=[]:(delete m().dividePointtypeIsOn,delete m().pointTypeToDivide,delete m().divideWithThis)}})},$$slots:{label:!0,default:!0}});var s=X(n,2),c=e=>{var t=Tu(),o=D(t),l=v(o);const r=Q(()=>m().pointTypeToDivide??[]);js(l,{get acValue(){return i(r)},get acOptions(){return d()},inputLabel:"Target Point Type",get getLabel(){return oi},get selectProp(){return m()}});var a=X(l,2);Jl(a,{get value(){return m().divideWithThis??0},set value(e){var t;t=e,m().divideWithThis=t},label:"Divided by",type:"number",variant:"filled"}),u(e,t)};Y(s,e=>{m().dividePointtypeIsOn&&e(c)});var g=X(s,2);Se(g,{class:"col-12 m-1 p-0",label:e=>{var t=le("Set Variable Status");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().isChangeVariables??!1},set checked(e){var t;t=e,m().isChangeVariables=t},onchange:()=>{m().isChangeVariables?(m().changedVariables=[],m().changeType="1"):(delete m().isChangeVariables,delete m().changedVariables,delete m().changeType)}})},$$slots:{label:!0,default:!0}});var h=X(g,2),p=e=>{var t=yu(),o=D(t),l=v(o);const a=Q(()=>m().changedVariables??[]);js(l,{get acValue(){return i(a)},get acOptions(){return We(Vo,"$optimizedVariables",r)},inputLabel:"Target Variable",get selectProp(){return m()}}),ia(X(l,2),{label:"Value",variant:"filled",get value(){return m().changeType},set value(e){m().changeType=e},children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>k,e=>e.text,(e,t)=>{la(e,{get value(){return i(t).value},children:(e,o)=>{var l=le();b(()=>re(l,i(t).text)),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}}),u(e,t)};Y(h,e=>{m().isChangeVariables&&e(p)});var f=X(h,2);Se(f,{class:"col-12 m-1 p-0",label:e=>{var t=le("Change Word");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().textfieldIsOn??!1},set checked(e){var t;t=e,m().textfieldIsOn=t},onchange:()=>{m().textfieldIsOn?(m().wordChangeSelect="",m().wordChangeDeselect="",delete m().confirmIsOn):(delete m().textfieldIsOn,delete m().customTextfieldIsOn,delete m().idOfTheTextfieldWord,delete m().wordPromptText,delete m().wordChangeSelect,delete m().wordChangeDeselect)}})},$$slots:{label:!0,default:!0}});var w=X(f,2),I=e=>{var t=Cu(),o=D(t);Se(o,{class:"col-12 m-1 p-0",label:e=>{var t=le("Allows the Player to Set Word");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().customTextfieldIsOn??!1},set checked(e){var t;t=e,m().customTextfieldIsOn=t},onchange:()=>{m().customTextfieldIsOn?m().wordPromptText="":(delete m().customTextfieldIsOn,delete m().wordPromptText)}})},$$slots:{label:!0,default:!0}});var i=X(o,2),l=v(i);ks(l,{get options(){return We(No,"$optimizedWords",r)},label:"Word ID",toggle:!0,showMenuWithNoInput:!0,textfield$variant:"filled",class:"w-100 p-0",get value(){return m().idOfTheTextfieldWord},set value(e){m().idOfTheTextfieldWord=e}});var a=X(l,2),n=e=>{Jl(e,{get value(){return m().wordPromptText??""},set value(e){var t;t=e,m().wordPromptText=t},label:"Prompt Text",variant:"filled"})},s=e=>{Jl(e,{get value(){return m().wordChangeSelect??""},set value(e){var t;t=e,m().wordChangeSelect=t},label:"Replacement Text when Selected",variant:"filled"})};Y(a,e=>{m().customTextfieldIsOn?e(n):e(s,!1)});var d=X(a,2);Jl(d,{get value(){return m().wordChangeDeselect??""},set value(e){var t;t=e,m().wordChangeDeselect=t},label:"Replacement Text when Deselected",variant:"filled"}),u(e,t)};Y(w,e=>{m().textfieldIsOn&&e(I)});var x=X(w,2);Se(x,{class:"col-12 m-1 p-0",label:e=>{var t=le("Show Confirm Dialog");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().confirmIsOn??!1},set checked(e){var t;t=e,m().confirmIsOn=t},onchange:()=>{m().confirmIsOn?(m().wordPromptText="",delete m().textfieldIsOn,delete m().customTextfieldIsOn,delete m().idOfTheTextfieldWord,delete m().wordPromptText,delete m().wordChangeSelect,delete m().wordChangeDeselect):(delete m().confirmIsOn,delete m().wordPromptText)}})},$$slots:{label:!0,default:!0}});var $=X(x,2),T=e=>{var t=Bu(),o=D(t),i=v(o);Jl(i,{get value(){return m().wordPromptText??""},set value(e){var t;t=e,m().wordPromptText=t},label:"Dialog Text",variant:"filled"}),u(e,t)};Y($,e=>{m().confirmIsOn&&e(T)});var y=X($,2);Se(y,{class:"col-12 m-1 p-0",label:e=>{var t=le("Must Be Selected to Show Backpack Button");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return m().backpackBtnRequirement??!1},set checked(e){var t;t=e,m().backpackBtnRequirement=t},onchange:()=>{m().backpackBtnRequirement?app.hideBackpackBtn+=1:(delete m().backpackBtnRequirement,app.hideBackpackBtn-=1)}})},$$slots:{label:!0,default:!0}});u(e,t)};Y(l,e=>{i(z)&&e(a)}),u(e,o)},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),b(()=>{w(O,1,I(i(ae))),w(R,1,I(i(ae))),w(E,1,I(i(ae))),w(H,1,I(i(ae)))}),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}}),b(e=>w(t,1,e),[()=>I(Oe())]),at(o,"clientWidth",e=>c(ee,e)),u(e,t)},Qe=(e,t)=>{var l=e=>{var t=lg(),l=v(t);let r;var a=v(l);a.__click=()=>qe(m(),p());var n=v(a),d=e=>{var t=Uu(),l=v(t),r=e=>{var t=Mu(),o=v(t);s(o,()=>nt.sanitize(xi(i(he).title),xo)),b(()=>we(t,i(Be))),u(e,t)};Y(l,e=>{p().resultShowRowTitle&&e(r)});var a=X(l,2),n=e=>{var t=M(),o=D(t),l=e=>{Dt(e,{innerClass:"w-100",get text(){return m().imageSourceTooltip},children:(e,t)=>{var o=Du();b(()=>{xe(o,"src",m().image),we(o,i(Ce)),xe(o,"loading",f()?"eager":"lazy")}),u(e,o)},$$slots:{default:!0}})},r=e=>{var t=Pu();b(()=>{xe(t,"src",m().image),we(t,i(Ce)),xe(t,"loading",f()?"eager":"lazy")}),u(e,t)};Y(o,e=>{m().imageSourceTooltip?e(l):e(r,!1)}),u(e,t)};Y(a,e=>{(1===m().template||o.windowWidth<=960||p().choicesShareTemplate)&&m().image&&!p().objectImageRemoved&&e(n)});var d=X(a,2),c=v(d),g=e=>{var t=qu(),o=v(t);s(o,()=>nt.sanitize(xi(m().title),xo)),b(()=>we(t,i(fe))),u(e,t)};Y(c,e=>{""===m().title||p().objectTitleRemoved||e(g)});var h=X(c,2),I=e=>{const t=Q(()=>i(se)&&!p().isInfoRow&&!m().isNotSelectable);uc(e,{get isEnabled(){return i(t)},get multiChoiceButton(){return i(Ie)},get multiChoiceText(){return i(be)},get choice(){return m()},selectedOneMore:()=>_e(m(),p()),selectedOneLess:()=>Je(m(),p())})};Y(h,e=>{m().isSelectableMultiple&&i($e)&&0===i(E).multiChoiceCounterPosition&&e(I)});var x=X(h,2),$=e=>{var t=M(),o=D(t);Ee(o,17,()=>m().scores,He,(e,t)=>{Cc(e,{get score(){return i(t)},get row(){return p()},get choice(){return m()}})}),u(e,t)};Y(x,e=>{p().objectScoreRemoved||e($)});var T=X(x,2),y=e=>{const t=Q(()=>i(se)&&!p().isInfoRow&&!m().isNotSelectable);uc(e,{get isEnabled(){return i(t)},get multiChoiceButton(){return i(Ie)},get multiChoiceText(){return i(be)},get choice(){return m()},selectedOneMore:()=>_e(m(),p()),selectedOneLess:()=>Je(m(),p())})};Y(T,e=>{m().isSelectableMultiple&&i($e)&&1===i(E).multiChoiceCounterPosition&&e(y)});var C=X(T,2),B=e=>{var t=M(),o=D(t);Ee(o,17,()=>m().requireds,He,(e,t)=>{Fd(e,{get required(){return i(t)},get scoreText(){return i(Be)}})}),u(e,t)};Y(C,e=>{p().objectRequirementRemoved||e(B)});var S=X(C,2),k=e=>{const t=Q(()=>i(se)&&!p().isInfoRow&&!m().isNotSelectable);uc(e,{get isEnabled(){return i(t)},get multiChoiceButton(){return i(Ie)},get multiChoiceText(){return i(be)},get choice(){return m()},selectedOneMore:()=>_e(m(),p()),selectedOneLess:()=>Je(m(),p())})};Y(S,e=>{m().isSelectableMultiple&&i($e)&&2===i(E).multiChoiceCounterPosition&&e(k)});var O=X(S,2),F=e=>{var t=M(),o=D(t),l=e=>{Dt(e,{innerClass:"w-100",get text(){return m().imageSourceTooltip},children:(e,t)=>{var o=Lu();b(()=>{xe(o,"src",m().image),we(o,i(Ce)),xe(o,"loading",f()?"eager":"lazy")}),u(e,o)},$$slots:{default:!0}})},r=e=>{var t=Wu();b(()=>{xe(t,"src",m().image),we(t,i(Ce)),xe(t,"loading",f()?"eager":"lazy")}),u(e,t)};Y(o,e=>{m().imageSourceTooltip?e(l):e(r,!1)}),u(e,t)};Y(O,e=>{5===m().template&&m().image&&!p().objectImageRemoved&&e(F)});var R=X(O,2),A=e=>{var t=Vu(),o=v(t);s(o,()=>nt.sanitize(xi(m().text),xo)),b(()=>we(t,i(Te))),u(e,t)};Y(R,e=>{""===m().text||p().objectTextRemoved||e(A)});var j=X(R,2),P=e=>{const t=Q(()=>i(se)&&!p().isInfoRow&&!m().isNotSelectable);uc(e,{get isEnabled(){return i(t)},get multiChoiceButton(){return i(Ie)},get multiChoiceText(){return i(be)},get choice(){return m()},selectedOneMore:()=>_e(m(),p()),selectedOneLess:()=>Je(m(),p())})};Y(j,e=>{m().isSelectableMultiple&&i($e)&&3===i(E).multiChoiceCounterPosition&&e(P)});var q=X(j,2),L=e=>{var t=M(),o=D(t),l=e=>{Dt(e,{innerClass:"w-100",get text(){return m().imageSourceTooltip},children:(e,t)=>{var o=Nu();b(()=>{xe(o,"src",m().image),we(o,i(Ce)),xe(o,"loading",f()?"eager":"lazy")}),u(e,o)},$$slots:{default:!0}})},r=e=>{var t=zu();b(()=>{xe(t,"src",m().image),we(t,i(Ce)),xe(t,"loading",f()?"eager":"lazy")}),u(e,t)};Y(o,e=>{m().imageSourceTooltip?e(l):e(r,!1)}),u(e,t)};Y(q,e=>{4===m().template&&m().image&&!p().objectImageRemoved&&e(L)});var W=X(d,2);Ee(W,21,()=>m().addons,He,(e,t)=>{rc(e,{get row(){return p()},get choice(){return m()},get addon(){return i(t)},get isEnabled(){return i(se)},get windowWidth(){return o.windowWidth},get preloadImages(){return f()}})});var V=X(W,2),N=e=>{const t=Q(()=>i(se)&&!p().isInfoRow&&!m().isNotSelectable);uc(e,{get isEnabled(){return i(t)},get multiChoiceButton(){return i(Ie)},get multiChoiceText(){return i(be)},get choice(){return m()},selectedOneMore:()=>_e(m(),p()),selectedOneLess:()=>Je(m(),p())})};Y(V,e=>{m().isSelectableMultiple&&i($e)&&4===i(E).multiChoiceCounterPosition&&e(N)}),b(()=>w(W,1,`d-column pa-0 col w-100 ${i(de)??""}`)),u(e,t)},c=e=>{var t=M(),l=D(t),r=e=>{var t=Xu(),l=D(t),r=v(l),a=e=>{var t=M(),o=D(t),l=e=>{Dt(e,{innerClass:"w-100",get text(){return m().imageSourceTooltip},children:(e,t)=>{var o=Gu();b(()=>{xe(o,"src",m().image),we(o,i(Ce)),xe(o,"loading",f()?"eager":"lazy")}),u(e,o)},$$slots:{default:!0}})},r=e=>{var t=Eu();b(()=>{xe(t,"src",m().image),we(t,i(Ce)),xe(t,"loading",f()?"eager":"lazy")}),u(e,t)};Y(o,e=>{m().imageSourceTooltip?e(l):e(r,!1)}),u(e,t)};Y(r,e=>{m().image&&!p().objectImageRemoved&&e(a)});var n=X(l,2),d=v(n),c=e=>{var t=Hu(),o=v(t);s(o,()=>nt.sanitize(xi(m().title),xo)),b(()=>we(t,i(fe))),u(e,t)};Y(d,e=>{""===m().title||p().objectTitleRemoved||e(c)});var g=X(d,2),h=e=>{const t=Q(()=>i(se)&&!p().isInfoRow&&!m().isNotSelectable);uc(e,{get isEnabled(){return i(t)},get multiChoiceButton(){return i(Ie)},get multiChoiceText(){return i(be)},get choice(){return m()},selectedOneMore:()=>_e(m(),p()),selectedOneLess:()=>Je(m(),p())})};Y(g,e=>{m().isSelectableMultiple&&i($e)&&0===i(E).multiChoiceCounterPosition&&e(h)});var I=X(g,2),x=e=>{var t=M(),o=D(t);Ee(o,17,()=>m().scores,He,(e,t)=>{Cc(e,{get score(){return i(t)},get row(){return p()},get choice(){return m()}})}),u(e,t)};Y(I,e=>{p().objectScoreRemoved||e(x)});var $=X(I,2),T=e=>{const t=Q(()=>i(se)&&!p().isInfoRow&&!m().isNotSelectable);uc(e,{get isEnabled(){return i(t)},get multiChoiceButton(){return i(Ie)},get multiChoiceText(){return i(be)},get choice(){return m()},selectedOneMore:()=>_e(m(),p()),selectedOneLess:()=>Je(m(),p())})};Y($,e=>{m().isSelectableMultiple&&i($e)&&1===i(E).multiChoiceCounterPosition&&e(T)});var y=X($,2),C=e=>{var t=M(),o=D(t);Ee(o,17,()=>m().requireds,He,(e,t)=>{Fd(e,{get required(){return i(t)},get scoreText(){return i(Be)}})}),u(e,t)};Y(y,e=>{p().objectRequirementRemoved||e(C)});var B=X(y,2),S=e=>{const t=Q(()=>i(se)&&!p().isInfoRow&&!m().isNotSelectable);uc(e,{get isEnabled(){return i(t)},get multiChoiceButton(){return i(Ie)},get multiChoiceText(){return i(be)},get choice(){return m()},selectedOneMore:()=>_e(m(),p()),selectedOneLess:()=>Je(m(),p())})};Y(B,e=>{m().isSelectableMultiple&&i($e)&&2===i(E).multiChoiceCounterPosition&&e(S)});var k=X(B,2),O=e=>{var t=_u(),o=v(t);s(o,()=>nt.sanitize(xi(m().text),xo)),b(()=>we(t,i(Te))),u(e,t)};Y(k,e=>{""===m().text||p().objectTextRemoved||e(O)});var F=X(k,2),R=e=>{const t=Q(()=>i(se)&&!p().isInfoRow&&!m().isNotSelectable);uc(e,{get isEnabled(){return i(t)},get multiChoiceButton(){return i(Ie)},get multiChoiceText(){return i(be)},get choice(){return m()},selectedOneMore:()=>_e(m(),p()),selectedOneLess:()=>Je(m(),p())})};Y(F,e=>{m().isSelectableMultiple&&i($e)&&3===i(E).multiChoiceCounterPosition&&e(R)});var A=X(F,2),j=e=>{var t=Ju(),l=D(t);Ee(l,21,()=>m().addons,He,(e,t)=>{rc(e,{get row(){return p()},get choice(){return m()},get addon(){return i(t)},get isEnabled(){return i(se)},get windowWidth(){return o.windowWidth},get preloadImages(){return f()}})});var r=X(l,2),a=e=>{const t=Q(()=>i(se)&&!p().isInfoRow&&!m().isNotSelectable);uc(e,{get isEnabled(){return i(t)},get multiChoiceButton(){return i(Ie)},get multiChoiceText(){return i(be)},get choice(){return m()},selectedOneMore:()=>_e(m(),p()),selectedOneLess:()=>Je(m(),p())})};Y(r,e=>{m().isSelectableMultiple&&i($e)&&4===i(E).multiChoiceCounterPosition&&e(a)}),b(()=>w(l,1,`d-column pa-0 col w-100 ${i(de)??""}`)),u(e,t)};Y(A,e=>{m().useSeperateAddon||e(j)});var P=X(n,2),q=e=>{var t=Yu(),l=v(t);Ee(l,21,()=>m().addons,He,(e,t)=>{rc(e,{get row(){return p()},get choice(){return m()},get addon(){return i(t)},get isEnabled(){return i(se)},get windowWidth(){return o.windowWidth},get preloadImages(){return f()}})});var r=X(l,2),a=e=>{const t=Q(()=>i(se)&&!p().isInfoRow&&!m().isNotSelectable);uc(e,{get isEnabled(){return i(t)},get multiChoiceButton(){return i(Ie)},get multiChoiceText(){return i(be)},get choice(){return m()},selectedOneMore:()=>_e(m(),p()),selectedOneLess:()=>Je(m(),p())})};Y(r,e=>{m().isSelectableMultiple&&i($e)&&4===i(E).multiChoiceCounterPosition&&e(a)}),b(()=>w(l,1,`d-column pa-0 col w-100 ${i(de)??""}`)),u(e,t)};Y(P,e=>{m().useSeperateAddon&&e(q)}),b(()=>{we(l,`max-width: ${i(K)??""}%`),we(n,`max-width: ${100-i(K)}%`)}),u(e,t)},a=(e,t)=>{var l=e=>{var t=ig(),l=D(t),r=v(l),a=e=>{var t=Zu(),o=v(t);s(o,()=>nt.sanitize(xi(m().title),xo)),b(()=>we(t,i(fe))),u(e,t)};Y(r,e=>{""===m().title||p().objectTitleRemoved||e(a)});var n=X(r,2),d=e=>{const t=Q(()=>i(se)&&!p().isInfoRow&&!m().isNotSelectable);uc(e,{get isEnabled(){return i(t)},get multiChoiceButton(){return i(Ie)},get multiChoiceText(){return i(be)},get choice(){return m()},selectedOneMore:()=>_e(m(),p()),selectedOneLess:()=>Je(m(),p())})};Y(n,e=>{m().isSelectableMultiple&&i($e)&&0===i(E).multiChoiceCounterPosition&&e(d)});var c=X(n,2),g=e=>{var t=M(),o=D(t);Ee(o,17,()=>m().scores,He,(e,t)=>{Cc(e,{get score(){return i(t)},get row(){return p()},get choice(){return m()}})}),u(e,t)};Y(c,e=>{p().objectScoreRemoved||e(g)});var h=X(c,2),I=e=>{const t=Q(()=>i(se)&&!p().isInfoRow&&!m().isNotSelectable);uc(e,{get isEnabled(){return i(t)},get multiChoiceButton(){return i(Ie)},get multiChoiceText(){return i(be)},get choice(){return m()},selectedOneMore:()=>_e(m(),p()),selectedOneLess:()=>Je(m(),p())})};Y(h,e=>{m().isSelectableMultiple&&i($e)&&1===i(E).multiChoiceCounterPosition&&e(I)});var x=X(h,2),$=e=>{var t=M(),o=D(t);Ee(o,17,()=>m().requireds,He,(e,t)=>{Fd(e,{get required(){return i(t)},get scoreText(){return i(Be)}})}),u(e,t)};Y(x,e=>{p().objectRequirementRemoved||e($)});var T=X(x,2),y=e=>{const t=Q(()=>i(se)&&!p().isInfoRow&&!m().isNotSelectable);uc(e,{get isEnabled(){return i(t)},get multiChoiceButton(){return i(Ie)},get multiChoiceText(){return i(be)},get choice(){return m()},selectedOneMore:()=>_e(m(),p()),selectedOneLess:()=>Je(m(),p())})};Y(T,e=>{m().isSelectableMultiple&&i($e)&&2===i(E).multiChoiceCounterPosition&&e(y)});var C=X(T,2),B=e=>{var t=Ku(),o=v(t);s(o,()=>nt.sanitize(xi(m().text),xo)),b(()=>we(t,i(Te))),u(e,t)};Y(C,e=>{""===m().text||p().objectTextRemoved||e(B)});var S=X(C,2),k=e=>{const t=Q(()=>i(se)&&!p().isInfoRow&&!m().isNotSelectable);uc(e,{get isEnabled(){return i(t)},get multiChoiceButton(){return i(Ie)},get multiChoiceText(){return i(be)},get choice(){return m()},selectedOneMore:()=>_e(m(),p()),selectedOneLess:()=>Je(m(),p())})};Y(S,e=>{m().isSelectableMultiple&&i($e)&&3===i(E).multiChoiceCounterPosition&&e(k)});var O=X(S,2),F=e=>{var t=Qu(),l=D(t);Ee(l,21,()=>m().addons,He,(e,t)=>{rc(e,{get row(){return p()},get choice(){return m()},get addon(){return i(t)},get isEnabled(){return i(se)},get windowWidth(){return o.windowWidth},get preloadImages(){return f()}})});var r=X(l,2),a=e=>{const t=Q(()=>i(se)&&!p().isInfoRow&&!m().isNotSelectable);uc(e,{get isEnabled(){return i(t)},get multiChoiceButton(){return i(Ie)},get multiChoiceText(){return i(be)},get choice(){return m()},selectedOneMore:()=>_e(m(),p()),selectedOneLess:()=>Je(m(),p())})};Y(r,e=>{m().isSelectableMultiple&&i($e)&&4===i(E).multiChoiceCounterPosition&&e(a)}),b(()=>w(l,1,`d-column pa-0 col w-100 ${i(de)??""}`)),u(e,t)};Y(O,e=>{m().useSeperateAddon||e(F)});var R=X(l,2),A=v(R),j=e=>{var t=M(),o=D(t),l=e=>{Dt(e,{innerClass:"w-100",get text(){return m().imageSourceTooltip},children:(e,t)=>{var o=eg();b(()=>{xe(o,"src",m().image),we(o,i(Ce)),xe(o,"loading",f()?"eager":"lazy")}),u(e,o)},$$slots:{default:!0}})},r=e=>{var t=tg();b(()=>{xe(t,"src",m().image),we(t,i(Ce)),xe(t,"loading",f()?"eager":"lazy")}),u(e,t)};Y(o,e=>{m().imageSourceTooltip?e(l):e(r,!1)}),u(e,t)};Y(A,e=>{m().image&&!p().objectImageRemoved&&e(j)});var P=X(R,2),q=e=>{var t=og(),l=v(t);Ee(l,21,()=>m().addons,He,(e,t)=>{rc(e,{get row(){return p()},get choice(){return m()},get addon(){return i(t)},get isEnabled(){return i(se)},get windowWidth(){return o.windowWidth},get preloadImages(){return f()}})});var r=X(l,2),a=e=>{const t=Q(()=>i(se)&&!p().isInfoRow&&!m().isNotSelectable);uc(e,{get isEnabled(){return i(t)},get multiChoiceButton(){return i(Ie)},get multiChoiceText(){return i(be)},get choice(){return m()},selectedOneMore:()=>_e(m(),p()),selectedOneLess:()=>Je(m(),p())})};Y(r,e=>{m().isSelectableMultiple&&i($e)&&4===i(E).multiChoiceCounterPosition&&e(a)}),b(()=>w(l,1,`d-column pa-0 col w-100 ${i(de)??""}`)),u(e,t)};Y(P,e=>{m().useSeperateAddon&&e(q)}),b(()=>{we(l,`max-width: ${100-i(K)}%`),we(R,`max-width: ${i(K)??""}%`)}),u(e,t)};Y(e,e=>{3===m().template&&e(l)},t)};Y(l,e=>{2===m().template?e(r):e(a,!1)}),u(e,t)};Y(n,e=>{m().template>=4||1===m().template||o.windowWidth<=960||p().choicesShareTemplate?e(d):e(c,!1)}),b((e,o)=>{w(t,1,e),r=w(l,1,"d-flex",null,r,o),w(a,1,`row row-${p().id??""} choice-${m().id??""} ${i(ce)?"choice-selected":"choice-unselected"} ${i(se)?"choice-enabled":"choice-disabled"} ${i(ce)&&i(G).selOverlayOnImage||!i(se)&&i(G).reqOverlayOnImage?"bg-overlay":""} w-100`),we(a,i(ye))},[()=>I(Oe()),()=>({fullHeight:i(ve)})]),u(e,t)};Y(e,e=>{o.bCreatorMode&&p().isEditModeOn||!i(se)&&i(G).reqFilterVisibleIsOn||e(l)},t)};Y(Ze,e=>{o.bCreatorMode&&p().isEditModeOn&&!p().isResultRow?e(Ke):e(Qe,!1)});var et=X(Ze,2),tt=e=>{const t=Q(()=>"dlgCommon"===i(te));td(e,{get open(){return i(t)},onclose:()=>c(te,"none"),title:"",get context(){return A.context},closeHandler:(e,t)=>{"accept"===e.detail.action&&A.choice&&A.row?(ie=!0,A.isWord&&(A.choice.wordChangeSelect=t),Ne(A.choice,A.row),ie=!1):ie=!1},get isWord(){return A.isWord},get prevText(){return A.prevText}})};Y(et,e=>{"dlgCommon"===i(te)&&e(tt)}),u(e,Xe);var ot=g({activateObject:qe});return a(),ot}he(["click"]);var ng=n("<i></i>"),sg=n('<button type="button" class="btn--image-background"><img alt="" loading="lazy" class="btn--image" style="max-height:140px;"/></button>'),dg=n("<!> <!>",1),cg=n("<div><!></div> <div><!></div> <div><!></div>",1),ug=n('<div class="row px-4"><div><!></div> <div><!></div> <div><!></div> <div><!></div> <div><!></div> <div><!></div> <div><!></div> <div><!></div></div>'),gg=n('<div class="col p-2"><!> <div class="col-12 pt-1"><!></div></div>'),vg=n('<div class="toolbar"><div class="spacer"></div> <!></div> <div class="row gy-4 p-4"><div><!></div> <div><div class="d-column"><!> <!> <!> <!> <!></div></div> <div><div class="d-column"><!> <!> <!> <!></div></div> <div><div class="d-column"><!> <!> <!> <!></div></div> <div><!></div></div> <div class="row px-4"><div class="col"><!></div> <!></div> <!> <div class="row gx-0"></div>',1),hg=n('<img alt=""/>'),pg=n('<img alt=""/>'),mg=n('<h2 class="mb-0"><!></h2>'),fg=n('<img alt=""/>'),bg=n('<img alt=""/>'),wg=n('<p class="mb-0"><!></p>'),Ig=n('<img alt=""/>'),xg=n('<img alt=""/>'),$g=n('<div class="col-12 m-0 p-0"><!> <!> <!> <!> <!></div>'),Tg=n('<h2 class="mb-0"><!></h2>'),yg=n('<p class="mb-0"><!></p>'),Cg=n('<img alt=""/>'),Bg=n('<img alt=""/>'),Sg=n('<div class="col p-0 text-center"><!> <!></div> <div class="col p-0 text-center"><!></div>',1),kg=n('<img alt=""/>'),Og=n('<img alt=""/>'),Fg=n('<h2 class="mb-0"><!></h2>'),Rg=n('<p class="mb-0"><!></p>'),Ag=n('<div class="col p-0 text-center"><!></div> <div class="col p-0 text-center"><!> <!></div>',1),jg=n("<div><!></div>"),Mg=n('<div><button type="button" class="create-box col-12" style="min-height: 581px; font-size: 40px;" aria-label="Create New Choice"><i class="mdi mdi-plus-thick"></i></button></div>'),Dg=n("<div><!> <!></div>"),Pg=n("<div><!> <!></div>");function qg(e,r){t(r,!0);const[a,n]=Ve(),p=()=>We(Ao,"$winWidth",a),m=h(r,"row",7),f=h(r,"preloadImages",3,!1),x=h(r,"isBackpack",3,!1),$=[{action:()=>{ee()},text:"Create New Single Choice",icon:"mdi mdi-file-plus"},{action:()=>{yo.currentDialog="appCreateMultipleChoices",yo.func=te},text:"Create New Multiple Choices",icon:"mdi mdi-file-multiple"},{action:()=>{yo.currentDialog="appObjectList",yo.row=m()},text:"List of Choices",icon:"mdi mdi-format-list-bulleted"},{action:()=>{yo.currentDialog="appRequirement",yo.data=m()},text:"Create Requirement",icon:"mdi mdi-key-plus"},{action:()=>{yo.currentDialog="appRowSettings",yo.row=m()},text:"Open Row Settings",icon:"mdi mdi-cog"}],T=[{text:"Image Top",value:1},{text:"Image Right",value:2},{text:"Image Left",value:3},{text:"Image Bottom",value:4},{text:"Image Center",value:5}],y=[{value:"start"},{value:"center"},{value:"end"},{value:"space-around"},{value:"space-between"}];let C=l(void 0),B=Q(()=>$i("privateBackgroundIsOn",m())),S=Q(()=>$i("privateRowImageIsOn",m())),k=Q(()=>$i("privateRowIsOn",m())),O=Q(()=>$i("privateTextIsOn",m())),F=l(0),R=m().id,A=Q(()=>void 0!==i(S).rowImageBoxWidth?i(S).rowImageBoxWidth:50),j=Q(()=>Si(m().requireds)),P=Q(()=>i(F)>1264?"col-2":i(F)>960?"col-3":i(F)>600?"col-4":i(F)>470?"col-6":"col-12"),q=Q(()=>i(F)>1264?"col-3":i(F)>600?"col-6":"col-12"),L=Q(()=>i(F)>1264?"col-4":i(F)>960?"col-12":i(F)>600?"col-8":"col-12"),W=Q(()=>m().onlyIfNoChoices&&0!==m().currentChoices),V=Q(()=>m().rowJustify?`justify-${m().rowJustify}`:""),N=Q(()=>{const e=[];if(void 0!==m().resultGroupId&&""!==m().resultGroupId&&m().resultGroupId)for(const[t]of lo){const o=co.get(t);if(void 0!==o){const t=o.choice,i=o.row;if(!t.isNotResult)if(m().resultGroupId===i.resultGroupId)e.push({choice:t,row:i});else if(void 0!==t.groups)for(let o=0;o<t.groups.length;o++)if(t.groups[o]===m().resultGroupId){e.push({choice:t,row:i});break}}}else for(const[t]of lo){const o=co.get(t);if(void 0!==o){const t=o.choice,i=o.row;t.isNotResult||e.push({choice:t,row:i})}}return e.sort((e,t)=>e.row.index!==t.row.index?e.row.index-t.row.index:e.choice.index-t.choice.index),e}),z=Q(()=>{if(void 0!==m().styling&&m().isPrivateStyling&&m().privateBackgroundIsOn&&m().styling.backgroundImage)return m().styling;if(void 0!==app.rowDesignGroups&&m().rowDesignGroups)for(let e=0;e<m().rowDesignGroups.length;e++){let t=po.get(m().rowDesignGroups[e]);if(void 0!==t&&t.privateBackgroundIsOn&&t.styling.backgroundImage){let e=t.activatedId,o=go.get(e);if(""===e||Ci(t.activatedId))return t.styling;if(void 0!==app.globalRequirements&&void 0!==o&&Si(o.requireds))return t.styling}}return!1}),U=Q(()=>{if(void 0!==m().styling&&m().isPrivateStyling&&m().privateBackgroundIsOn&&m().styling.bgColorIsOn&&m().styling.backgroundColor)return m().styling;if(void 0!==app.rowDesignGroups&&m().rowDesignGroups)for(let e=0;e<m().rowDesignGroups.length;e++){let t=po.get(m().rowDesignGroups[e]);if(void 0!==t&&t.privateBackgroundIsOn&&t.styling.bgColorIsOn&&t.styling.backgroundColor){let e=t.activatedId,o=go.get(e);if(""===e||Ci(t.activatedId))return t.styling;if(void 0!==app.globalRequirements&&void 0!==o&&Si(o.requireds))return t.styling}}return!1}),G=Q(()=>{let e=[];return r.bCreatorMode&&m().isEditModeOn?e.push("margin: 1%;"):e.push(`margin: ${i(k).rowBodyMarginTop}px ${i(k).rowBodyMarginSides}% ${i(k).rowBodyMarginBottom}px ${i(k).rowBodyMarginSides}%;`),i(z)&&e.push(`background-image: url('${i(z).backgroundImage}'); ${i(z).isBackgroundRepeat?"background-repeat: repeat;":i(z).isBackgroundFitIn?"background-size: 100% 100%;":"background-size: cover;"}`),i(U)&&e.push(`background-color: ${Pl(i(U).backgroundColor)};`),e.join(" ")}),E=Q(()=>{let e=i(k).rowBorderRadiusIsPixels?"px":"%",t=[];return i(k).rowBorderImage&&t.push(`border-image: url('${i(k).rowBorderImage}') ${i(k).rowBorderImageSliceTop} ${i(k).rowBorderImageSliceRight} ${i(k).rowBorderImageSliceBottom} ${i(k).rowBorderImageSliceLeft} / ${i(k).rowBorderImageWidth}px ${i(k).rowBorderImageRepeat}; border-style: solid; padding: ${i(k).rowBorderImageWidth}px;`),i(B).rowBackgroundImage&&t.push(`background-image: url('${i(B).rowBackgroundImage}'); ${i(B).isRowBackgroundRepeat?"background-repeat: repeat;":i(B).isRowBackgroundFitIn?"background-size: 100% 100%;":"background-size: cover;"}`),i(B).rowBgColorIsOn&&t.push(`background-color: ${Pl(i(B).rowBgColor)};`),t.push(`margin-left: ${i(k).rowMargin}%; margin-right: ${i(k).rowMargin}%;`),i(k).rowGradientIsOn&&t.push(`background-image: linear-gradient(${i(k).rowGradient});`),t.push(`border-radius: ${i(k).rowBorderRadiusTopLeft}${e} ${i(k).rowBorderRadiusTopRight}${e} ${i(k).rowBorderRadiusBottomRight}${e} ${i(k).rowBorderRadiusBottomLeft}${e};`),i(k).rowOverflowIsOn&&t.push("overflow: hidden;"),i(k).rowBorderIsOn&&t.push(`border: ${i(k).rowBorderWidth}px ${i(k).rowBorderStyle} ${Pl(i(k).rowBorderColor)};`),i(k).rowDropShadowIsOn&&(i(k).rowUseBoxShadowIsOn?t.push(`box-shadow: ${i(k).rowDropShadowH}px ${i(k).rowDropShadowV}px ${i(k).rowDropShadowBlur}px ${Pl(i(k).rowDropShadowColor)};`):t.push(`filter: drop-shadow(${i(k).rowDropShadowH}px ${i(k).rowDropShadowV}px ${i(k).rowDropShadowBlur}px ${Pl(i(k).rowDropShadowColor)});`)),t.join(" ")}),H=Q(()=>`font-family: ${i(O).rowTitle}; font-size: ${i(O).rowTitleTextSize}%; text-align: ${i(O).rowTitleAlign}; color: ${Pl(i(O).rowTitleColor)}`),_=Q(()=>`white-space: pre-wrap; font-family: ${i(O).rowText}; font-size: ${i(O).rowTextTextSize}%; text-align: ${i(O).rowTextAlign}; color: ${Pl(i(O).rowTextColor)}; padding: ${i(k).rowTextPaddingX}px ${i(k).rowTextPaddingY}% ${i(k).rowTextPaddingX}px ${i(k).rowTextPaddingY}%;`),J=Q(()=>{let e=i(S).rowImgBorderRadiusIsPixels?"px":"%",t=[];return t.push(`width: ${i(S).rowImageWidth}%; margin-top: ${i(S).rowImageMarginTop}%; margin-bottoom: ${i(S).rowImageMarginBottom}%;`),t.push(`border-radius: ${i(S).rowImgBorderRadiusTopLeft}${e} ${i(S).rowImgBorderRadiusTopRight}${e} ${i(S).rowImgBorderRadiusBottomRight}${e} ${i(S).rowImgBorderRadiusBottomLeft}${e};`),i(S).rowImgOverflowIsOn&&t.push("overflow: hidden;"),i(S).rowImgBorderIsOn&&t.push(`border: ${i(S).rowImgBorderWidth}px ${i(S).rowImgBorderStyle} ${Pl(i(S).rowImgBorderColor)};`),t.join(" ")}),Z=Q(()=>`padding-left: ${i(k).rowButtonYPadding}px; padding-right: ${i(k).rowButtonYPadding}px; padding-top: ${i(k).rowButtonXPadding}px; padding-bottom: ${i(k).rowButtonXPadding}px;`);function K(){if(""===m().id)m().id=R;else if(m().id!==R){if(m().id=Ti(m().id,so),m().groups)for(let e=0;e<m().groups.length;e++){let t=uo.get(m().groups[e]);if(void 0!==t){let e=t.rowElements.indexOf(R);-1!==e&&(t.rowElements[e]=m().id)}}if(m().rowDesignGroups)for(let e=0;e<m().rowDesignGroups.length;e++){let t=po.get(m().rowDesignGroups[e]);if(void 0!==t){let e=t.elements.indexOf(R);-1!==e&&(t.elements[e]=m().id)}}so.set(m().id,m()),so.delete(R),R=m().id}}function ee(){let e=ui(0,app.objectIdLength),t=m().objects.length;m().objects.push({index:t,id:e,title:app.defaultChoiceTitle,text:app.defaultChoiceText,debugTitle:"",image:"",template:1,objectWidth:"",isActive:!1,isVisible:!0,multipleUseVariable:0,initMultipleTimesMinus:0,selectedThisManyTimesProp:0,defaultAspectWidth:m().defaultAspectWidth,defaultAspectHeight:m().defaultAspectHeight,requireds:[],addons:[],scores:[],groups:[],objectDesignGroups:[]}),co.set(e,{choice:m().objects[t],row:m()})}function te(e){for(let t=0;t<e;t++)ee()}function oe(){let e=m().objectWidth,t=fi(e),o="col-6"===app.objectsPerRow?2:"col-4"===app.objectsPerRow?3:4;if(p()>1280)return e;if(!(p()>720))return p()>480?1===t?"col-12":"col-6":"col-12";switch(t){case 1:return"col-12";case 2:return"col-6";case 3:return o>2?"col-4":app.objectsPerRow;case 4:return o>3?"col-3":app.objectsPerRow;default:return app.objectsPerRow}}function ie(){if(m().btnPointAddon&&"sumaddon"===m().buttonTypeRadio&&void 0!==m().pointTypeRandom){const e=m().randomMax||0,t=m().randomMin||0,o=Math.floor(Math.random()*(e-t)+t),i=no.get(m().pointTypeRandom);return void 0!==i&&(i.startingSum+=o),void console.log(i,o)}if(m().buttonRandom){const e=[],t=m().objects.filter(e=>Si(e.requireds)&&!e.isNotSelectable);if(m().isWeightedRandom){let e=0;for(let o=0;o<t.length;o++){e+=t[o].randomWeight||100}if(void 0!==m().buttonRandomNumber)for(let o=0;o<m().buttonRandomNumber;o++){const o=Math.floor(Math.random()*e);let l=0;for(let e=0;e<t.length;e++){const r=t[e];if(l+=r.randomWeight||100,o<l){i(C).activateObject(r,m());break}}}}else if(void 0!==m().buttonRandomNumber)for(let o=0;o<m().buttonRandomNumber;o++){let o,l,r=0,a=100;do{l=Math.floor(Math.random()*t.length),o=t[l],r++}while(m().onlyUnselectedChoices&&(-1!==e.indexOf(l)||lo.has(o.id))&&r<a);o&&-1===e.indexOf(l)&&(e.push(l),i(C).activateObject(o,m()))}}else if(void 0!==m().buttonId){const e=ho.get(m().buttonId);void 0!==e&&(lo.has(e.id)?m().buttonType&&(e.isTrue=!1,lo.delete(e.id)):(e.isTrue=!0,lo.set(e.id,{multiple:0,isVariable:!0})))}}o(()=>{if(m().deselectChoices&&!i(j))for(let e=0;e<m().objects.length;e++){const t=m().objects[e];t.isActive&&i(C).activateObject(t,m())}});var ae=Pg(),ne=v(ae),se=e=>{Ue(e,{class:"mt-n3",children:(e,t)=>{Ge(e,{class:"p-0 mb-4",children:(e,t)=>{var o=vg(),l=D(o),r=X(v(l),2);Ee(r,17,()=>$,He,(e,t,o,l)=>{Dt(e,{get text(){return i(t).text},children:(e,o)=>{Ye(e,{get onclick(){return i(t).action},children:(e,o)=>{var l=ng();b(()=>w(l,1,I(i(t).icon))),u(e,l)},$$slots:{default:!0}})},$$slots:{default:!0}})});var n=X(l,2),s=v(n),d=v(s),c=e=>{ue(e,{onclick:()=>{yo.currentDialog="appButtonSettings",yo.row=m()},variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Open Button Settings");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},g=e=>{var t=dg(),o=D(t),i=e=>{var t=sg();t.__click=()=>{yo.currentDialog="appImageUpload",yo.imgProp="image"};var o=v(t);b(()=>xe(o,"src",m().image)),u(e,t)};Y(o,e=>{m().image&&!app.hideImages&&e(i)});var l=X(o,2);ue(l,{onclick:()=>{yo.currentDialog="appImageUpload",yo.data=m(),yo.imgProp="image"},variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Change Image");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,t)};Y(d,e=>{m().isButtonRow?e(c):e(g,!1)});var h=X(s,2),p=v(h),f=v(p);Se(f,{class:"ml-4 mb-3",label:e=>{var t=le("Button?");u(e,t)},children:(e,t)=>{ke(e,{onSMUISwitchChange:()=>{m().isButtonRow?(m().image="",m().buttonType=!0,m().buttonId="",m().buttonText="Click",m().buttonRandom=!1,m().buttonRandomNumber=1):(delete m().buttonType,delete m().buttonId,delete m().buttonText,delete m().buttonTypeRadio,delete m().pointTypeRandom,delete m().btnPointAddon,delete m().randomMin,delete m().randomMax,delete m().buttonRandom,delete m().buttonRandomNumber,delete m().isWeightedRandom,delete m().onlyUnselectedChoices,delete m().onlyIfNoChoices)},color:"secondary",class:"switch-scale",get checked(){return m().isButtonRow},set checked(e){m().isButtonRow=e}})},$$slots:{label:!0,default:!0}});var x=X(f,2);Se(x,{class:"ml-4 mb-3",label:e=>{var t=le("Non-activatable?");u(e,t)},children:(e,t)=>{ke(e,{color:"secondary",class:"switch-scale",get checked(){return m().isInfoRow},set checked(e){m().isInfoRow=e}})},$$slots:{label:!0,default:!0}});var C=X(x,2);Se(C,{class:"ml-4 mb-3",label:e=>{var t=le("Selected Choices?");u(e,t)},children:(e,t)=>{ke(e,{color:"secondary",class:"switch-scale",get checked(){return m().isResultRow},set checked(e){m().isResultRow=e}})},$$slots:{label:!0,default:!0}});var B=X(C,2);Se(B,{class:"ml-4 mb-2",label:e=>{var t=le("Half of the screen?");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return m().width??!1},set checked(e){var t;t=e,m().width=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var S=X(B,2),k=e=>{ks(e,{get options(){return We(Lo,"$optimizedGroups",a)},get getOptionLabel(){return li},label:"Selected Choices from Group Id",toggle:!0,showMenuWithNoInput:!0,textfield$variant:"filled",textfield$input$placeholder:"All Rows and Choices",get value(){return m().resultGroupId},set value(e){m().resultGroupId=e}})};Y(S,e=>{m().isResultRow&&e(k)});var O=X(h,2),F=v(O),R=v(F);ia(R,{label:"Template",variant:"filled",alwaysFloat:!0,get value(){return m().template},set value(e){m().template=e},children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>T,e=>e.text,(e,t)=>{la(e,{get value(){return i(t).value},children:(e,o)=>{var l=le();b(()=>re(l,i(t).text)),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}});var A=X(R,2);Jl(A,{label:"Row Title",variant:"filled",get value(){return m().title},set value(e){m().title=e}});var j=X(A,2);Jl(j,{get value(){return m().debugTitle??""},set value(e){var t;t=e,m().debugTitle=t},label:"Debug Title",variant:"filled"}),Jl(X(j,2),{onchange:()=>m().allowedChoices=Math.max(m().allowedChoices,0),input$min:0,label:"Allowed Choices",variant:"filled",type:"number",get value(){return m().allowedChoices},set value(e){m().allowedChoices=e}});var W=X(O,2),V=v(W),N=v(V);ia(N,{label:"Choices Per Row",variant:"filled",alwaysFloat:!0,get value(){return m().objectWidth},set value(e){m().objectWidth=e},children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>io,e=>e.text,(e,t)=>{la(e,{get value(){return i(t).value},children:(e,o)=>{var l=le();b(()=>re(l,i(t).text)),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}});var z=X(N,2);ia(z,{label:"Choices Justify",variant:"filled",get value(){return m().rowJustify},set value(e){m().rowJustify=e},children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>y,e=>e.value,(e,t)=>{la(e,{get value(){return i(t).value},children:(e,o)=>{var l=le();b(()=>re(l,i(t).value)),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}});var U=X(z,2);Jl(U,{label:"Row Id",onchange:K,variant:"filled",get value(){return m().id},set value(e){m().id=e}}),Jl(X(U,2),{onchange:()=>m().currentChoices=Math.max(m().currentChoices,0),input$min:0,label:"Selected Choices",variant:"filled",type:"number",get value(){return m().currentChoices},set value(e){m().currentChoices=e}});var G=X(W,2);Jl(v(G),{textarea:!0,label:"Row Text",variant:"filled",input$rows:8,get value(){return m().titleText},set value(e){m().titleText=e}});var E=X(n,2),H=v(E),_=v(H);Se(_,{class:"ml-4 mb-2",label:e=>{var t=le("Deselect choices if row doesn't meet requirements");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return m().deselectChoices??!1},set checked(e){var t;t=e,m().deselectChoices=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var J=X(H,2),Z=e=>{var t=cg(),o=D(t),l=v(o);Se(l,{class:"ml-4 mb-2",label:e=>{var t=le("Use 'Image Top' template for all choices");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return m().choicesShareTemplate??!1},set checked(e){var t;t=e,m().choicesShareTemplate=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var r=X(o,2),a=v(r);Se(a,{class:"ml-4 mb-2",label:e=>{var t=le("Hide the contents of choices");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return m().textIsRemoved??!1},set checked(e){var t;t=e,m().textIsRemoved=t},onSMUISwitchChange:()=>{m().textIsRemoved||(delete m().objectTitleRemoved,delete m().objectImageRemoved,delete m().objectTextRemoved,delete m().objectScoreRemoved,delete m().objectRequirementRemoved,delete m().addonTitleRemoved,delete m().addonImageRemoved,delete m().addonTextRemoved,delete m().textIsRemoved)},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var n=X(r,2),s=v(n);Se(s,{class:"ml-4 mb-2",label:e=>{var t=le("Show the title of the row in the choice");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return m().resultShowRowTitle??!1},set checked(e){var t;t=e,m().resultShowRowTitle=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});b(()=>{w(o,1,I(i(q))),w(r,1,I(i(q))),w(n,1,I(i(q)))}),u(e,t)};Y(J,e=>{m().isResultRow&&e(Z)});var Q=X(E,2),ee=e=>{var t=ug(),o=v(t),l=v(o);Se(l,{class:"ml-4 mb-2",label:e=>{var t=le("Hide the title of choices");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return m().objectTitleRemoved??!1},set checked(e){var t;t=e,m().objectTitleRemoved=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var r=X(o,2),a=v(r);Se(a,{class:"ml-4 mb-2",label:e=>{var t=le("Hide the image of choices");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return m().objectImageRemoved??!1},set checked(e){var t;t=e,m().objectImageRemoved=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var n=X(r,2),s=v(n);Se(s,{class:"ml-4 mb-2",label:e=>{var t=le("Hide the text of choices");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return m().objectTextRemoved??!1},set checked(e){var t;t=e,m().objectTextRemoved=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var d=X(n,2),c=v(d);Se(c,{class:"ml-4 mb-2",label:e=>{var t=le("Hide the scores of choices");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return m().objectScoreRemoved??!1},set checked(e){var t;t=e,m().objectScoreRemoved=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var g=X(d,2),h=v(g);Se(h,{class:"ml-4 mb-2",label:e=>{var t=le("Hide the requirements of choices");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return m().objectRequirementRemoved??!1},set checked(e){var t;t=e,m().objectRequirementRemoved=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var p=X(g,2),f=v(p);Se(f,{class:"ml-4 mb-2",label:e=>{var t=le("Hide the title of addons");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return m().addonTitleRemoved??!1},set checked(e){var t;t=e,m().addonTitleRemoved=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var x=X(p,2),$=v(x);Se($,{class:"ml-4 mb-2",label:e=>{var t=le("Hide the image of addons");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return m().addonImageRemoved??!1},set checked(e){var t;t=e,m().addonImageRemoved=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var T=X(x,2),y=v(T);Se(y,{class:"ml-4 mb-2",label:e=>{var t=le("Hide the text of addons");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return m().addonTextRemoved??!1},set checked(e){var t;t=e,m().addonTextRemoved=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});b(()=>{w(o,1,I(i(q))),w(r,1,I(i(q))),w(n,1,I(i(q))),w(d,1,I(i(q))),w(g,1,I(i(q))),w(p,1,I(i(q))),w(x,1,I(i(q))),w(T,1,I(i(q)))}),u(e,t)};Y(Q,e=>{m().isResultRow&&m().textIsRemoved&&e(ee)});var te=X(Q,2);Ee(te,21,()=>m().requireds,He,(e,t,o)=>{var l=gg(),r=v(l);Fd(r,{isEditModeOn:!0,get required(){return i(t)},get data(){return m()},index:o});var a=X(r,2),n=v(a);ue(n,{onclick:()=>m().requireds.splice(o,1),variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Delete");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,l)}),b(()=>{w(s,1,I(i(P))),w(h,1,I(i(P))),w(O,1,I(i(P))),w(W,1,I(i(P))),w(G,1,I(i(L)))}),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},de=(e,t)=>{var o=e=>{var t=jg(),o=v(t),l=e=>{var t=$g(),o=v(t),l=e=>{var t=M(),o=D(t),l=e=>{const t=Q(()=>!m().buttonType&&void 0!==m().buttonId&&lo.has(m().buttonId)||i(W));ue(e,{onclick:ie,get disabled(){return i(t)},get style(){return i(Z)},variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=M(),i=D(o);s(i,()=>void 0!==m().buttonText?m().buttonText:"Click"),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},r=(e,t)=>{var o=e=>{var t=M(),o=D(t),l=e=>{Dt(e,{innerClass:"w-100",get text(){return m().imageSourceTooltip},children:(e,t)=>{var o=hg();b(()=>{xe(o,"src",m().image),we(o,i(J)),xe(o,"loading",f()?"eager":"lazy")}),u(e,o)},$$slots:{default:!0}})},r=e=>{var t=pg();b(()=>{xe(t,"src",m().image),we(t,i(J)),xe(t,"loading",f()?"eager":"lazy")}),u(e,t)};Y(o,e=>{m().imageSourceTooltip?e(l):e(r,!1)}),u(e,t)};Y(e,e=>{m().image&&e(o)},t)};Y(o,e=>{m().isButtonRow?e(l):e(r,!1)}),u(e,t)};Y(o,e=>{(1===m().template||r.windowWidth<=960)&&e(l)});var a=X(o,2),n=e=>{var t=mg(),o=v(t);s(o,()=>nt.sanitize(xi(m().title),xo)),b(()=>we(t,i(H))),u(e,t)};Y(a,e=>{""!==m().title&&e(n)});var d=X(a,2),c=e=>{var t=M(),o=D(t),l=e=>{const t=Q(()=>!m().buttonType&&void 0!==m().buttonId&&lo.has(m().buttonId)||i(W));ue(e,{onclick:ie,get disabled(){return i(t)},get style(){return i(Z)},variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=M(),i=D(o);s(i,()=>void 0!==m().buttonText?m().buttonText:"Click"),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},r=(e,t)=>{var o=e=>{var t=M(),o=D(t),l=e=>{Dt(e,{innerClass:"w-100",get text(){return m().imageSourceTooltip},children:(e,t)=>{var o=fg();b(()=>{xe(o,"src",m().image),we(o,i(J)),xe(o,"loading",f()?"eager":"lazy")}),u(e,o)},$$slots:{default:!0}})},r=e=>{var t=bg();b(()=>{xe(t,"src",m().image),we(t,i(J)),xe(t,"loading",f()?"eager":"lazy")}),u(e,t)};Y(o,e=>{m().imageSourceTooltip?e(l):e(r,!1)}),u(e,t)};Y(e,e=>{m().image&&e(o)},t)};Y(o,e=>{m().isButtonRow?e(l):e(r,!1)}),u(e,t)};Y(d,e=>{5===m().template&&e(c)});var g=X(d,2),h=e=>{var t=wg(),o=v(t);s(o,()=>nt.sanitize(xi(m().titleText),xo)),b(()=>we(t,i(_))),u(e,t)};Y(g,e=>{""!==m().titleText&&e(h)});var p=X(g,2),w=e=>{var t=M(),o=D(t),l=e=>{const t=Q(()=>!m().buttonType&&void 0!==m().buttonId&&lo.has(m().buttonId)||i(W));ue(e,{onclick:ie,get disabled(){return i(t)},get style(){return i(Z)},variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=M(),i=D(o);s(i,()=>void 0!==m().buttonText?m().buttonText:"Click"),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},r=(e,t)=>{var o=e=>{var t=M(),o=D(t),l=e=>{Dt(e,{innerClass:"w-100",get text(){return m().imageSourceTooltip},children:(e,t)=>{var o=Ig();b(()=>{xe(o,"src",m().image),we(o,i(J)),xe(o,"loading",f()?"eager":"lazy")}),u(e,o)},$$slots:{default:!0}})},r=e=>{var t=xg();b(()=>{xe(t,"src",m().image),we(t,i(J)),xe(t,"loading",f()?"eager":"lazy")}),u(e,t)};Y(o,e=>{m().imageSourceTooltip?e(l):e(r,!1)}),u(e,t)};Y(e,e=>{m().image&&e(o)},t)};Y(o,e=>{m().isButtonRow?e(l):e(r,!1)}),u(e,t)};Y(p,e=>{4===m().template&&e(w)}),u(e,t)},a=e=>{var t=M(),o=D(t),l=e=>{var t=Sg(),o=D(t),l=v(o),r=e=>{var t=Tg(),o=v(t);s(o,()=>nt.sanitize(xi(m().title),xo)),b(()=>we(t,i(H))),u(e,t)};Y(l,e=>{""!==m().title&&e(r)});var a=X(l,2),n=e=>{var t=yg(),o=v(t);s(o,()=>nt.sanitize(xi(m().titleText),xo)),b(()=>we(t,i(_))),u(e,t)};Y(a,e=>{""!==m().titleText&&e(n)});var d=X(o,2),c=v(d),g=e=>{const t=Q(()=>!m().buttonType&&void 0!==m().buttonId&&lo.has(m().buttonId)||i(W));ue(e,{onclick:ie,get disabled(){return i(t)},get style(){return i(Z)},variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=M(),i=D(o);s(i,()=>void 0!==m().buttonText?m().buttonText:"Click"),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},h=(e,t)=>{var o=e=>{var t=M(),o=D(t),l=e=>{Dt(e,{innerClass:"w-100",get text(){return m().imageSourceTooltip},children:(e,t)=>{var o=Cg();b(()=>{xe(o,"src",m().image),we(o,i(J)),xe(o,"loading",f()?"eager":"lazy")}),u(e,o)},$$slots:{default:!0}})},r=e=>{var t=Bg();b(()=>{xe(t,"src",m().image),we(t,i(J)),xe(t,"loading",f()?"eager":"lazy")}),u(e,t)};Y(o,e=>{m().imageSourceTooltip?e(l):e(r,!1)}),u(e,t)};Y(e,e=>{m().image&&e(o)},t)};Y(c,e=>{m().isButtonRow?e(g):e(h,!1)}),b(()=>{we(o,`max-width: ${100-i(A)}%`),we(d,`max-width: ${i(A)??""}%`)}),u(e,t)},r=(e,t)=>{var o=e=>{var t=Ag(),o=D(t),l=v(o),r=e=>{const t=Q(()=>!m().buttonType&&void 0!==m().buttonId&&lo.has(m().buttonId)||i(W));ue(e,{onclick:ie,get disabled(){return i(t)},get style(){return i(Z)},variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=M(),i=D(o);s(i,()=>void 0!==m().buttonText?m().buttonText:"Click"),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},a=(e,t)=>{var o=e=>{var t=M(),o=D(t),l=e=>{Dt(e,{innerClass:"w-100",get text(){return m().imageSourceTooltip},children:(e,t)=>{var o=kg();b(()=>{xe(o,"src",m().image),we(o,i(J)),xe(o,"loading",f()?"eager":"lazy")}),u(e,o)},$$slots:{default:!0}})},r=e=>{var t=Og();b(()=>{xe(t,"src",m().image),we(t,i(J)),xe(t,"loading",f()?"eager":"lazy")}),u(e,t)};Y(o,e=>{m().imageSourceTooltip?e(l):e(r,!1)}),u(e,t)};Y(e,e=>{m().image&&e(o)},t)};Y(l,e=>{m().isButtonRow?e(r):e(a,!1)});var n=X(o,2),d=v(n),c=e=>{var t=Fg(),o=v(t);s(o,()=>nt.sanitize(xi(m().title),xo)),b(()=>we(t,i(H))),u(e,t)};Y(d,e=>{""!==m().title&&e(c)});var g=X(d,2),h=e=>{var t=Rg(),o=v(t);s(o,()=>nt.sanitize(xi(m().titleText),xo)),b(()=>we(t,i(_))),u(e,t)};Y(g,e=>{""!==m().titleText&&e(h)}),b(()=>{we(o,`max-width: ${i(A)??""}%`),we(n,`max-width: ${100-i(A)}%`)}),u(e,t)};Y(e,e=>{3===m().template&&e(o)},t)};Y(o,e=>{2===m().template?e(l):e(r,!1)}),u(e,t)};Y(o,e=>{m().template>=4||1===m().template||r.windowWidth<=960?e(l):e(a,!1)}),b(()=>{w(t,1,`row gx-0 row-${m().id??""}`),we(t,""!==m().title?i(E):"")}),u(e,t)};Y(e,e=>{i(j)&&e(o)},t)};Y(ne,e=>{r.bCreatorMode&&m().isEditModeOn?e(se):e(de,!1)});var ce=X(ne,2),ve=e=>{var t=Dg(),o=v(t),l=e=>{var t=M(),o=D(t);Ee(o,17,()=>i(N),He,(e,t,o)=>{d(ag(e,{get row(){return m()},get choice(){return i(t).choice},index:o,get windowWidth(){return r.windowWidth},get bCreatorMode(){return r.bCreatorMode},get preloadImages(){return f()}}),e=>c(C,e,!0),()=>i(C))}),u(e,t)},a=e=>{var t=M(),o=D(t);Ee(o,17,()=>m().objects,He,(e,t,o)=>{d(ag(e,{get row(){return m()},get choice(){return i(t)},index:o,get windowWidth(){return r.windowWidth},get bCreatorMode(){return r.bCreatorMode},get preloadImages(){return f()},get isBackpack(){return x()},get mainDiv(){return r.mainDiv}}),e=>c(C,e,!0),()=>i(C))}),u(e,t)};Y(o,e=>{m().isResultRow?e(l):e(a,!1)});var n=X(o,2),s=e=>{var t=Mg();v(t).__click=ee,b(e=>w(t,1,`p-2 ${e??""}`),[oe]),u(e,t)};Y(n,e=>{r.bCreatorMode&&m().isEditModeOn&&!m().isResultRow&&e(s)}),b(()=>w(t,1,`row gx-0 m-0 p-0 ${i(V)??""}`)),u(e,t)};Y(ce,e=>{(r.bCreatorMode&&m().isEditModeOn||i(j))&&e(ve)}),b(()=>{w(ae,1,`row-${m().id??""}-bg text-center`),we(ae,i(G))}),at(ae,"clientWidth",e=>c(F,e)),u(e,ae),g(),n()}he(["click"]);var Lg=(e,t)=>t(0),Wg=n('<div class="p-2 col-12"><button type="button" class="create-box col-12" style="min-height: 100px; font-size: 40px;" aria-label="Create New Row"><i class="mdi mdi-plus-thick"></i></button></div>'),Vg=n('<div class="toolbar__title"> </div> <div class="d-row"><!> <!> <!> <!> <!> <!></div>',1),Ng=n('<div class="p-2 col-12"><button type="button" class="create-box col-12" style="min-height: 100px; font-size: 40px;" aria-label="Create New Row"><i class="mdi mdi-plus-thick"></i></button></div>'),zg=n('<div><div class="p-2 col-12"><!></div> <!> <!></div>'),Ug=n('<div class="container-fluid p-0"><div class="row gx-0"><div class="col-12 py-3"><div class="col-xl-3 col-sm-6 col-12"><!></div></div></div> <div class="row gx-0"><!> <!></div></div>'),Gg=n("<!> <!>",1);function Eg(e,o){t(o,!0);let r=h(o,"open",7),a=l(0),n=l(void 0);function s(e){let t=di(0,app.rowIdLength),o=app.backpack.length;if(-1===e)app.backpack.push({index:o,id:t,isBackpack:!0,title:app.defaultRowTitle,titleText:app.defaultRowText,debugTitle:"",objectWidth:"col-md-3",image:"",template:1,isButtonRow:!1,buttonType:!0,buttonId:"",buttonText:"Click",buttonRandom:!1,buttonRandomNumber:1,isResultRow:!0,resultGroupId:"",isInfoRow:!0,defaultAspectWidth:1,defaultAspectHeight:1,allowedChoices:0,currentChoices:0,requireds:[],isEditModeOn:!1,isRequirementOpen:!1,objects:[],rowDesignGroups:[]}),so.set(t,app.backpack[o]);else{app.backpack.splice(e,0,{index:e,id:t,isBackpack:!0,title:app.defaultRowTitle,titleText:app.defaultRowText,debugTitle:"",objectWidth:"col-md-3",image:"",template:1,isButtonRow:!1,buttonType:!0,buttonId:"",buttonText:"Click",buttonRandom:!1,buttonRandomNumber:1,isResultRow:!0,resultGroupId:"",isInfoRow:!0,defaultAspectWidth:1,defaultAspectHeight:1,allowedChoices:0,currentChoices:0,requireds:[],isEditModeOn:!1,isRequirementOpen:!1,objects:[],rowDesignGroups:[]});for(let t=e+1;t<app.backpack.length;t++)app.backpack[t].index=t;so.set(t,app.backpack[e])}}const p=Q(()=>"none"===yo.currentDialog?"close":"");se(e,{get escapeKeyAction(){return i(p)},surface$style:"width: 1920px; max-width: calc(100vw - 32px);",get onSMUIDialogClosed(){return o.onclose},get open(){return r()},set open(e){r(e)},children:(e,t)=>{var o=Gg(),l=D(o);ce(l,{id:"backpackDialog",children:(e,t)=>{Ue(e,{class:"no-shadow",children:(e,t)=>{Ge(e,{children:(e,t)=>{var o=Ug(),l=v(o),r=v(l),g=v(r),h=v(g);ue(h,{onclick:()=>s(-1),variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Add New Backpack Row");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var p=X(l,2),m=v(p),f=e=>{var t=Wg();v(t).__click=[Lg,s],u(e,t)};Y(m,e=>{app.useToolbarBtn||e(f)});var x=X(m,2);Ee(x,17,()=>app.backpack,He,(e,t,o)=>{var l=zg(),r=v(l),d=v(r);Ue(d,{children:(e,l)=>{Ge(e,{class:"toolbar toolbar--row justify-space-between px-3 py-2",children:(e,l)=>{var r=Vg(),a=D(r),n=v(a),d=X(a,2),c=v(d);const g=Q(()=>i(t).isEditModeOn?"Preview":"Edit Row");Dt(c,{get text(){return i(g)},children:(e,o)=>{const l=Q(()=>i(t).isEditModeOn?"mdi mdi-arrow-left":"mdi mdi-wrench");Ye(e,{get class(){return i(l)},onclick:()=>i(t).isEditModeOn=!i(t).isEditModeOn})},$$slots:{default:!0}});var h=X(c,2),p=e=>{Dt(e,{text:"Insert Row Above",children:(e,t)=>{Ye(e,{class:"mdi mdi-folder-arrow-up",onclick:()=>s(o)})},$$slots:{default:!0}})};Y(h,e=>{app.useToolbarBtn&&e(p)});var m=X(h,2);Dt(m,{text:"Delete Row",children:(e,l)=>{Ye(e,{class:"mdi mdi-delete-forever",onclick:()=>function(e,t){function o(){for(let t=0;t<e.objects.length;t++){const o=e.objects[t];if(o.backpackBtnRequirement&&(o.isActive&&(app.btnBackpackIsOn-=1),app.hideBackpackBtn-=1),o.groups)for(let e=0;e<o.groups.length;e++){let t=uo.get(o.groups[e]);if(void 0!==t){let e=t.elements.indexOf(o.id);-1!==e&&t.elements.splice(e,1)}}if(o.objectDesignGroups)for(let e=0;e<o.objectDesignGroups.length;e++){let t=mo.get(o.objectDesignGroups[e]);if(void 0!==t){let e=t.backpackElements.indexOf(o.id);-1!==e&&t.backpackElements.splice(e,1)}}lo.delete(o.id),ro.delete(o.id),co.delete(o.id)}if(e.groups)for(let t=0;t<e.groups.length;t++){let o=uo.get(e.groups[t]);if(void 0!==o){let t=o.rowElements.indexOf(e.id);-1!==t&&o.rowElements.splice(t,1)}}if(e.rowDesignGroups)for(let t=0;t<e.rowDesignGroups.length;t++){let o=po.get(e.rowDesignGroups[t]);if(void 0!==o){let t=o.backpackElements.indexOf(e.id);-1!==t&&o.backpackElements.splice(t,1)}}app.backpack.splice(t,1),so.delete(e.id);for(let e=t;e<app.backpack.length;e++)app.backpack[e].index=e}app.checkDeleteRow?(yo.currentDialog="dlgCommon",yo.row=e,yo.context="Are you sure you want to delete this row?<br>Be sure to deselect all choices before deleting this row.",yo.title="",yo.cFunc=e=>{"accept"===e.detail.action&&o()}):o()}(i(t),o)})},$$slots:{default:!0}});var f=X(m,2);Dt(f,{text:"Clone Row",children:(e,l)=>{Ye(e,{class:"mdi mdi-content-copy",onclick:()=>function(e,t){let o=di(0,app.rowIdLength),i=JSON.parse(JSON.stringify(e));i.id=o,app.backpack.splice(t+1,0,i),so.set(o,i);for(let l=0;l<i.objects.length;l++){const e=i.objects[l];e.id=ui(0,app.objectIdLength),e.index=l,e.isActive=!1,delete e.forcedActivated;for(let t=0;t<i.scores.length;t++){const o=e.scores[t];o.idx=mi(0,5),fo.add(o.idx),delete o.isActive,delete o.setValue,delete o.discountIsOn,delete o.discountShow,delete o.discountBeforeText,delete o.discountAfterText,delete o.discountScore,delete o.discountScoreCal,delete o.isChangeDiscount,delete o.tmpDisScore,delete o.tmpDiscount,delete o.discountedFrom,delete o.dupTextA,delete o.dupTextB,delete o.discountTextA,delete o.discountTextB,delete o.notStackableDiscount}if(e.backpackBtnRequirement&&(void 0!==app.hideBackpackBtn?app.hideBackpackBtn+=1:delete e.backpackBtnRequirement),co.set(e.id,{choice:e,row:i}),e.groups)for(let t=0;t<e.groups.length;t++){let o=uo.get(e.groups[t]);void 0!==o&&-1===o.elements.indexOf(e.id)&&o.elements.push(e.id)}if(e.objectDesignGroups)for(let t=0;t<e.objectDesignGroups.length;t++){let o=mo.get(e.objectDesignGroups[t]);void 0!==o&&-1===o.elements.indexOf(e.id)&&o.elements.push(e.id)}}if(i.groups)for(let l=0;l<i.groups.length;l++){let e=uo.get(i.groups[l]);void 0!==e&&-1===e.rowElements.indexOf(i.id)&&e.rowElements.push(i.id)}if(i.rowDesignGroups)for(let l=0;l<i.rowDesignGroups.length;l++){let e=po.get(i.rowDesignGroups[l]);void 0!==e&&-1===e.elements.indexOf(i.id)&&e.elements.push(i.id)}for(let l=t+1;l<app.rows.length;l++)app.backpack[l].index=l}(i(t),o)})},$$slots:{default:!0}});var w=X(f,2);Dt(w,{text:"Move Row Up",children:(e,t)=>{Ye(e,{class:"mdi mdi-chevron-up",onclick:()=>{var e;(e=o)>0&&([app.backpack[e-1],app.backpack[e]]=[app.backpack[e],app.backpack[e-1]],app.backpack[e-1].index-=1,app.backpack[e].index+=1)}})},$$slots:{default:!0}});var I=X(w,2);Dt(I,{text:"Move Row Down",children:(e,t)=>{Ye(e,{class:"mdi mdi-chevron-down",onclick:()=>{var e;(e=o)<app.backpack.length-1&&([app.backpack[e],app.backpack[e+1]]=[app.backpack[e+1],app.backpack[e]],app.backpack[e].index-=1,app.backpack[e+1].index+=1)}})},$$slots:{default:!0}}),b(()=>re(n,(i(t).debugTitle??"")+i(t).title)),u(e,r)},$$slots:{default:!0}})},$$slots:{default:!0}});var c=X(r,2);qg(c,{get row(){return i(t)},bCreatorMode:!0,get windowWidth(){return i(a)},isBackpack:!0,get mainDiv(){return i(n)}});var g=X(c,2),h=e=>{var t=Ng();v(t).__click=()=>s(o+1),u(e,t)};Y(g,e=>{app.useToolbarBtn||e(h)}),b(()=>w(l,1,I(i(t).width?"col-6":"col-12"))),u(e,l)}),d(p,e=>c(n,e),()=>i(n)),at(o,"clientWidth",e=>c(a,e)),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}});var r=X(l,2);ve(r,{children:(e,t)=>{ue(e,{action:"close",children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Close");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),g()}he(["click"]);var Hg=n('<div class="container-fluid p-0"><div class="row gy-4"><div class="col-md-3 col-sm-6 col-12"><!></div> <div class="col-md-3 col-sm-6 col-12"><!></div> <div class="col-md-3 col-sm-6 col-12"><!></div> <div class="col-md-3 col-sm-6 col-12"><!></div> <div class="col-md-3 col-sm-6 col-12"><!></div> <div class="col-md-3 col-sm-6 col-12"><!></div> <div class="col-md-3 col-sm-6 col-12"><!></div> <div class="col-md-3 col-sm-6 col-12"><!></div></div></div>'),_g=n("<!> <!> <!>",1);var Jg=n('<div class="container-fluid pb-4"><div class="row"><div class="col-md-4 col-12"><div class="col-12 mt-4">Row</div> <!> <!> <div class="col-12 mt-4">Choice</div> <!> <!> <div class="col-12 mt-4">Addon</div> <!> <!></div> <div class="col-md-4 col-12"><div class="col-12 mt-4">Requirement</div> <!> <!> <div class="col-12 mt-4">Or Requirement</div> <!> <!> <div class="col-12 mt-4">Selected From Requirement</div> <!> <!></div> <div class="col-md-4 col-12"><div class="col-12 mt-4">Points</div> <!> <!> <div class="col-12 mt-5">Clicking this will change the id of all of the choices and rows where the title is longer than 2 letters, or the default title, into the title, which can make it easier to manage on larger projects with large amounts of requirements being used. Spaces will be replaced with underscores(_).</div> <!></div></div></div>'),Yg=n("<!> <!> <!>",1);var Xg=n('<span class="symbol"> </span>'),Zg=n('<div class="container-fluid"><div class="row p-2 gy-3"><div class="col-12"></div> <div class="col-12">More can be found on <a href="https://www.alt-codes.net/" target="_blank">https://www.alt-codes.net/</a></div> <div class="col-12"><!></div> <div class="col-12">This will reduce the size and quality of every image in your project that is above the size in the text field below, down to lower than that size. Before you do this, make a backup, and you\'ll probably want to keep working on an uncompressed project file, as you might want a version with high-quality images later. Compressing below 100 Kb with 200+ images might freeze your browser.</div> <div class="col-6"><!></div> <div class="col-6 d-flex align-items-center"> <br/> </div> <div class="col-12"><!></div></div></div>'),Kg=n("<!> <!> <!>",1);var Qg=n('<div class="point-slot"><div class="toolbar grey lighten-3 justify-space-around"><!> <!> <!></div> <div class="row gy-4 p-3"><div class="col-sm-6 col-12"><!></div> <div class="col-sm-6 col-12"><!></div></div></div>'),ev=n('<div><button type="button" class="create-box col-12" style="min-height: 138px; font-size: 40px;" aria-label="Create New Word"><i class="mdi mdi-plus-thick"></i></button></div>'),tv=n('<div class="py-3"><!></div>'),ov=n("<div></div>"),iv=n('<div class="point-slot my-5"><div class="toolbar grey lighten-3 justify-space-around"><!> <!> <!></div> <div class="row gy-4 p-3"><div class="col-sm-6 col-12"><!></div> <div class="col-sm-6 col-12"><!></div></div></div>'),lv=n('<!> <div class="my-5"><button type="button" class="create-box col-12" style="min-height: 138px; font-size: 40px;" aria-label="Create New Word"><i class="mdi mdi-plus-thick"></i></button></div>',1),rv=n('<div class="container-fluid"><div class="row p-0"><div class="col-sm-6 col-12"><!></div> <div class="col-sm-6 col-12"><!></div></div></div>'),av=n("<!> <!> <!>",1);he(["click"]);var nv=n('<div class="col-lg-2 col-sm-4 p-2"><!></div>'),sv=n('<div class="col-12 p-2"><b><!></b> <div class="row"></div></div>'),dv=n('<div class="container-fluid p-0"><div class="row">You can use CTRL + F to find ID or Title. <!></div></div>'),cv=n('<div class="container-fluid"><div class="row p-0"><div class="col-sm-6"><!></div> <div class="col-sm-6"><!></div></div></div>'),uv=n("<!> <!> <!>",1);function gv(e,o){t(o,!0);let l=h(o,"open",7);function r(){const e=["id","title","debugTitle"],t=["id,title,debugTitle"];for(let a=0;a<app.rows.length;a++){const o=app.rows[a];t.push(e.map(e=>JSON.stringify(o[e]||"")).join(","));for(let i=0;i<o.objects.length;i++){const l=o.objects[i];t.push(e.map(e=>JSON.stringify(l[e]||"")).join(","))}t.push("")}const o="\ufeff"+t.join("\n"),i=new Blob([o],{type:"text/csv;charset=utf-8"}),l=URL.createObjectURL(i),r=document.createElement("a");r.href=l,r.download="data.csv",r.click(),URL.revokeObjectURL(l)}se(e,{surface$style:"width: 1200px; max-width: calc(100vw - 32px);",get onSMUIDialogClosed(){return o.onclose},get open(){return l()},set open(e){l(e)},children:(e,t)=>{var o=uv(),l=D(o);de(l,{class:"dialog-title",tabindex:0,autofocus:!0,children:(e,t)=>{var o=le("Id / Title List");u(e,o)},$$slots:{default:!0}});var a=X(l,2);ce(a,{children:(e,t)=>{Ue(e,{class:"no-shadow",children:(e,t)=>{Ge(e,{children:(e,t)=>{var o=dv(),l=v(o),r=X(v(l));Ee(r,17,()=>app.rows,He,(e,t)=>{var o=sv(),l=v(o),r=v(l);s(r,()=>`${i(t).debugTitle??""} ${i(t).title} / ${i(t).id}`);var a=X(l,2);Ee(a,21,()=>i(t).objects,He,(e,t)=>{var o=nv(),l=v(o);s(l,()=>`${i(t).debugTitle??""} ${i(t).title} / ${i(t).id}`),u(e,o)}),u(e,o)}),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}});var n=X(a,2);ve(n,{children:(e,t)=>{var o=cv(),i=v(o),l=v(i),a=v(l);ue(a,{action:"",onclick:r,children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Export as a CSV File");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var n=X(l,2),s=v(n);ue(s,{action:"close",children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Close");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),g()}var vv=n('<div class="col-sm-6 col-12 pt-2 pb-3"><!></div>'),hv=n('<div class="container-fluid"><div class="row"><div class="col-12 gy-2"><div class="row"><div class="col-12 py-2"><div class="hide-file-ui"><!></div></div> <div class="col-12 py-3"><!></div> <!></div></div></div></div>'),pv=n("<!> <!> <!>",1),mv=n("<!> <!>",1);function fv(e,r){t(r,!0);let a=h(r,"open",7),n=h(r,"data",7);const s=[{action:()=>{c(d,"appRowDesign")},name:"Manage Row Design",text:"Here you can change the margin, padding, borders, and drop-shadow on rows."},{action:()=>{c(d,"appRowImage")},name:"Manage Row Image Design",text:"Here you can change the margin and padding of images on rows."},{action:()=>{c(d,"appChoiceDesign")},name:"Manage Choice Design",text:"Here you can change the margin, padding, borders, and drop-shadow on choices."},{action:()=>{c(d,"appChoiceImage")},name:"Manage Choices Image Design",text:"Here you can change the margin and padding of images on objects."},{action:()=>{c(d,"appAddonDesign")},name:"Manage Addon Design",text:"Here you can change the margin,padding, borders, and drop-shadow on Addon."},{action:()=>{c(d,"appAddonImage")},name:"Manage Addon Image Design",text:"Here you can change the margin and padding of images on Addon."},{action:()=>{c(d,"appFilter")},name:"Manage Filter Design",text:"Here you can change the filters for choices that are selectedand the one's you dont have the requirements for."},{action:()=>{c(d,"appBackground")},name:"Manage Background Design",text:"Here you can change the color and place images in the background of rows, choices and the whole project."},{action:()=>{c(d,"appText")},name:"Manage Text Design",text:"Here you can change the size, font andcolor of the text on titles and text."},{action:()=>{c(d,"appMultiChoice")},name:"Manage Multi Choice Design",text:"Here you can change the color, size and font of the  choices that can be selected multiple times."}];let d=l("none"),p=l(null);function m(){if(n().styling){const e={version:Ut,styling:{}};e.styling=n().styling;const t=JSON.stringify(e),o=new Blob([t],{type:"application/json"}),i=URL.createObjectURL(o),l=document.createElement("a"),r=`project_${ti()}.json`;l.href=i,l.download=r,l.click(),URL.revokeObjectURL(i)}}o(()=>{if(null!==i(p)&&1===i(p).length&&"application/json"===i(p)[0].type){const e=new FileReader;e.onload=()=>{try{const t=JSON.parse(e.result),o=void 0===n().version||"2.0.0-beta"===n().version;let i;i=void 0===n().styling?rl.safeParse(t):rl.safeParse(t.styling),i.success?(Ai(i.data,o),function(e){const t=r.isRow?["bgColorIsOn","backgroundColor","isBackgroundRepeat","isBackgroundFitIn","backgroundImage"]:["bgColorIsOn","backgroundColor","rowBgColorIsOn","rowBgColor","isBackgroundRepeat","isBackgroundFitIn","backgroundImage","isRowBackgroundRepeat","isRowBackgroundFitIn","rowBackgroundImage"];r.isRow||(Object.keys(Zt).forEach(t=>{t in e&&delete e[t]}),Object.keys(_t).forEach(t=>{t in e&&delete e[t]}));Object.keys(eo).forEach(t=>{t in e&&delete e[t]}),Object.keys(to).forEach(t=>{t in e&&delete e[t]});for(let o=0;o<t.length;o++){const i=t[o];i in e&&delete e[i]}}(i.data),n().styling=i.data,function(e,t){t&&(n().privateRowImageIsOn=Object.keys(_t).some(t=>t in e),n().privateRowIsOn=Object.keys(Zt).some(t=>t in e));n().privateFilterIsOn=Object.keys(Gt).some(t=>t in e),n().privateTextIsOn=Object.keys(Et).some(t=>t in e),n().privateObjectImageIsOn=Object.keys(Ht).some(t=>t in e),n().privateAddonImageIsOn=Object.keys(Jt).some(t=>t in e),n().privateBackgroundIsOn=Object.keys(Yt).some(t=>t in e),n().privateObjectIsOn=Object.keys(Xt).some(t=>t in e),n().privateAddonIsOn=Object.keys(Kt).some(t=>t in e),n().privateMultiChoiceIsOn=Object.keys(Qt).some(t=>t in e)}(i.data,r.isRow),Co.labelText="Data loaded successfully.",Co.isOpen=!0):(Co.labelText="Filed to load data.",Co.isOpen=!0,console.error(i.error))}catch(t){console.log(t)}},e.readAsText(i(p)[0])}});var f=mv(),w=D(f);const I=Q(()=>"none"===i(d)?"close":"");se(w,{get escapeKeyAction(){return i(I)},surface$style:"width: 600px; max-width: calc(100vw - 32px);",get onSMUIDialogClosed(){return r.onclose},get open(){return a()},set open(e){a(e)},children:(e,t)=>{var o=pv(),l=D(o);de(l,{tabindex:0,autofocus:!0,children:(e,t)=>{var o=le("Design Settings");u(e,o)},$$slots:{default:!0}});var a=X(l,2);ce(a,{children:(e,t)=>{var o=hv(),l=v(o),a=v(l),n=v(a),d=v(n),g=v(d);Jl(v(g),{label:"Import Design",type:"file",input$accept:"application/json",get files(){return i(p)},set files(e){c(p,e,!0)}});var h=X(d,2),f=v(h);Dt(f,{text:"Here you can export your design.",children:(e,t)=>{ue(e,{onclick:m,variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Export Design");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}});var w=X(h,2);Ee(w,17,()=>s,He,(e,t,o)=>{var l=M(),a=D(l),n=e=>{var o=vv(),l=v(o);Dt(l,{get text(){return i(t).text},children:(e,o)=>{ue(e,{get onclick(){return i(t).action},variant:"raised",children:(e,o)=>{ge(e,{class:"line-default",children:(e,o)=>{var l=le();b(()=>re(l,i(t).name)),u(e,l)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)};Y(a,e=>{(o>1||o<=1&&r.isRow)&&e(n)}),u(e,l)}),u(e,o)},$$slots:{default:!0}});var n=X(a,2);ve(n,{children:(e,t)=>{ue(e,{action:"close",children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Close");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}});var x=X(w,2),$=e=>{const t=Q(()=>"appRowDesign"===i(d));Nn(e,{get open(){return i(t)},onclose:()=>c(d,"none"),get data(){return n()}})},T=(e,t)=>{var o=e=>{const t=Q(()=>"appRowImage"===i(d));_n(e,{get open(){return i(t)},onclose:()=>c(d,"none"),get data(){return n()}})},l=(e,t)=>{var o=e=>{const t=Q(()=>"appChoiceDesign"===i(d));nn(e,{get open(){return i(t)},onclose:()=>c(d,"none"),get data(){return n()}})},l=(e,t)=>{var o=e=>{const t=Q(()=>"appChoiceImage"===i(d));vn(e,{get open(){return i(t)},onclose:()=>c(d,"none"),get data(){return n()}})},l=(e,t)=>{var o=e=>{const t=Q(()=>"appAddonDesign"===i(d));xa(e,{get open(){return i(t)},onclose:()=>c(d,"none"),get data(){return n()}})},l=(e,t)=>{var o=e=>{const t=Q(()=>"appAddonImage"===i(d));ka(e,{get open(){return i(t)},onclose:()=>c(d,"none"),get data(){return n()}})},l=(e,t)=>{var o=e=>{const t=Q(()=>"appFilter"===i(d));wn(e,{get open(){return i(t)},onclose:()=>c(d,"none"),get data(){return n()}})},l=(e,t)=>{var o=e=>{const t=Q(()=>"appBackground"===i(d));Na(e,{get open(){return i(t)},onclose:()=>c(d,"none"),get data(){return n()}})},l=(e,t)=>{var o=e=>{const t=Q(()=>"appText"===i(d));Qn(e,{get open(){return i(t)},onclose:()=>c(d,"none"),get data(){return n()}})},l=(e,t)=>{var o=e=>{const t=Q(()=>"appMultiChoice"===i(d));Cn(e,{get open(){return i(t)},onclose:()=>c(d,"none"),get data(){return n()}})};Y(e,e=>{"appMultiChoice"===i(d)&&e(o)},t)};Y(e,e=>{"appText"===i(d)?e(o):e(l,!1)},t)};Y(e,e=>{"appBackground"===i(d)?e(o):e(l,!1)},t)};Y(e,e=>{"appFilter"===i(d)?e(o):e(l,!1)},t)};Y(e,e=>{"appAddonImage"===i(d)?e(o):e(l,!1)},t)};Y(e,e=>{"appAddonDesign"===i(d)?e(o):e(l,!1)},t)};Y(e,e=>{"appChoiceImage"===i(d)?e(o):e(l,!1)},t)};Y(e,e=>{"appChoiceDesign"===i(d)?e(o):e(l,!1)},t)};Y(e,e=>{"appRowImage"===i(d)?e(o):e(l,!1)},t)};Y(x,e=>{"appRowDesign"===i(d)?e($):e(T,!1)}),u(e,f),g()}var bv=n('<div class="point-slot"><div class="toolbar grey lighten-3 justify-space-around"><!> <!> <!> <!> <!></div> <div class="row gy-4 p-3"><div class="col-sm-6 col-12"><!></div> <div class="col-sm-6 col-12"><!></div> <div class="col-12"><!></div> <div class="col-12"><!></div> <div class="col-12"><!></div></div></div>'),wv=(e,t)=>t(!0),Iv=n('<div class="pb-2"><button type="button" class="create-box col-12" style="min-height: 378px; font-size: 40px;" aria-label="Create New Point Type"><i class="mdi mdi-plus-thick"></i></button></div>'),xv=n('<div class="py-3"><!></div>'),$v=n("<div></div>"),Tv=n('<div class="point-slot mb-5"><div class="toolbar grey lighten-3 justify-space-around"><!> <!> <!> <!> <!></div> <div class="row gy-4 p-3"><div class="col-sm-6 col-12"><!></div> <div class="col-sm-6 col-12"><!></div> <div class="col-12"><!></div> <div class="col-12"><!></div> <div class="col-12"><!></div></div></div>'),yv=(e,t)=>t(!0),Cv=n('<div class="py-3"><!> <div class="mb-5"><button type="button" class="create-box col-12" style="min-height: 378px; font-size: 40px;" aria-label="Create New Point Type"><i class="mdi mdi-plus-thick"></i></button></div></div>'),Bv=n('<div class="point-slot"><div class="toolbar grey lighten-3 justify-space-around"><!> <!> <!> <!> <!></div> <div class="row gy-4 p-3"><div class="col-sm-6 col-12"><!></div> <div class="col-sm-6 col-12"><!></div> <div class="col-12"><!></div> <div class="col-12"><!></div> <div class="col-12"><!></div></div></div>'),Sv=(e,t)=>t(!1),kv=n('<div class="pb-2"><button type="button" class="create-box col-12" style="min-height: 378px; font-size: 40px;" aria-label="Create New Point Type"><i class="mdi mdi-plus-thick"></i></button></div>'),Ov=n('<div class="py-3"><!></div>'),Fv=n("<div></div>"),Rv=n('<div class="point-slot mb-5"><div class="toolbar grey lighten-3 justify-space-around"><!> <!> <!> <!> <!></div> <div class="row gy-4 p-3"><div class="col-sm-6 col-12"><!></div> <div class="col-sm-6 col-12"><!></div> <div class="col-12"><!></div> <div class="col-12"><!></div> <div class="col-12"><!></div></div></div>'),Av=(e,t)=>t(!1),jv=n('<div class="py-3"><!> <div class="mb-5"><button type="button" class="create-box col-12" style="min-height: 378px; font-size: 40px;" aria-label="Create New Point Type"><i class="mdi mdi-plus-thick"></i></button></div></div>'),Mv=n('<div class="row gy-4 text-center"><div class="col-md-6 col-12"><h5>Row Design Groups</h5></div> <div class="col-md-6 col-12"><h5>Choice Design Groups</h5></div></div> <div class="row gy-4"><div class="col-md-6 col-12"><div style="max-height: 680px; overflow-y: auto; overflow-x: hidden;"><!></div></div> <div class="col-md-6 col-12"><div style="max-height: 680px; overflow-y: auto; overflow-x: hidden;"><!></div></div></div>',1),Dv=n('<div class="container-fluid"><div class="row p-0"><div class="col-md-6 col-12"><!></div> <div class="col-md-6 col-12"><!></div> <div class="col-12"><!></div></div></div>'),Pv=n("<!> <!> <!>",1),qv=n("<!> <!>",1);function Lv(o,r){t(r,!0);const[a,n]=Ve(),s=()=>We(R,"$rowVirtualizer",a),m=()=>We(A,"$objectVirtualizer",a),f=()=>We(Mo,"$optimizedRows",a),w=()=>We(Po,"$optimizedBackpackRows",a),I=()=>We(Do,"$optimizedChoices",a),x=()=>We(qo,"$optimizedBackpackChoices",a);let $=h(r,"open",7),T=l("none"),y=l(void 0),C="",B=l(!1);const S=()=>(app.rowDesignGroups?.length??0)+1,k=()=>(app.objectDesignGroups?.length??0)+1;let O=l(null),F=l(null),R=e(Je({count:S(),getScrollElement:()=>i(O),estimateSize:()=>410,overscan:1,measureElement:e=>Math.max(e.offsetHeight,410)})),A=e(Je({count:k(),getScrollElement:()=>i(F),estimateSize:()=>410,overscan:1,measureElement:e=>Math.max(e.offsetHeight,410)})),j=Q(()=>s().getTotalSize()),P=Q(()=>m().getTotalSize()),q=Q(()=>s().getVirtualItems()),L=Q(()=>m().getVirtualItems());function V(e,t){if(""===e.id)e.id=C;else if(e.id!==C){let o=t?po:mo;e.id=Ti(e.id,o),o.set(e.id,e),o.delete(C);for(let i=0;i<e.elements.length;i++)if(t){const t=so.get(e.elements[i]);if(void 0!==t&&t.rowDesignGroups){const o=t.rowDesignGroups.indexOf(C);t.rowDesignGroups[o]=e.id}}else{const t=co.get(e.elements[i]);if(void 0!==t){const o=t.choice;if(o.objectDesignGroups){const t=o.objectDesignGroups.indexOf(C);o.objectDesignGroups[t]=e.id}}}C=e.id}}function N(e,t,o){let l=gi(0,4),r=JSON.parse(JSON.stringify(e));r.id=l;let a=o?app.rowDesignGroups:app.objectDesignGroups,n=o?po:mo;if(void 0!==a){a.splice(t+1,0,r),n.set(l,a[t+1]);let i=n.get(e.id);if(void 0!==i)for(let e=0;e<i.elements.length;e++)if(o){let t=so.get(i.elements[e]);if(void 0!==t){let e=t.rowDesignGroups;e?.push(l)}}else{let t=co.get(i.elements[e]);if(void 0!==t){let e=t.choice.objectDesignGroups;e?.push(l)}}}o?i(O)&&(s().setOptions({count:S()}),jl(s(),i(O),t+1)):i(F)&&(m().setOptions({count:k()}),jl(m(),i(F),t+1))}function z(e){let t=gi(0,4),o=e?app.rowDesignGroups:app.objectDesignGroups,l=e?po:mo;void 0===o&&(o=[]),o.push({id:t,name:`Design Group ${o.length+1}`,activatedId:"",elements:[],backpackElements:[],styling:{}}),l.set(t,o[o.length-1]),e?i(O)&&(s().setOptions({count:S()}),jl(s(),i(O),o.length-1)):i(F)&&(m().setOptions({count:k()}),jl(m(),i(F),o.length-1))}function U(e,t,o){let i=o?app.rowDesignGroups:app.objectDesignGroups,l=o?po:mo,r=l.get(e);if(void 0!==r){for(let t=0;t<r.elements.length;t++)if(o){let o=so.get(r.elements[t]);if(void 0!==o){let t=o.rowDesignGroups;t?.splice(t.indexOf(e),1)}}else{let o=co.get(r.elements[t]);if(void 0!==o){let t=o.choice.objectDesignGroups;t?.splice(t.indexOf(e),1)}}for(let t=0;t<r.backpackElements.length;t++)if(o){let o=so.get(r.backpackElements[t]);if(void 0!==o){let t=o.rowDesignGroups;t?.splice(t.indexOf(e),1)}}else{let o=co.get(r.backpackElements[t]);if(void 0!==o){let t=o.choice.objectDesignGroups;t?.splice(t.indexOf(e),1)}}}void 0!==i&&(i.splice(t,1),l.delete(e)),o?s().setOptions({count:S()}):m().setOptions({count:k()})}function G(e,t){let o=t?app.rowDesignGroups:app.objectDesignGroups;void 0!==o&&e<o.length-1&&o.splice(e,2,o[e+1],o[e])}function E(e,t){let o=t?app.rowDesignGroups:app.objectDesignGroups;e>0&&void 0!==o&&o.splice(e-1,2,o[e],o[e-1])}function H(e,t){let o="object"==typeof e.detail?e.detail.chipId:e.detail,i=so.get(o);void 0!==i&&void 0!==i.rowDesignGroups&&i.rowDesignGroups.splice(i.rowDesignGroups.indexOf(t.id),1)}function _(e,t){let o=so.get(e.detail);void 0!==o&&(void 0===o.rowDesignGroups&&(o.rowDesignGroups=[]),-1===o.rowDesignGroups.indexOf(t.id)&&o.rowDesignGroups.push(t.id))}function J(e,t){let o="object"==typeof e.detail?e.detail.chipId:e.detail,i=co.get(o);if(void 0!==i){let e=i.choice;void 0!==e.objectDesignGroups&&e.objectDesignGroups.splice(e.objectDesignGroups.indexOf(t.id),1)}}function Z(e,t){let o=co.get(e.detail);if(void 0!==o){let e=o.choice;void 0===e.objectDesignGroups&&(e.objectDesignGroups=[]),-1===e.objectDesignGroups.indexOf(t.id)&&e.objectDesignGroups.push(t.id)}}p(()=>{s().setOptions({getScrollElement:()=>i(O),estimateSize:e=>function(e){const t=void 0!==app.rowDesignGroups?app.rowDesignGroups[e]:null;if(!t)return 410;return 410+24*Math.max(t.backpackElements.length,t.elements.length)}(e-1),measureElement:e=>Math.max(e.offsetHeight,410)}),m().setOptions({getScrollElement:()=>i(F),estimateSize:e=>function(e){const t=void 0!==app.objectDesignGroups?app.objectDesignGroups[e]:null;if(!t)return 410;return 410+24*Math.max(t.backpackElements.length,t.elements.length)}(e-1),measureElement:e=>Math.max(e.offsetHeight,410)})});var K=qv(),ee=D(K);const te=Q(()=>"none"===i(T)?"close":"");se(ee,{get escapeKeyAction(){return i(te)},surface$style:"width: 1200px; max-width: calc(100vw - 32px);",get onSMUIDialogClosed(){return r.onclose},get open(){return $()},set open(e){$(e)},children:(e,t)=>{var o=Pv(),l=D(o);de(l,{class:"dialog-title",tabindex:0,autofocus:!0,children:(e,t)=>{var o=le("Design Groups");u(e,o)},$$slots:{default:!0}});var r=X(l,2);ce(r,{id:"dialog--design-group",class:"pb-2",children:(e,t)=>{var o=Mv(),l=X(D(o),2),r=v(l),a=v(r),n=v(a),g=e=>{var t=$v();Ee(t,21,()=>i(q),e=>e.index,(e,t)=>{var o=xv(),l=v(o),r=e=>{var o=bv(),l=v(o),r=v(l);Dt(r,{text:"Move Up",children:(e,o)=>{Ye(e,{class:"mdi mdi-chevron-up",onclick:()=>E(i(t).index,!0)})},$$slots:{default:!0}});var a=X(r,2);Dt(a,{text:"Delete Design",children:(e,o)=>{Ye(e,{class:"mdi mdi-delete-forever",onclick:()=>U(app.rowDesignGroups[i(t).index].id,i(t).index,!0)})},$$slots:{default:!0}});var n=X(a,2);Dt(n,{text:"Open Design Settings",children:(e,o)=>{Ye(e,{class:"mdi mdi-pencil",onclick:()=>{c(T,"privateDesign"),c(y,app.rowDesignGroups[i(t).index],!0),c(B,!0)}})},$$slots:{default:!0}});var s=X(n,2);Dt(s,{text:"Clone Design",children:(e,o)=>{Ye(e,{class:"mdi mdi-content-copy",onclick:()=>N(app.rowDesignGroups[i(t).index],i(t).index,!0)})},$$slots:{default:!0}});var d=X(s,2);Dt(d,{text:"Move Down",children:(e,o)=>{Ye(e,{class:"mdi mdi-chevron-down",onclick:()=>G(i(t).index,!0)})},$$slots:{default:!0}});var g=X(l,2),h=v(g);Jl(v(h),{onfocus:()=>C=app.rowDesignGroups[i(t).index].id,onchange:()=>V(app.rowDesignGroups[i(t).index],!0),label:"Id",variant:"filled",get value(){return app.rowDesignGroups[i(t).index].id},set value(e){app.rowDesignGroups[i(t).index].id=e}});var p=X(h,2);Jl(v(p),{label:"Name",variant:"filled",get value(){return app.rowDesignGroups[i(t).index].name},set value(e){app.rowDesignGroups[i(t).index].name=e}});var m=X(p,2);Jl(v(m),{label:"Id Needed To Show",variant:"filled",get value(){return app.rowDesignGroups[i(t).index].activatedId},set value(e){app.rowDesignGroups[i(t).index].activatedId=e}});var b=X(m,2);js(v(b),{get acValue(){return app.rowDesignGroups[i(t).index].elements},get acOptions(){return f()},inputLabel:"Row Id",get getLabel(){return ri},onSelected:_,onDeselected:H,get selectProp(){return app.rowDesignGroups[i(t).index]}});var I=X(b,2);js(v(I),{get acValue(){return app.rowDesignGroups[i(t).index].backpackElements},get acOptions(){return w()},inputLabel:"Backpack Row Id",get getLabel(){return ri},onSelected:_,onDeselected:H,get selectProp(){return app.rowDesignGroups[i(t).index]}}),u(e,o)},a=(e,o)=>{var l=e=>{var t=Iv();v(t).__click=[wv,z],u(e,t)};Y(e,e=>{i(t).index===app.rowDesignGroups.length&&e(l)},o)};Y(l,e=>{app.rowDesignGroups[i(t).index]?e(r):e(a,!1)}),W(o,(e,t)=>function(e){const t=new ResizeObserver(()=>{s().measureElement(e)});return t.observe(e),{destroy(){t.disconnect()}}}?.(e),()=>i(t).index),b(()=>{xe(o,"data-index",i(t).index),we(o,`position: absolute; top: ${i(t).start??""}px; width: 100%;`)}),u(e,o)}),b(()=>we(t,`position: relative; height: ${i(j)??""}px; width: 100%;`)),u(e,t)},h=e=>{var t=Cv(),o=v(t),l=e=>{var t=M(),o=D(t);Ee(o,17,()=>app.rowDesignGroups,He,(e,t,o)=>{var l=Tv(),r=v(l),a=v(r);Dt(a,{text:"Move Up",children:(e,t)=>{Ye(e,{class:"mdi mdi-chevron-up",onclick:()=>E(o,!0)})},$$slots:{default:!0}});var n=X(a,2);Dt(n,{text:"Delete Design",children:(e,l)=>{Ye(e,{class:"mdi mdi-delete-forever",onclick:()=>U(i(t).id,o,!0)})},$$slots:{default:!0}});var s=X(n,2);Dt(s,{text:"Open Design Settings",children:(e,o)=>{Ye(e,{class:"mdi mdi-pencil",onclick:()=>{c(T,"privateDesign"),c(y,i(t),!0),c(B,!0)}})},$$slots:{default:!0}});var d=X(s,2);Dt(d,{text:"Clone Design",children:(e,l)=>{Ye(e,{class:"mdi mdi-content-copy",onclick:()=>N(i(t),o,!0)})},$$slots:{default:!0}});var g=X(d,2);Dt(g,{text:"Move Down",children:(e,t)=>{Ye(e,{class:"mdi mdi-chevron-down",onclick:()=>G(o,!0)})},$$slots:{default:!0}});var h=X(r,2),p=v(h);Jl(v(p),{onfocus:()=>C=i(t).id,onchange:()=>V(i(t),!0),label:"Id",variant:"filled",get value(){return i(t).id},set value(e){i(t).id=e}});var m=X(p,2);Jl(v(m),{label:"Name",variant:"filled",get value(){return i(t).name},set value(e){i(t).name=e}});var b=X(m,2);Jl(v(b),{label:"Id Needed To Show",variant:"filled",get value(){return i(t).activatedId},set value(e){i(t).activatedId=e}});var I=X(b,2);js(v(I),{get acValue(){return i(t).elements},get acOptions(){return f()},inputLabel:"Row Id",get getLabel(){return ri},onSelected:_,onDeselected:H,get selectProp(){return i(t)}});var x=X(I,2);js(v(x),{get acValue(){return i(t).backpackElements},get acOptions(){return w()},inputLabel:"Backpack Row Id",get getLabel(){return ri},onSelected:_,onDeselected:H,get selectProp(){return i(t)}}),u(e,l)}),u(e,t)};Y(o,e=>{app.rowDesignGroups&&e(l)});var r=X(o,2);v(r).__click=[yv,z],u(e,t)};Y(n,e=>{app.rowDesignGroups&&app.rowDesignGroups.length>1?e(g):e(h,!1)}),d(a,e=>c(O,e),()=>i(O));var p=X(r,2),$=v(p),S=v($),k=e=>{var t=Fv();Ee(t,21,()=>i(L),e=>e.index,(e,t)=>{var o=Ov(),l=v(o),r=e=>{var o=Bv(),l=v(o),r=v(l);Dt(r,{text:"Move Up",children:(e,o)=>{Ye(e,{class:"mdi mdi-chevron-up",onclick:()=>E(i(t).index,!1)})},$$slots:{default:!0}});var a=X(r,2);Dt(a,{text:"Delete Design",children:(e,o)=>{Ye(e,{class:"mdi mdi-delete-forever",onclick:()=>U(app.objectDesignGroups[i(t).index].id,i(t).index,!1)})},$$slots:{default:!0}});var n=X(a,2);Dt(n,{text:"Open Design Settings",children:(e,o)=>{Ye(e,{class:"mdi mdi-pencil",onclick:()=>{c(T,"privateDesign"),c(y,app.objectDesignGroups[i(t).index],!0),c(B,!1)}})},$$slots:{default:!0}});var s=X(n,2);Dt(s,{text:"Clone Design",children:(e,o)=>{Ye(e,{class:"mdi mdi-content-copy",onclick:()=>N(app.objectDesignGroups[i(t).index],i(t).index,!1)})},$$slots:{default:!0}});var d=X(s,2);Dt(d,{text:"Move Down",children:(e,o)=>{Ye(e,{class:"mdi mdi-chevron-down",onclick:()=>G(i(t).index,!1)})},$$slots:{default:!0}});var g=X(l,2),h=v(g);Jl(v(h),{onfocus:()=>C=app.objectDesignGroups[i(t).index].id,onchange:()=>V(app.objectDesignGroups[i(t).index],!1),label:"Id",variant:"filled",get value(){return app.objectDesignGroups[i(t).index].id},set value(e){app.objectDesignGroups[i(t).index].id=e}});var p=X(h,2);Jl(v(p),{label:"Name",variant:"filled",get value(){return app.objectDesignGroups[i(t).index].name},set value(e){app.objectDesignGroups[i(t).index].name=e}});var m=X(p,2);Jl(v(m),{label:"Id Needed To Show",variant:"filled",get value(){return app.objectDesignGroups[i(t).index].activatedId},set value(e){app.objectDesignGroups[i(t).index].activatedId=e}});var f=X(m,2);js(v(f),{get acValue(){return app.objectDesignGroups[i(t).index].elements},get acOptions(){return I()},inputLabel:"Row Id",get getLabel(){return ii},onSelected:Z,onDeselected:J,get selectProp(){return app.objectDesignGroups[i(t).index]}});var b=X(f,2);js(v(b),{get acValue(){return app.objectDesignGroups[i(t).index].backpackElements},get acOptions(){return x()},inputLabel:"Backpack Row Id",get getLabel(){return ii},onSelected:Z,onDeselected:J,get selectProp(){return app.objectDesignGroups[i(t).index]}}),u(e,o)},a=(e,o)=>{var l=e=>{var t=kv();v(t).__click=[Sv,z],u(e,t)};Y(e,e=>{i(t).index===app.objectDesignGroups.length&&e(l)},o)};Y(l,e=>{app.objectDesignGroups[i(t).index]?e(r):e(a,!1)}),W(o,(e,t)=>function(e){const t=new ResizeObserver(()=>{m().measureElement(e)});return t.observe(e),{destroy(){t.disconnect()}}}?.(e),()=>i(t).index),b(()=>{xe(o,"data-index",i(t).index),we(o,`position: absolute; top: ${i(t).start??""}px; width: 100%;`)}),u(e,o)}),b(()=>we(t,`position: relative; height: ${i(P)??""}px; width: 100%;`)),u(e,t)},R=e=>{var t=jv(),o=v(t),l=e=>{var t=M(),o=D(t);Ee(o,17,()=>app.objectDesignGroups,He,(e,t,o)=>{var l=Rv(),r=v(l),a=v(r);Dt(a,{text:"Move Up",children:(e,t)=>{Ye(e,{class:"mdi mdi-chevron-up",onclick:()=>E(o,!1)})},$$slots:{default:!0}});var n=X(a,2);Dt(n,{text:"Delete Design",children:(e,l)=>{Ye(e,{class:"mdi mdi-delete-forever",onclick:()=>U(i(t).id,o,!1)})},$$slots:{default:!0}});var s=X(n,2);Dt(s,{text:"Open Design Settings",children:(e,o)=>{Ye(e,{class:"mdi mdi-pencil",onclick:()=>{c(T,"privateDesign"),c(y,i(t),!0),c(B,!1)}})},$$slots:{default:!0}});var d=X(s,2);Dt(d,{text:"Clone Design",children:(e,l)=>{Ye(e,{class:"mdi mdi-content-copy",onclick:()=>N(i(t),o,!1)})},$$slots:{default:!0}});var g=X(d,2);Dt(g,{text:"Move Down",children:(e,t)=>{Ye(e,{class:"mdi mdi-chevron-down",onclick:()=>G(o,!1)})},$$slots:{default:!0}});var h=X(r,2),p=v(h);Jl(v(p),{onfocus:()=>C=i(t).id,onchange:()=>V(i(t),!1),label:"Id",variant:"filled",get value(){return i(t).id},set value(e){i(t).id=e}});var m=X(p,2);Jl(v(m),{label:"Name",variant:"filled",get value(){return i(t).name},set value(e){i(t).name=e}});var f=X(m,2);Jl(v(f),{label:"Id Needed To Show",variant:"filled",get value(){return i(t).activatedId},set value(e){i(t).activatedId=e}});var b=X(f,2);js(v(b),{get acValue(){return i(t).elements},get acOptions(){return I()},inputLabel:"Choice Id",get getLabel(){return ii},onSelected:Z,onDeselected:J,get selectProp(){return i(t)}});var w=X(b,2);js(v(w),{get acValue(){return i(t).backpackElements},get acOptions(){return x()},inputLabel:"Backpack Choice Id",get getLabel(){return ii},onSelected:Z,onDeselected:J,get selectProp(){return i(t)}}),u(e,l)}),u(e,t)};Y(o,e=>{app.objectDesignGroups&&e(l)});var r=X(o,2);v(r).__click=[Av,z],u(e,t)};Y(S,e=>{app.objectDesignGroups&&app.objectDesignGroups.length>1?e(k):e(R,!1)}),d($,e=>c(F,e),()=>i(F)),u(e,o)},$$slots:{default:!0}});var a=X(r,2);ve(a,{children:(e,t)=>{var o=Dv(),i=v(o),l=v(i),r=v(l);ue(r,{action:"",onclick:()=>z(!0),children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Create New Row Group");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var a=X(l,2),n=v(a);ue(n,{action:"",onclick:()=>z(!1),children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Create New Choice Group");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var s=X(a,2),d=v(s);ue(d,{action:"close",children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Close");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}});var oe=X(ee,2),ie=e=>{const t=Q(()=>"privateDesign"===i(T));fv(e,{get open(){return i(t)},onclose:()=>c(T,"none"),get data(){return i(y)},get isRow(){return i(B)}})};Y(oe,e=>{"privateDesign"===i(T)&&void 0!==i(y)&&e(ie)}),u(o,K),g(),n()}he(["click"]);var Wv=n('<div class="container-fluid"><div class="row pb-3"><div class="col-12 px-0">Requirements are conditions that will decide if the player can select the choice or not, these use the ID of choices and variables, and the design of the filter placed on non-selectable choices can be changed in filter design.</div></div> <div class="row pb-2"><div class="col-12 pb-3"><!></div> <div class="col-sm-6 col-12 pb-3"><!></div> <div class="col-sm-6 col-12 pb-3"><!></div></div> <div class="row pb-2"><div class="col-12 px-3 pb-2">Choice Requirements</div> <div class="col-sm-6 col-12 pb-3"><!></div> <div class="col-sm-6 col-12 pb-3"><!></div></div> <div class="row pb-2"><div class="col-sm-6 col-12"><div class="col-12 px-1 pb-2">Point Requirements</div> <div class="col-12 pb-3"><!></div> <div class="col-12 pb-3"><!></div></div> <div class="col-sm-6 col-12"><div class="col-12 px-1 pb-2">Point Comparison Requirements</div> <div class="col-12 pb-3"><!></div> <div class="col-12 pb-3"><!></div></div></div> <div class="row pb-2"><div class="col-12 px-3 pb-2">\'X of these\' Requirement</div> <div class="col-12 pb-3"><!></div> <div class="col-sm-6 col-12 pb-3"><!></div> <div class="col-sm-6 col-12 pb-3"><!></div></div> <div class="row"><div class="col-12 px-3 pb-2">\'Selected X or more From\' Requirements</div> <div class="col-12 pb-3"><!></div> <div class="col-sm-4 col-12 pb-3"><!></div> <div class="col-sm-4 col-12 pb-3"><!></div> <div class="col-sm-4 col-12 pb-3"><!></div></div></div>'),Vv=n("<!> <!> <!>",1);function Nv(e,o){t(o,!0);let r=h(o,"open",7);const a=[{text:"> More than",value:"1"},{text:"≥ More or equal",value:"2"},{text:"= Equal to",value:"3"},{text:"≤ Less or equal",value:"4"},{text:"< Less than",value:"5"}];let n=l("1"),s=l("1"),d=l(4),p=l(1);function m(e,t,l){let r=[],a="word"===e?1:i(d);for(let o=0;o<a;o++)r.push({req:""});o.data.requireds.push({required:t,requireds:[],orRequired:r,id:"",type:e,reqId:"",reqId1:"",reqId2:"",reqId3:"",reqPoints:0,showRequired:!1,operator:l,afterText:app.defaultAfterReq,beforeText:app.defaultBeforeReq,orNum:1,selNum:i(p),selFromOperators:"1",more:[]})}se(e,{surface$style:"width: 1000px; max-width: calc(100vw - 32px);",get onSMUIDialogClosed(){return o.onclose},get open(){return r()},set open(e){r(e)},children:(e,t)=>{var l=Vv(),r=D(l);de(r,{tabindex:0,autofocus:!0,children:(e,t)=>{var o=le("Create Requirement");u(e,o)},$$slots:{default:!0}});var g=X(r,2);ce(g,{children:(e,t)=>{var l=Wv(),r=X(v(l),2),g=v(r),h=v(g);ue(h,{variant:"raised",class:"w-100",onclick:()=>function(){if(void 0===app.tmpRequired||0===app.tmpRequired.length)Co.labelText="The clipboard is empty.",Co.isOpen=!0;else{const t=JSON.parse(JSON.stringify(app.tmpRequired));if(t.length>1)for(var e=0;e<t.length;e++)o.data.requireds.push(t[e]);else"reqId"in o.data?(t[0].requireds=[],o.data.requireds.push(t[0])):o.data.requireds.push(t[0])}}(),children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Paste the copied requirement");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var f=X(g,2),w=v(f);ue(w,{variant:"raised",class:"w-100",onclick:()=>m("gid",!0,""),children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Add Global Requirement");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var I=X(f,2),x=v(I);ue(x,{variant:"raised",class:"w-100",onclick:()=>m("word",!0,""),children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Add Word Requirement");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var $=X(r,2),T=X(v($),2),y=v(T);ue(y,{variant:"raised",class:"w-100",onclick:()=>m("id",!0,""),children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Add selected Choice requirement");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var C=X(T,2),B=v(C);ue(B,{variant:"raised",class:"w-100",onclick:()=>m("id",!1,""),children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Add non-selected Choice requirement");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var S=X($,2),k=v(S),O=X(v(k),2);ia(v(O),{label:"Point Operator",variant:"filled",alwaysFloat:!0,get value(){return i(n)},set value(e){c(n,e,!0)},children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>a,e=>e.text,(e,t)=>{la(e,{get value(){return i(t).value},children:(e,o)=>{var l=le();b(()=>re(l,i(t).text)),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}});var F=X(O,2),R=v(F);ue(R,{variant:"raised",class:"w-100",onclick:()=>m("points",!0,i(n)),children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Add Point Requirement");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var A=X(k,2),j=X(v(A),2);ia(v(j),{label:"Point Comparison Operator",variant:"filled",alwaysFloat:!0,get value(){return i(s)},set value(e){c(s,e,!0)},children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>a,e=>e.text,(e,t)=>{la(e,{get value(){return i(t).value},children:(e,o)=>{var l=le();b(()=>re(l,i(t).text)),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}});var P=X(j,2),q=v(P);ue(q,{variant:"raised",class:"w-100",onclick:()=>m("pointCompare",!0,i(n)),children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Add Point Comparison Requirement");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var L=X(S,2),W=X(v(L),2);Jl(v(W),{label:"Number of Requirements",variant:"filled",type:"number",get value(){return i(d)},set value(e){c(d,e,!0)}});var V=X(W,2),N=v(V);ue(N,{variant:"raised",class:"w-100",onclick:()=>m("or",!0,""),children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("'X of these is selected' Requirement");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var z=X(V,2),U=v(z);ue(U,{variant:"raised",class:"w-100",onclick:()=>m("or",!1,""),children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("'X of these is not selected' Requirement");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var G=X(L,2),E=X(v(G),2);Jl(v(E),{label:"Number of Selections",variant:"filled",type:"number",get value(){return i(p)},set value(e){c(p,e,!0)}});var H=X(E,2),_=v(H);ue(_,{variant:"raised",class:"w-100",onclick:()=>m("selFromGroups",!0,""),children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("From Groups");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var J=X(H,2),Y=v(J);ue(Y,{variant:"raised",class:"w-100",onclick:()=>m("selFromRows",!0,""),children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("From Rows");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var Z=X(J,2),K=v(Z);ue(K,{variant:"raised",class:"w-100",onclick:()=>m("selFromWhole",!0,""),children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("From All");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,l)},$$slots:{default:!0}});var h=X(g,2);ve(h,{children:(e,t)=>{ue(e,{action:"close",children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Close");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,l)},$$slots:{default:!0}}),g()}var zv=n("<div><!> <!></div>"),Uv=n('<div class="row gy-4"></div>'),Gv=n("<!> <!>",1),Ev=n('<div class="point-slot"><div class="toolbar grey lighten-3 justify-space-around"><!> <!> <!> <!> <!></div> <div class="row gy-3 p-3"><div class="col-sm-6 col-12"><!></div> <div class="col-sm-6 col-12"><!></div></div> <div class="row gx-0"><div class="col p-2"><!></div></div></div>'),Hv=n('<div><button type="button" class="create-box col-12" style="min-height: 154px; font-size: 40px;" aria-label="Create New Group"><i class="mdi mdi-plus-thick"></i></button></div>'),_v=n('<div class="py-3"><!></div>'),Jv=n("<div></div>"),Yv=n("<div><!> <!></div>"),Xv=n('<div class="row gy-4"></div>'),Zv=n("<!> <!>",1),Kv=n('<div class="point-slot my-5"><div class="toolbar grey lighten-3 justify-space-around"><!> <!> <!> <!> <!></div> <div class="row gy-3 p-3"><div class="col-sm-6 col-12"><!></div> <div class="col-sm-6 col-12"><!></div></div> <div class="row gx-0"><div class="col p-2"><!></div></div></div>'),Qv=n('<div class="py-3"><!> <div class="my-5"><button type="button" class="create-box col-12" style="min-height: 154px; font-size: 40px;" aria-label="Create New Group"><i class="mdi mdi-plus-thick"></i></button></div></div>'),eh=n('<div class="container-fluid"><div class="row p-0"><div class="col-sm-6 col-12"><!></div> <div class="col-sm-6 col-12"><!></div></div></div>'),th=n("<!> <!> <!>",1),oh=n("<!> <!>",1);function ih(o,r){t(r,!0);const[a,n]=Ve(),s=()=>We(T,"$virtualizer",a);let d=h(r,"open",7),m=l("none"),f=l(void 0),I="";const x=()=>(app.globalRequirements?.length??0)+1;let $=l(e(document.getElementById("dialog--group"))),T=e(Je({count:x(),getScrollElement:()=>i($),estimateSize:()=>232,overscan:1,measureElement:e=>Math.max(e.getBoundingClientRect().height,232)})),y=Q(()=>s().getTotalSize()),C=Q(()=>s().getVirtualItems());function B(e){""===e.id?e.id=I:e.id!==I&&(e.id=Ti(e.id,go),go.set(e.id,e),go.delete(I),I=e.id)}function S(e,t){let o=F(0,4),l=JSON.parse(JSON.stringify(e));l.id=o,void 0!==app.globalRequirements&&(app.globalRequirements.splice(t+1,0,l),go.set(o,app.globalRequirements[t+1])),app.globalRequirements.length>3&&(s().setOptions({count:x()}),jl(s(),i($),t+1))}function k(){let e=F(0,4);void 0===app.globalRequirements&&(app.globalRequirements=[]);let t=app.globalRequirements.length;app.globalRequirements.push({id:e,name:`Requirement ${t+1}`,requireds:[]}),go.set(e,app.globalRequirements[t]),app.globalRequirements.length>3&&(s().setOptions({count:x()}),jl(s(),i($),app.globalRequirements.length-1))}function O(e,t){void 0!==app.globalRequirements&&(app.globalRequirements.splice(t,1),go.delete(e),app.globalRequirements.length>3&&s().setOptions({count:x()}))}function F(e,t){let o="Req-",i="abcdefghijklmnopqrstuvwxyz0123456789";for(var l=0;l<t;l++)o+=i.charAt(Math.floor(36*Math.random()));return go.has(o)?e>2?F(0,++t):F(++e,t):o}function R(e){void 0!==app.globalRequirements&&e<app.globalRequirements.length-1&&app.globalRequirements.splice(e,2,app.globalRequirements[e+1],app.globalRequirements[e])}function A(e){void 0!==app.globalRequirements&&e>0&&app.globalRequirements.splice(e-1,2,app.globalRequirements[e],app.globalRequirements[e-1])}p(()=>{c($,document.getElementById("dialog--global-req"),!0),s().setOptions({getScrollElement:()=>i($),estimateSize:()=>232,measureElement:e=>Math.max(e.getBoundingClientRect().height,232)})});var j=oh(),P=D(j);const q=Q(()=>"none"===i(m)?"close":"");se(P,{get escapeKeyAction(){return i(q)},surface$style:"width: 800px; max-width: calc(100vw - 32px);",get onSMUIDialogClosed(){return r.onclose},get open(){return d()},set open(e){d(e)},children:(e,t)=>{var o=th(),l=D(o);de(l,{class:"dialog-title",tabindex:0,autofocus:!0,children:(e,t)=>{var o=le("Global Requirements");u(e,o)},$$slots:{default:!0}});var r=X(l,2);ce(r,{id:"dialog--global-req",class:"pb-2",children:(e,t)=>{var o=M(),l=D(o),r=e=>{var t=Jv();Ee(t,21,()=>i(C),e=>e.index,(e,t)=>{var o=_v(),l=v(o),r=e=>{var o=Ev(),l=v(o),r=v(l);Dt(r,{text:"Move Up",children:(e,o)=>{Ye(e,{class:"mdi mdi-chevron-up",onclick:()=>A(i(t).index)})},$$slots:{default:!0}});var a=X(r,2);Dt(a,{text:"Delete Global Requirement",children:(e,o)=>{Ye(e,{class:"mdi mdi-delete-forever",onclick:()=>O(app.globalRequirements[i(t).index].id,i(t).index)})},$$slots:{default:!0}});var n=X(a,2);Dt(n,{text:"Add Requirement",children:(e,o)=>{Ye(e,{class:"mdi mdi-key-plus",onclick:()=>{c(m,"appRequirement"),c(f,app.globalRequirements[i(t).index],!0)}})},$$slots:{default:!0}});var s=X(n,2);Dt(s,{text:"Clone Global Requirement",children:(e,o)=>{Ye(e,{class:"mdi mdi mdi-content-copy",onclick:()=>S(app.globalRequirements[i(t).index],i(t).index)})},$$slots:{default:!0}});var d=X(s,2);Dt(d,{text:"Move Down",children:(e,o)=>{Ye(e,{class:"mdi mdi-chevron-down",onclick:()=>R(i(t).index)})},$$slots:{default:!0}});var g=X(l,2),h=v(g);Jl(v(h),{onfocus:()=>I=app.globalRequirements[i(t).index].id,onchange:()=>B(app.globalRequirements[i(t).index]),label:"Id",variant:"filled",get value(){return app.globalRequirements[i(t).index].id},set value(e){app.globalRequirements[i(t).index].id=e}});var p=X(h,2);Jl(v(p),{label:"Name",variant:"filled",get value(){return app.globalRequirements[i(t).index].name},set value(e){app.globalRequirements[i(t).index].name=e}});var x=X(g,2),$=v(x),T=v($),y=e=>{ut(e,{children:(e,o)=>{gt(e,{variant:"unelevated",children:(e,o)=>{var l=Gv(),r=D(l);vt(r,{class:"p-0",children:(e,o)=>{var l=le();b(()=>re(l,`Requirements: ${app.globalRequirements[i(t).index].requireds.length??""}`)),u(e,l)},$$slots:{default:!0}});var a=X(r,2);Re(a,{children:(e,o)=>{var l=Uv();Ee(l,21,()=>app.globalRequirements[i(t).index].requireds,He,(e,o,l)=>{var r=zv(),a=v(r);Fd(a,{get required(){return i(o)},isEditModeOn:!0});var n=X(a,2);ue(n,{onclick:()=>app.globalRequirements[i(t).index].requireds.splice(l,1),class:"mt-1",variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Delete");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}}),b(()=>w(r,1,(i(o).requireds.length>0?"col-12":"col-sm-6 col-12")+" p-2")),u(e,r)}),u(e,l)},$$slots:{default:!0}}),u(e,l)},$$slots:{default:!0}})},$$slots:{default:!0}})};Y(T,e=>{app.globalRequirements[i(t).index].requireds.length>0&&e(y)}),u(e,o)},a=(e,o)=>{var l=e=>{var t=Hv();v(t).__click=k,u(e,t)};Y(e,e=>{i(t).index===app.globalRequirements.length&&e(l)},o)};Y(l,e=>{app.globalRequirements&&app.globalRequirements[i(t).index]?e(r):e(a,!1)}),W(o,(e,t)=>function(e){const t=new ResizeObserver(()=>{s().measureElement(e)});return t.observe(e),{destroy(){t.disconnect()}}}?.(e),()=>i(t).index),b(()=>{xe(o,"data-index",i(t).index),we(o,`position: absolute; top: ${i(t).start??""}px; width: 100%;`)}),u(e,o)}),b(()=>we(t,`position: relative; height: ${i(y)??""}px; width: 100%;`)),u(e,t)},a=(e,t)=>{var o=e=>{var t=Qv(),o=v(t);Ee(o,17,()=>app.globalRequirements,He,(e,t,o)=>{var l=Kv(),r=v(l),a=v(r);Dt(a,{text:"Move Up",children:(e,t)=>{Ye(e,{class:"mdi mdi-chevron-up",onclick:()=>A(o)})},$$slots:{default:!0}});var n=X(a,2);Dt(n,{text:"Delete Global Requirement",children:(e,l)=>{Ye(e,{class:"mdi mdi-delete-forever",onclick:()=>O(i(t).id,o)})},$$slots:{default:!0}});var s=X(n,2);Dt(s,{text:"Add Requirement",children:(e,o)=>{Ye(e,{class:"mdi mdi-key-plus",onclick:()=>{c(m,"appRequirement"),c(f,i(t),!0)}})},$$slots:{default:!0}});var d=X(s,2);Dt(d,{text:"Clone Global Requirement",children:(e,l)=>{Ye(e,{class:"mdi mdi mdi-content-copy",onclick:()=>S(i(t),o)})},$$slots:{default:!0}});var g=X(d,2);Dt(g,{text:"Move Down",children:(e,t)=>{Ye(e,{class:"mdi mdi-chevron-down",onclick:()=>R(o)})},$$slots:{default:!0}});var h=X(r,2),p=v(h);Jl(v(p),{onfocus:()=>I=i(t).id,onchange:()=>B(i(t)),label:"Id",variant:"filled",get value(){return i(t).id},set value(e){i(t).id=e}});var x=X(p,2);Jl(v(x),{label:"Name",variant:"filled",get value(){return i(t).name},set value(e){i(t).name=e}});var $=X(h,2),T=v($),y=v(T),C=e=>{ut(e,{children:(e,o)=>{gt(e,{variant:"unelevated",children:(e,o)=>{var l=Zv(),r=D(l);vt(r,{class:"p-0",children:(e,o)=>{var l=le();b(()=>re(l,`Requirements: ${i(t).requireds.length??""}`)),u(e,l)},$$slots:{default:!0}});var a=X(r,2);Re(a,{children:(e,o)=>{var l=Xv();Ee(l,21,()=>i(t).requireds,He,(e,o,l)=>{var r=Yv(),a=v(r);Fd(a,{get required(){return i(o)},isEditModeOn:!0});var n=X(a,2);ue(n,{onclick:()=>i(t).requireds.splice(l,1),class:"mt-1",variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Delete");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}}),b(()=>w(r,1,(i(o).requireds.length>0?"col-12":"col-sm-6 col-12")+" p-2")),u(e,r)}),u(e,l)},$$slots:{default:!0}}),u(e,l)},$$slots:{default:!0}})},$$slots:{default:!0}})};Y(y,e=>{i(t).requireds.length>0&&e(C)}),u(e,l)});var l=X(o,2);v(l).__click=k,u(e,t)};Y(e,e=>{app.globalRequirements&&e(o)},t)};Y(l,e=>{app.globalRequirements&&app.globalRequirements.length>3?e(r):e(a,!1)}),u(e,o)},$$slots:{default:!0}});var a=X(r,2);ve(a,{children:(e,t)=>{var o=eh(),i=v(o),l=v(i),r=v(l);ue(r,{action:"",onclick:k,children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Create New Global Requirement");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var a=X(l,2),n=v(a);ue(n,{action:"close",children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Close");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}});var L=X(P,2),V=e=>{const t=Q(()=>"appRequirement"===i(m));Nv(e,{get open(){return i(t)},onclose:()=>c(m,"none"),get data(){return i(f)}})};Y(L,e=>{"appRequirement"===i(m)&&void 0!==i(f)&&e(V)}),u(o,j),g(),n()}he(["click"]);var lh=n('<div class="col-12 d-column justify-space-between pt-3"><p class="mb-3"> </p> <!></div>'),rh=n('<div class="col-sm-6 col-12 d-column justify-space-between py-2"><p class="mb-3"> </p> <!></div>'),ah=n('<div class="row p-2"></div>'),nh=n("<!> <!> <!>",1),sh=n("<!> <!>",1);function dh(o,r){let a=h(r,"open",7);const n=[{action:()=>{c(s,"appPoints")},name:"Manage Points",text:"Point systems can be created and used to handle the player's ability to buy things and to keep a record of selected choices in a group or row."},{action:()=>{c(s,"appVariables")},name:"Manage Variables",text:"Variables can currently only be used by adding them to buttons, which in turn can activate and deactivate them, and the variable-id can be used in requirements."},{action:()=>{c(s,"appGroups")},name:"Manage Groups",text:"Rows and objects can be added into groups, and rows that show the selected choices can then use a group to decide which choices to show."},{action:()=>{c(s,"appBackpack")},name:"Manage Backpack and Choice Import",text:"The backpack is where rows can show which choices have been selected can be placed, and the import is where selected choices can be imported."},{action:()=>{c(s,"appDefaults")},name:"Manage Defaults",text:"In defaults, you can write in default text that you want the choices and rows to be filled with when created."},{action:()=>{c(s,"appTemplates")},name:"Style Template",text:"In styles, you can find the premade design-templates, that either can be used as-is or to create a new design from."},{action:()=>{c(s,"appWords")},name:"Words",text:"Words can be changed when a choice is presssed, or in textfields by the player, and be placed around in the text."},{action:()=>{c(s,"appSymbols")},name:"Symbols and Image Compression",text:"Symbols will show off some of the alt-codes that can be used in your project where you can place text. This is also where you can compress all the images in your project."},{action:()=>{c(s,"appIdSearch")},name:"ID / Name List",text:"Will show you a list of ID's and the names of the choices they belong to."},{action:()=>{c(s,"appDesignGroups")},name:"Manage Design Groups",text:"In Design Groups, you can manage Private Styling in a granular way."},{action:()=>{c(s,"appGlobalRequirements")},name:"Manage Global Requirements",text:"In Global Requirements, You can define requirements that are common to multiple choices."}];let s=l("none");var d=sh(),m=D(d);const f=Q(()=>"none"===i(s)?"close":"");se(m,{get escapeKeyAction(){return i(f)},surface$style:"width: 1200px; max-width: calc(100vw - 32px);",get onSMUIDialogClosed(){return r.onclose},get open(){return a()},set open(e){a(e)},children:(e,t)=>{var o=nh(),i=D(o);de(i,{class:"text-left dialog-title",tabindex:0,autofocus:!0,children:(e,t)=>{var o=le("Features");u(e,o)},$$slots:{default:!0}});var l=X(i,2);ce(l,{children:(e,t)=>{var o=ah();Ee(o,21,()=>n,He,(e,t,o)=>{var i=M(),l=D(i),r=e=>{var t=lh(),i=v(t),l=v(i),r=X(i,2);ue(r,{get onclick(){return n[o].action},variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var i=le();b(()=>re(i,n[o].name)),u(e,i)},$$slots:{default:!0}})},$$slots:{default:!0}}),b(()=>re(l,n[o].text)),u(e,t)},a=e=>{var t=rh(),i=v(t),l=v(i),r=X(i,2);ue(r,{get onclick(){return n[o].action},variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var i=le();b(()=>re(i,n[o].name)),u(e,i)},$$slots:{default:!0}})},$$slots:{default:!0}}),b(()=>re(l,n[o].text)),u(e,t)};Y(l,e=>{10===o?e(r):e(a,!1)}),u(e,i)}),u(e,o)},$$slots:{default:!0}});var r=X(l,2);ve(r,{children:(e,t)=>{ue(e,{action:"close",children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Close");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}});var w=X(m,2),I=e=>{const t=Q(()=>"appPoints"===i(s));cs(e,{get open(){return i(t)},onclose:()=>c(s,"none")})},x=(o,r)=>{var a=e=>{const t=Q(()=>"appVariables"===i(s));ws(e,{get open(){return i(t)},onclose:()=>c(s,"none")})},n=(o,r)=>{var a=e=>{const t=Q(()=>"appGroups"===i(s));zs(e,{get open(){return i(t)},onclose:()=>c(s,"none")})},n=(o,r)=>{var a=e=>{const t=Q(()=>"appBackpack"===i(s));Eg(e,{get open(){return i(t)},onclose:()=>c(s,"none")})},n=(o,r)=>{var a=e=>{const o=Q(()=>"appTemplates"===i(s));!function(e,o){t(o,!0);let i=h(o,"open",7);const l=[{rowTitle:"Courier",rowText:"Georgia",objectTitle:"Courier",objectText:"Georgia",addonTitle:"Courier",addonText:"Georgia",scoreText:"Courier New",rowTitleTextSize:200,rowTextTextSize:100,objectTitleTextSize:200,objectTextTextSize:100,addonTitleTextSize:200,addonTextTextSize:100,scoreTextSize:75,barTextColor:"#000000",barIconColor:"#0000008A",barBackgroundColor:"#9A997BFF",barTextPadding:13,barTextMargin:0,barTextFont:"Courier",barTextSize:21,barPadding:0,barMargin:0,rowTitleColor:"#000000FF",rowTextColor:"#000000FF",objectTitleColor:"#000000FF",objectTextColor:"#000000FF",addonTitleColor:"#000000FF",addonTextColor:"#000000FF",scoreTextColor:"#000000FF",objectHeight:!0,rowTitleAlign:"center",rowTextAlign:"center",objectTitleAlign:"center",objectTextAlign:"center",addonTitleAlign:"center",addonTextAlign:"center",scoreTextAlign:"center",rowButtonXPadding:0,rowButtonYPadding:0,backgroundImage:"",rowBackgroundImage:"",objectBackgroundImage:"",rowBorderImage:"",rowBorderImageRepeat:"stretch",rowBorderImageWidth:5,rowBorderImageSliceTop:5,rowBorderImageSliceBottom:5,rowBorderImageSliceLeft:5,rowBorderImageSliceRight:5,objectBorderImage:"",objectBorderImageRepeat:"stretch",objectBorderImageWidth:5,objectBorderImageSliceTop:5,objectBorderImageSliceBottom:5,objectBorderImageSliceLeft:5,objectBorderImageSliceRight:5,backgroundColor:"#5E645AFF",objectBgColor:"#9A997BFF",rowBgColor:"#9A997BFF",rowBgColorIsOn:!0,objectBgColorIsOn:!0,objectImageWidth:91,rowImageWidth:100,objectImageMarginTop:4,objectImageMarginBottom:3,rowImageMarginTop:0,objectMargin:10,rowMargin:10,rowTextPaddingY:5,rowTextPaddingX:10,objectTextPadding:10,rowBodyMarginTop:25,rowBodyMarginBottom:25,rowBodyMarginSides:1,objectDropShadowH:3,objectDropShadowV:3,objectDropShadowSpread:0,objectDropShadowBlur:3,objectDropShadowColor:"#D64800FF",objectDropShadowIsOn:!0,rowDropShadowH:3,rowDropShadowV:3,rowDropShadowSpread:0,rowDropShadowBlur:3,rowDropShadowColor:"#D64800FF",rowDropShadowIsOn:!0,selFilterBlurIsOn:!1,selFilterBlur:0,selFilterBrightIsOn:!1,selFilterBright:100,selFilterContIsOn:!1,selFilterCont:100,selFilterGrayIsOn:!1,selFilterGray:0,selFilterHueIsOn:!1,selFilterHue:0,selFilterInvertIsOn:!1,selFilterInvert:0,selFilterOpacIsOn:!1,selFilterOpac:100,selFilterSaturIsOn:!1,selFilterSatur:1,selFilterSepiaIsOn:!1,selFilterSepia:0,selBgColorIsOn:!0,selOverlayOnImage:!1,selFilterBgColor:"#70FF7EFF",selBorderColorIsOn:!1,selFilterBorderColor:"#000000FF",selCTitleColorIsOn:!1,selFilterCTitleColor:"#000000FF",selCTextColorIsOn:!1,selFilterCTextColor:"#000000FF",selATitleColorIsOn:!1,selFilterATitleColor:"#000000FF",selATextColorIsOn:!1,selFilterATextColor:"#000000FF",reqFilterBlurIsOn:!1,reqFilterBlur:0,reqFilterBrightIsOn:!1,reqFilterBright:100,reqFilterContIsOn:!1,reqFilterCont:100,reqFilterGrayIsOn:!1,reqFilterGray:0,reqFilterHueIsOn:!1,reqFilterHue:0,reqFilterInvertIsOn:!1,reqFilterInvert:0,reqFilterOpacIsOn:!0,reqFilterOpac:50,reqFilterSaturIsOn:!1,reqFilterSatur:1,reqFilterSepiaIsOn:!1,reqFilterSepia:0,reqBgColorIsOn:!1,reqOverlayOnImage:!1,reqFilterBgColor:"#FFFFFFFF",reqBorderColorIsOn:!1,reqFilterBorderColor:"#000000FF",reqCTitleColorIsOn:!1,reqFilterCTitleColor:"#000000FF",reqCTextColorIsOn:!1,reqFilterCTextColor:"#000000FF",reqATitleColorIsOn:!1,reqFilterATitleColor:"#000000FF",reqATextColorIsOn:!1,reqFilterATextColor:"#000000FF",reqFilterVisibleIsOn:!1,rowBorderRadiusTopLeft:60,rowBorderRadiusTopRight:60,rowBorderRadiusBottomRight:20,rowBorderRadiusBottomLeft:20,rowBorderRadiusIsPixels:!0,rowBorderIsOn:!0,rowBorderColor:"#D64800FF",rowBorderStyle:"double",rowBorderWidth:4,objectBorderRadiusTopLeft:40,objectBorderRadiusTopRight:40,objectBorderRadiusBottomRight:10,objectBorderRadiusBottomLeft:10,objectBorderRadiusIsPixels:!0,objectBorderIsOn:!0,objectBorderColor:"#D64800FF",objectBorderStyle:"double",objectBorderWidth:2,objectImgBorderRadiusTopLeft:10,objectImgBorderRadiusTopRight:10,objectImgBorderRadiusBottomRight:10,objectImgBorderRadiusBottomLeft:10,objectImgBorderRadiusIsPixels:!1,objectImgBorderIsOn:!0,objectImgBorderColor:"#D64800FF",objectImgBorderStyle:"double",objectImgBorderWidth:4,objectImageBoxWidth:50,rowImgBorderRadiusTopLeft:0,rowImgBorderRadiusTopRight:0,rowImgBorderRadiusBottomRight:0,rowImgBorderRadiusBottomLeft:0,rowImgBorderRadiusIsPixels:!0,rowImgBorderIsOn:!1,rowImgBorderColor:"#FFEEDDFF",rowImgBorderStyle:"solid",rowImgBorderWidth:2,rowImageBoxWidth:50,backPackWidth:1200,multiChoiceCounterPosition:0,multiChoiceCounterSize:170},{rowTitle:"Candara",rowText:"Candara",objectTitle:"Candara",objectText:"Candara",addonTitle:"Candara",addonText:"Candara",scoreText:"Candara",rowTitleTextSize:200,rowTextTextSize:100,objectTitleTextSize:200,objectTextTextSize:100,addonTitleTextSize:200,addonTextTextSize:100,scoreTextSize:75,barTextColor:"#000000",barIconColor:"#0000008A",barBackgroundColor:"#9A997BFF",barTextPadding:13,barTextMargin:0,barTextFont:"Courier",barTextSize:21,barPadding:0,barMargin:0,rowTitleColor:"#000000FF",rowTextColor:"#000000FF",objectTitleColor:"#000000FF",objectTextColor:"#000000FF",addonTitleColor:"#000000FF",addonTextColor:"#000000FF",scoreTextColor:"#000000FF",objectHeight:!0,rowTitleAlign:"center",rowTextAlign:"center",objectTitleAlign:"center",objectTextAlign:"justify",addonTitleAlign:"center",addonTextAlign:"justify",scoreTextAlign:"left",rowButtonXPadding:0,rowButtonYPadding:0,backgroundImage:"",rowBackgroundImage:"",objectBackgroundImage:"",rowBorderImage:"",rowBorderImageRepeat:"stretch",rowBorderImageWidth:5,rowBorderImageSliceTop:5,rowBorderImageSliceBottom:5,rowBorderImageSliceLeft:5,rowBorderImageSliceRight:5,objectBorderImage:"",objectBorderImageRepeat:"stretch",objectBorderImageWidth:5,objectBorderImageSliceTop:5,objectBorderImageSliceBottom:5,objectBorderImageSliceLeft:5,objectBorderImageSliceRight:5,backgroundColor:"#1A130EFF",objectBgColor:"#B4A78EFF",rowBgColor:"#B4A78EFF",rowBgColorIsOn:!0,objectBgColorIsOn:!0,objectImageWidth:95,rowImageWidth:100,objectImageMarginTop:3,objectImageMarginBottom:0,rowImageMarginTop:0,objectMargin:10,rowMargin:10,rowTextPaddingY:8,rowTextPaddingX:10,objectTextPadding:10,rowBodyMarginTop:25,rowBodyMarginBottom:25,rowBodyMarginSides:1,objectDropShadowH:3,objectDropShadowV:3,objectDropShadowSpread:0,objectDropShadowBlur:3,objectDropShadowColor:"#DBCDAFFF",objectDropShadowIsOn:!0,rowDropShadowH:3,rowDropShadowV:3,rowDropShadowSpread:0,rowDropShadowBlur:3,rowDropShadowColor:"#DBCDAFFF",rowDropShadowIsOn:!0,selFilterBlurIsOn:!1,selFilterBlur:0,selFilterBrightIsOn:!1,selFilterBright:100,selFilterContIsOn:!1,selFilterCont:100,selFilterGrayIsOn:!1,selFilterGray:0,selFilterHueIsOn:!1,selFilterHue:0,selFilterInvertIsOn:!1,selFilterInvert:0,selFilterOpacIsOn:!1,selFilterOpac:100,selFilterSaturIsOn:!1,selFilterSatur:1,selFilterSepiaIsOn:!1,selFilterSepia:0,selBgColorIsOn:!0,selOverlayOnImage:!1,selFilterBgColor:"#6B594698",selBorderColorIsOn:!1,selFilterBorderColor:"#000000FF",selCTitleColorIsOn:!1,selFilterCTitleColor:"#000000FF",selCTextColorIsOn:!1,selFilterCTextColor:"#000000FF",selATitleColorIsOn:!1,selFilterATitleColor:"#000000FF",selATextColorIsOn:!1,selFilterATextColor:"#000000FF",reqFilterBlurIsOn:!0,reqFilterBlur:3,reqFilterBrightIsOn:!1,reqFilterBright:100,reqFilterContIsOn:!1,reqFilterCont:100,reqFilterGrayIsOn:!1,reqFilterGray:0,reqFilterHueIsOn:!1,reqFilterHue:0,reqFilterInvertIsOn:!1,reqFilterInvert:0,reqFilterOpacIsOn:!0,reqFilterOpac:50,reqFilterSaturIsOn:!1,reqFilterSatur:1,reqFilterSepiaIsOn:!1,reqFilterSepia:0,reqBgColorIsOn:!1,reqOverlayOnImage:!1,reqFilterBgColor:"#FFFFFFFF",reqBorderColorIsOn:!1,reqFilterBorderColor:"#000000FF",reqCTitleColorIsOn:!1,reqFilterCTitleColor:"#000000FF",reqCTextColorIsOn:!1,reqFilterCTextColor:"#000000FF",reqATitleColorIsOn:!1,reqFilterATitleColor:"#000000FF",reqATextColorIsOn:!1,reqFilterATextColor:"#000000FF",reqFilterVisibleIsOn:!1,rowBorderRadiusTopLeft:110,rowBorderRadiusTopRight:110,rowBorderRadiusBottomRight:0,rowBorderRadiusBottomLeft:0,rowBorderRadiusIsPixels:!0,rowBorderIsOn:!0,rowBorderColor:"#988267FF",rowBorderStyle:"double",rowBorderWidth:4,objectBorderRadiusTopLeft:40,objectBorderRadiusTopRight:40,objectBorderRadiusBottomRight:10,objectBorderRadiusBottomLeft:10,objectBorderRadiusIsPixels:!0,objectBorderIsOn:!0,objectBorderColor:"#988267FF",objectBorderStyle:"double",objectBorderWidth:2,objectImgBorderRadiusTopLeft:100,objectImgBorderRadiusTopRight:100,objectImgBorderRadiusBottomRight:100,objectImgBorderRadiusBottomLeft:100,objectImgBorderRadiusIsPixels:!1,objectImgBorderIsOn:!0,objectImgBorderColor:"#1A130EFF",objectImgBorderStyle:"dotted",objectImgBorderWidth:4,objectImageBoxWidth:50,rowImgBorderRadiusTopLeft:0,rowImgBorderRadiusTopRight:0,rowImgBorderRadiusBottomRight:0,rowImgBorderRadiusBottomLeft:0,rowImgBorderRadiusIsPixels:!0,rowImgBorderIsOn:!1,rowImgBorderColor:"#FFEEDDFF",rowImgBorderStyle:"solid",rowImgBorderWidth:2,rowImageBoxWidth:50,backPackWidth:1200,objectImgOverflowIsOn:!1,rowOverflowIsOn:!0,multiChoiceCounterPosition:0,multiChoiceCounterSize:170},{rowTitle:"Candara",rowText:"Candara",objectTitle:"Candara",objectText:"Candara",addonTitle:"Candara",addonText:"Candara",scoreText:"Candara",rowTitleTextSize:200,rowTextTextSize:100,objectTitleTextSize:200,objectTextTextSize:100,addonTitleTextSize:200,addonTextTextSize:100,scoreTextSize:75,barTextColor:"#000000",barIconColor:"#0000008A",barBackgroundColor:"#9A997BFF",barTextPadding:13,barTextMargin:0,barTextFont:"Courier",barTextSize:21,barPadding:0,barMargin:0,rowTitleColor:"#4F0A0AFF",rowTextColor:"#4F0A0AFF",objectTitleColor:"#4F0A0AFF",objectTextColor:"#4F0A0AFF",addonTitleColor:"#4F0A0AFF",addonTextColor:"#4F0A0AFF",scoreTextColor:"#4F0A0AFF",objectHeight:!0,rowTitleAlign:"center",rowTextAlign:"center",objectTitleAlign:"center",objectTextAlign:"justify",addonTitleAlign:"center",addonTextAlign:"justify",scoreTextAlign:"left",rowButtonXPadding:0,rowButtonYPadding:0,backgroundImage:"",rowBackgroundImage:"",objectBackgroundImage:"",rowBorderImage:"",rowBorderImageRepeat:"stretch",rowBorderImageWidth:5,rowBorderImageSliceTop:5,rowBorderImageSliceBottom:5,rowBorderImageSliceLeft:5,rowBorderImageSliceRight:5,objectBorderImage:"",objectBorderImageRepeat:"stretch",objectBorderImageWidth:5,objectBorderImageSliceTop:5,objectBorderImageSliceBottom:5,objectBorderImageSliceLeft:5,objectBorderImageSliceRight:5,backgroundColor:"#1A0000FF",objectBgColor:"#A2A2A2FF",rowBgColor:"#A2A2A2FF",rowBgColorIsOn:!0,objectBgColorIsOn:!0,objectImageWidth:100,rowImageWidth:100,objectImageMarginTop:0,objectImageMarginBottom:0,rowImageMarginTop:0,objectMargin:29,rowMargin:10,rowTextPaddingY:8,rowTextPaddingX:10,objectTextPadding:13,rowBodyMarginTop:25,rowBodyMarginBottom:25,rowBodyMarginSides:1,objectDropShadowH:4,objectDropShadowV:4,objectDropShadowSpread:0,objectDropShadowBlur:5,objectDropShadowColor:"#760500FF",objectDropShadowIsOn:!0,rowDropShadowH:3,rowDropShadowV:3,rowDropShadowSpread:0,rowDropShadowBlur:3,rowDropShadowColor:"#760500FF",rowDropShadowIsOn:!0,selFilterBlurIsOn:!1,selFilterBlur:0,selFilterBrightIsOn:!1,selFilterBright:37,selFilterContIsOn:!1,selFilterCont:200,selFilterGrayIsOn:!1,selFilterGray:0,selFilterHueIsOn:!1,selFilterHue:153,selFilterInvertIsOn:!1,selFilterInvert:49,selFilterOpacIsOn:!1,selFilterOpac:100,selFilterSaturIsOn:!1,selFilterSatur:1,selFilterSepiaIsOn:!1,selFilterSepia:0,selBgColorIsOn:!0,selOverlayOnImage:!1,selFilterBgColor:"#FFFFFFFF",selBorderColorIsOn:!1,selFilterBorderColor:"#000000FF",selCTitleColorIsOn:!1,selFilterCTitleColor:"#000000FF",selCTextColorIsOn:!1,selFilterCTextColor:"#000000FF",selATitleColorIsOn:!1,selFilterATitleColor:"#000000FF",selATextColorIsOn:!1,selFilterATextColor:"#000000FF",reqFilterBlurIsOn:!0,reqFilterBlur:1,reqFilterBrightIsOn:!1,reqFilterBright:100,reqFilterContIsOn:!1,reqFilterCont:100,reqFilterGrayIsOn:!1,reqFilterGray:0,reqFilterHueIsOn:!1,reqFilterHue:0,reqFilterInvertIsOn:!1,reqFilterInvert:0,reqFilterOpacIsOn:!0,reqFilterOpac:20,reqFilterSaturIsOn:!0,reqFilterSatur:10,reqFilterSepiaIsOn:!1,reqFilterSepia:0,reqBgColorIsOn:!0,reqOverlayOnImage:!1,reqFilterBgColor:"#F99090FF",reqBorderColorIsOn:!1,reqFilterBorderColor:"#000000FF",reqCTitleColorIsOn:!1,reqFilterCTitleColor:"#000000FF",reqCTextColorIsOn:!1,reqFilterCTextColor:"#000000FF",reqATitleColorIsOn:!1,reqFilterATitleColor:"#000000FF",reqATextColorIsOn:!1,reqFilterATextColor:"#000000FF",reqFilterVisibleIsOn:!1,rowBorderRadiusTopLeft:30,rowBorderRadiusTopRight:0,rowBorderRadiusBottomRight:0,rowBorderRadiusBottomLeft:0,rowBorderRadiusIsPixels:!0,rowBorderIsOn:!0,rowBorderColor:"#760500FF",rowBorderStyle:"ridge",rowBorderWidth:4,objectBorderRadiusTopLeft:0,objectBorderRadiusTopRight:0,objectBorderRadiusBottomRight:0,objectBorderRadiusBottomLeft:20,objectBorderRadiusIsPixels:!0,objectBorderIsOn:!0,objectBorderColor:"#760500FF",objectBorderStyle:"inset",objectBorderWidth:5,objectImgBorderRadiusTopLeft:0,objectImgBorderRadiusTopRight:0,objectImgBorderRadiusBottomRight:30,objectImgBorderRadiusBottomLeft:30,objectImgBorderRadiusIsPixels:!1,objectImgBorderIsOn:!0,objectImgBorderColor:"#760500FF",objectImgBorderStyle:"inset",objectImgBorderWidth:5,objectImageBoxWidth:50,rowImgBorderRadiusTopLeft:0,rowImgBorderRadiusTopRight:0,rowImgBorderRadiusBottomRight:0,rowImgBorderRadiusBottomLeft:0,rowImgBorderRadiusIsPixels:!0,rowImgBorderIsOn:!1,rowImgBorderColor:"#FFEEDDFF",rowImgBorderStyle:"solid",rowImgBorderWidth:2,rowImageBoxWidth:50,backPackWidth:1200,objectImgOverflowIsOn:!1,rowOverflowIsOn:!0,multiChoiceCounterPosition:0,multiChoiceCounterSize:170},{rowTitle:"Cambria",rowText:"Helvetica",objectTitle:"Cambria",objectText:"Helvetica",addonTitle:"Cambria",addonText:"Helvetica",scoreText:"Cambria",rowTitleTextSize:200,rowTextTextSize:100,objectTitleTextSize:200,objectTextTextSize:100,addonTitleTextSize:200,addonTextTextSize:100,scoreTextSize:75,barTextColor:"#979797",barIconColor:"#0000008A",barBackgroundColor:"#535353FF",barTextPadding:5,barTextMargin:0,barTextFont:"Cambria",barTextSize:29,barPadding:0,barMargin:0,rowTitleColor:"#000000FF",rowTextColor:"#000000FF",objectTitleColor:"#000000FF",objectTextColor:"#000000FF",addonTitleColor:"#000000FF",addonTextColor:"#000000FF",scoreTextColor:"#000000FF",objectHeight:!0,rowTitleAlign:"center",rowTextAlign:"center",objectTitleAlign:"center",objectTextAlign:"center",addonTitleAlign:"center",addonTextAlign:"center",scoreTextAlign:"center",rowButtonXPadding:0,rowButtonYPadding:0,backgroundImage:"",rowBackgroundImage:"",objectBackgroundImage:"",rowBorderImage:"",rowBorderImageRepeat:"stretch",rowBorderImageWidth:5,rowBorderImageSliceTop:5,rowBorderImageSliceBottom:5,rowBorderImageSliceLeft:5,rowBorderImageSliceRight:5,objectBorderImage:"",objectBorderImageRepeat:"stretch",objectBorderImageWidth:5,objectBorderImageSliceTop:5,objectBorderImageSliceBottom:5,objectBorderImageSliceLeft:5,objectBorderImageSliceRight:5,backgroundColor:"#090909FF",objectBgColor:"#E5E5E5FF",rowBgColor:"#E5E5E5FF",rowBgColorIsOn:!0,objectBgColorIsOn:!0,objectImageWidth:97,rowImageWidth:100,objectImageMarginTop:1,objectImageMarginBottom:"-11",rowImageMarginTop:0,objectMargin:5,rowMargin:10,rowTextPaddingY:15,rowTextPaddingX:15,objectTextPadding:14,rowBodyMarginTop:25,rowBodyMarginBottom:25,rowBodyMarginSides:1,objectDropShadowH:9,objectDropShadowV:3,objectDropShadowSpread:0,objectDropShadowBlur:3,objectDropShadowColor:"#535353FF",objectDropShadowIsOn:!0,rowDropShadowH:3,rowDropShadowV:3,rowDropShadowSpread:0,rowDropShadowBlur:3,rowDropShadowColor:"#535353FF",rowDropShadowIsOn:!0,selFilterBlurIsOn:!1,selFilterBlur:0,selFilterBrightIsOn:!1,selFilterBright:100,selFilterContIsOn:!1,selFilterCont:100,selFilterGrayIsOn:!1,selFilterGray:0,selFilterHueIsOn:!1,selFilterHue:0,selFilterInvertIsOn:!1,selFilterInvert:0,selFilterOpacIsOn:!1,selFilterOpac:100,selFilterSaturIsOn:!1,selFilterSatur:1,selFilterSepiaIsOn:!1,selFilterSepia:0,selBgColorIsOn:!0,selOverlayOnImage:!1,selFilterBgColor:"#70FF7EFF",selBorderColorIsOn:!1,selFilterBorderColor:"#000000FF",selCTitleColorIsOn:!1,selFilterCTitleColor:"#000000FF",selCTextColorIsOn:!1,selFilterCTextColor:"#000000FF",selATitleColorIsOn:!1,selFilterATitleColor:"#000000FF",selATextColorIsOn:!1,selFilterATextColor:"#000000FF",reqFilterBlurIsOn:!1,reqFilterBlur:0,reqFilterBrightIsOn:!1,reqFilterBright:100,reqFilterContIsOn:!1,reqFilterCont:100,reqFilterGrayIsOn:!1,reqFilterGray:0,reqFilterHueIsOn:!1,reqFilterHue:0,reqFilterInvertIsOn:!1,reqFilterInvert:0,reqFilterOpacIsOn:!0,reqFilterOpac:50,reqFilterSaturIsOn:!1,reqFilterSatur:1,reqFilterSepiaIsOn:!1,reqFilterSepia:0,reqBgColorIsOn:!1,reqOverlayOnImage:!1,reqFilterBgColor:"#FFFFFFFF",reqBorderColorIsOn:!1,reqFilterBorderColor:"#000000FF",reqCTitleColorIsOn:!1,reqFilterCTitleColor:"#000000FF",reqCTextColorIsOn:!1,reqFilterCTextColor:"#000000FF",reqATitleColorIsOn:!1,reqFilterATitleColor:"#000000FF",reqATextColorIsOn:!1,reqFilterATextColor:"#000000FF",reqFilterVisibleIsOn:!1,rowBorderRadiusTopLeft:60,rowBorderRadiusTopRight:60,rowBorderRadiusBottomRight:20,rowBorderRadiusBottomLeft:20,rowBorderRadiusIsPixels:!0,rowBorderIsOn:!0,rowBorderColor:"#000000FF",rowBorderStyle:"dotted",rowBorderWidth:2,objectBorderRadiusTopLeft:140,objectBorderRadiusTopRight:140,objectBorderRadiusBottomRight:60,objectBorderRadiusBottomLeft:60,objectBorderRadiusIsPixels:!0,objectBorderIsOn:!0,objectBorderColor:"#000000FF",objectBorderStyle:"dotted",objectBorderWidth:2,objectImgBorderRadiusTopLeft:140,objectImgBorderRadiusTopRight:140,objectImgBorderRadiusBottomRight:0,objectImgBorderRadiusBottomLeft:10,objectImgBorderRadiusIsPixels:!0,objectImgBorderIsOn:!0,objectImgBorderColor:"#000000FF",objectImgBorderStyle:"double",objectImgBorderWidth:4,objectImageBoxWidth:50,rowImgBorderRadiusTopLeft:0,rowImgBorderRadiusTopRight:0,rowImgBorderRadiusBottomRight:0,rowImgBorderRadiusBottomLeft:0,rowImgBorderRadiusIsPixels:!0,rowImgBorderIsOn:!1,rowImgBorderColor:"#FFEEDDFF",rowImgBorderStyle:"solid",rowImgBorderWidth:2,rowImageBoxWidth:50,backPackWidth:1200,multiChoiceCounterPosition:0,multiChoiceCounterSize:170},{rowTitle:"Times New Roman",rowText:"Candara",objectTitle:"Times New Roman",objectText:"Candara",addonTitle:"Times New Roman",addonText:"Candara",scoreText:"Times New Roman",rowTitleTextSize:270,rowTextTextSize:100,objectTitleTextSize:200,objectTextTextSize:100,addonTitleTextSize:200,addonTextTextSize:100,scoreTextSize:75,barTextColor:"#000000",barIconColor:"#0000008A",barBackgroundColor:"#FFD7C0FF",barTextPadding:16,barTextMargin:0,barTextFont:"Roboto",barTextSize:16,barPadding:0,barMargin:0,rowTitleColor:"#000000FF",rowTextColor:"#000000FF",objectTitleColor:"#000000FF",objectTextColor:"#000000FF",addonTitleColor:"#000000FF",addonTextColor:"#000000FF",scoreTextColor:"#000000FF",objectHeight:!0,rowTitleAlign:"center",rowTextAlign:"center",objectTitleAlign:"center",objectTextAlign:"justify",addonTitleAlign:"justify",addonTextAlign:"center",scoreTextAlign:"center",rowButtonXPadding:0,rowButtonYPadding:0,backgroundImage:"",rowBackgroundImage:"",objectBackgroundImage:"",rowBorderImage:"",rowBorderImageRepeat:"stretch",rowBorderImageWidth:5,rowBorderImageSliceTop:5,rowBorderImageSliceBottom:5,rowBorderImageSliceLeft:5,rowBorderImageSliceRight:5,objectBorderImage:"",objectBorderImageRepeat:"stretch",objectBorderImageWidth:5,objectBorderImageSliceTop:5,objectBorderImageSliceBottom:5,objectBorderImageSliceLeft:5,objectBorderImageSliceRight:5,backgroundColor:"#18C10FFF",objectBgColor:"#F78F49FF",rowBgColor:"#F78F49FF",rowBgColorIsOn:!0,objectBgColorIsOn:!0,objectImageWidth:98,rowImageWidth:100,objectImageMarginTop:1,objectImageMarginBottom:2,rowImageMarginTop:0,objectMargin:10,rowMargin:12,rowTextPaddingY:15,rowTextPaddingX:5,objectTextPadding:10,rowBodyMarginTop:20,rowBodyMarginBottom:10,rowBodyMarginSides:1,objectDropShadowH:2,objectDropShadowV:2,objectDropShadowSpread:3,objectDropShadowBlur:2,objectDropShadowColor:"#FFD7C0FF",objectDropShadowIsOn:!0,rowDropShadowH:2,rowDropShadowV:2,rowDropShadowSpread:2,rowDropShadowBlur:2,rowDropShadowColor:"#FFD7C0FF",rowDropShadowIsOn:!0,selFilterBlurIsOn:!1,selFilterBlur:0,selFilterBrightIsOn:!1,selFilterBright:100,selFilterContIsOn:!1,selFilterCont:100,selFilterGrayIsOn:!1,selFilterGray:0,selFilterHueIsOn:!1,selFilterHue:0,selFilterInvertIsOn:!1,selFilterInvert:0,selFilterOpacIsOn:!1,selFilterOpac:100,selFilterSaturIsOn:!1,selFilterSatur:1,selFilterSepiaIsOn:!1,selFilterSepia:0,selBgColorIsOn:!0,selOverlayOnImage:!1,selFilterBgColor:"#FBED37FF",selBorderColorIsOn:!1,selFilterBorderColor:"#000000FF",selCTitleColorIsOn:!1,selFilterCTitleColor:"#000000FF",selCTextColorIsOn:!1,selFilterCTextColor:"#000000FF",selATitleColorIsOn:!1,selFilterATitleColor:"#000000FF",selATextColorIsOn:!1,selFilterATextColor:"#000000FF",reqFilterBlurIsOn:!0,reqFilterBlur:1,reqFilterBrightIsOn:!1,reqFilterBright:100,reqFilterContIsOn:!1,reqFilterCont:100,reqFilterGrayIsOn:!0,reqFilterGray:75,reqFilterHueIsOn:!1,reqFilterHue:0,reqFilterInvertIsOn:!1,reqFilterInvert:0,reqFilterOpacIsOn:!0,reqFilterOpac:65,reqFilterSaturIsOn:!1,reqFilterSatur:1,reqFilterSepiaIsOn:!1,reqFilterSepia:0,reqBgColorIsOn:!0,reqOverlayOnImage:!1,reqFilterBgColor:"#FFD7C0FF",reqBorderColorIsOn:!1,reqFilterBorderColor:"#000000FF",reqCTitleColorIsOn:!1,reqFilterCTitleColor:"#000000FF",reqCTextColorIsOn:!1,reqFilterCTextColor:"#000000FF",reqATitleColorIsOn:!1,reqFilterATitleColor:"#000000FF",reqATextColorIsOn:!1,reqFilterATextColor:"#000000FF",reqFilterVisibleIsOn:!1,rowBorderRadiusTopLeft:20,rowBorderRadiusTopRight:20,rowBorderRadiusBottomRight:20,rowBorderRadiusBottomLeft:20,rowBorderRadiusIsPixels:!0,rowOverflowIsOn:!0,rowBorderIsOn:!0,rowBorderColor:"#F99ED4FF",rowBorderStyle:"solid",rowBorderWidth:2,objectBorderRadiusTopLeft:30,objectBorderRadiusTopRight:30,objectBorderRadiusBottomRight:0,objectBorderRadiusBottomLeft:0,objectBorderRadiusIsPixels:!0,objectOverflowIsOn:!0,objectBorderIsOn:!0,objectBorderColor:"#F99ED4FF",objectBorderStyle:"solid",objectBorderWidth:2,objectImgBorderRadiusTopLeft:30,objectImgBorderRadiusTopRight:30,objectImgBorderRadiusBottomRight:10,objectImgBorderRadiusBottomLeft:1,objectImgBorderRadiusIsPixels:!0,objectImgBorderIsOn:!0,objectImgBorderColor:"#F99ED4FF",objectImgBorderStyle:"ridge",objectImgBorderWidth:2,objectImageBoxWidth:50,rowImgBorderRadiusTopLeft:0,rowImgBorderRadiusTopRight:0,rowImgBorderRadiusBottomRight:0,rowImgBorderRadiusBottomLeft:0,rowImgBorderRadiusIsPixels:!0,rowImgBorderIsOn:!1,rowImgBorderColor:"red",rowImgBorderStyle:"solid",rowImgBorderWidth:2,rowImageBoxWidth:50,backPackWidth:1600,objectDesignIsAdvanced:!0,rowDesignIsAdvanced:!0,objectImgOverflowIsOn:!0,multiChoiceTextSize:200,multiChoiceTextFont:"Candara",multiChoiceCounterPosition:0,multiChoiceCounterSize:170},{rowTitle:"Trebuchet MS",rowText:"Candara",objectTitle:"Trebuchet MS",objectText:"Candara",addonTitle:"Trebuchet MS",addonText:"Candara",scoreText:"Times New Roman",rowTitleTextSize:200,rowTextTextSize:100,objectTitleTextSize:175,objectTextTextSize:100,addonTitleTextSize:200,addonTextTextSize:100,scoreTextSize:75,barTextColor:"#CC9900",barIconColor:"#0000008A",barBackgroundColor:"#333333FF",barTextPadding:16,barTextMargin:0,barTextFont:"Roboto",barTextSize:16,barPadding:0,barMargin:0,rowTitleColor:"#000000FF",rowTextColor:"#000000FF",objectTitleColor:"#000000FF",objectTextColor:"#000000FF",addonTitleColor:"#000000FF",addonTextColor:"#000000FF",scoreTextColor:"#000000FF",objectHeight:!0,rowTitleAlign:"center",rowTextAlign:"justify",objectTitleAlign:"center",objectTextAlign:"justify",addonTitleAlign:"center",addonTextAlign:"justify",scoreTextAlign:"center",rowButtonXPadding:0,rowButtonYPadding:0,backgroundImage:"",rowBackgroundImage:"",objectBackgroundImage:"",rowBorderImage:"",rowBorderImageRepeat:"stretch",rowBorderImageWidth:5,rowBorderImageSliceTop:5,rowBorderImageSliceBottom:5,rowBorderImageSliceLeft:5,rowBorderImageSliceRight:5,objectBorderImage:"",objectBorderImageRepeat:"stretch",objectBorderImageWidth:5,objectBorderImageSliceTop:5,objectBorderImageSliceBottom:5,objectBorderImageSliceLeft:5,objectBorderImageSliceRight:5,backgroundColor:"#B8860BFF",objectBgColor:"#D9B01CFF",rowBgColor:"#D9B01CFF",rowBgColorIsOn:!0,objectBgColorIsOn:!0,objectImageWidth:96,rowImageWidth:96,objectImageMarginTop:2,objectImageMarginBottom:2,rowImageMarginTop:2,objectMargin:10,rowMargin:12,rowTextPaddingY:15,rowTextPaddingX:5,objectTextPadding:10,rowBodyMarginTop:20,rowBodyMarginBottom:10,rowBodyMarginSides:1,objectDropShadowH:2,objectDropShadowV:2,objectDropShadowSpread:4,objectDropShadowBlur:3,objectDropShadowColor:"#090909FF",objectDropShadowIsOn:!0,rowDropShadowH:2,rowDropShadowV:2,rowDropShadowSpread:3,rowDropShadowBlur:4,rowDropShadowColor:"#090909FF",rowDropShadowIsOn:!0,selFilterBlurIsOn:!1,selFilterBlur:0,selFilterBrightIsOn:!1,selFilterBright:100,selFilterContIsOn:!1,selFilterCont:100,selFilterGrayIsOn:!1,selFilterGray:0,selFilterHueIsOn:!1,selFilterHue:0,selFilterInvertIsOn:!1,selFilterInvert:0,selFilterOpacIsOn:!1,selFilterOpac:100,selFilterSaturIsOn:!1,selFilterSatur:1,selFilterSepiaIsOn:!1,selFilterSepia:0,selBgColorIsOn:!0,selOverlayOnImage:!1,selFilterBgColor:"#FFB500FF",selBorderColorIsOn:!1,selFilterBorderColor:"#000000FF",selCTitleColorIsOn:!1,selFilterCTitleColor:"#000000FF",selCTextColorIsOn:!1,selFilterCTextColor:"#000000FF",selATitleColorIsOn:!1,selFilterATitleColor:"#000000FF",selATextColorIsOn:!1,selFilterATextColor:"#000000FF",reqFilterBlurIsOn:!1,reqFilterBlur:1,reqFilterBrightIsOn:!1,reqFilterBright:100,reqFilterContIsOn:!1,reqFilterCont:100,reqFilterGrayIsOn:!1,reqFilterGray:75,reqFilterHueIsOn:!1,reqFilterHue:0,reqFilterInvertIsOn:!1,reqFilterInvert:0,reqFilterOpacIsOn:!0,reqFilterOpac:75,reqFilterSaturIsOn:!1,reqFilterSatur:1,reqFilterSepiaIsOn:!1,reqFilterSepia:0,reqBgColorIsOn:!0,reqOverlayOnImage:!1,reqFilterBgColor:"#333333FF",reqBorderColorIsOn:!1,reqFilterBorderColor:"#000000FF",reqCTitleColorIsOn:!1,reqFilterCTitleColor:"#000000FF",reqCTextColorIsOn:!1,reqFilterCTextColor:"#000000FF",reqATitleColorIsOn:!1,reqFilterATitleColor:"#000000FF",reqATextColorIsOn:!1,reqFilterATextColor:"#000000FF",reqFilterVisibleIsOn:!1,rowBorderRadiusTopLeft:40,rowBorderRadiusTopRight:40,rowBorderRadiusBottomRight:0,rowBorderRadiusBottomLeft:0,rowBorderRadiusIsPixels:!1,rowOverflowIsOn:!0,rowBorderIsOn:!0,rowBorderColor:"#1C1C1CFF",rowBorderStyle:"solid",rowBorderWidth:2,objectBorderRadiusTopLeft:30,objectBorderRadiusTopRight:30,objectBorderRadiusBottomRight:0,objectBorderRadiusBottomLeft:0,objectBorderRadiusIsPixels:!0,objectOverflowIsOn:!0,objectBorderIsOn:!0,objectBorderColor:"#1C1C1CFF",objectBorderStyle:"solid",objectBorderWidth:2,objectImgBorderRadiusTopLeft:30,objectImgBorderRadiusTopRight:30,objectImgBorderRadiusBottomRight:30,objectImgBorderRadiusBottomLeft:30,objectImgBorderRadiusIsPixels:!0,objectImgBorderIsOn:!0,objectImgBorderColor:"#1C1C1CFF",objectImgBorderStyle:"ridge",objectImgBorderWidth:2,objectImageBoxWidth:50,rowImgBorderRadiusTopLeft:50,rowImgBorderRadiusTopRight:50,rowImgBorderRadiusBottomRight:0,rowImgBorderRadiusBottomLeft:0,rowImgBorderRadiusIsPixels:!1,rowImgBorderIsOn:!0,rowImgBorderColor:"#1C1C1CFF",rowImgBorderStyle:"solid",rowImgBorderWidth:2,rowImageBoxWidth:50,backPackWidth:1600,objectDesignIsAdvanced:!0,rowDesignIsAdvanced:!0,objectImgOverflowIsOn:!0,multiChoiceTextSize:200,multiChoiceTextFont:"Candara",rowImageMarginBottom:1,rowImgOverflowIsOn:!0,multiChoiceCounterPosition:0,multiChoiceCounterSize:170},{rowTitle:"Comic Sans MS",rowText:"Helvetica",objectTitle:"Comic Sans MS",objectText:"Helvetica",addonTitle:"Comic Sans MS",addonText:"Helvetica",scoreText:"Courier New",rowTitleTextSize:200,rowTextTextSize:100,objectTitleTextSize:175,objectTextTextSize:100,addonTitleTextSize:200,addonTextTextSize:100,scoreTextSize:75,barTextColor:"#FFA52C",barIconColor:"#0000008A",barBackgroundColor:"#0000F9FF",barTextPadding:16,barTextMargin:0,barTextFont:"Roboto",barTextSize:16,barPadding:0,barMargin:0,rowTitleColor:"#000000FF",rowTextColor:"#000000FF",objectTitleColor:"#000000FF",objectTextColor:"#000000FF",addonTitleColor:"#000000FF",addonTextColor:"#000000FF",scoreTextColor:"#000000FF",objectHeight:!0,rowTitleAlign:"center",rowTextAlign:"justify",objectTitleAlign:"center",objectTextAlign:"justify",addonTitleAlign:"center",addonTextAlign:"justify",scoreTextAlign:"center",rowButtonXPadding:0,rowButtonYPadding:0,backgroundImage:"",rowBackgroundImage:"",objectBackgroundImage:"",rowBorderImage:"",rowBorderImageRepeat:"stretch",rowBorderImageWidth:5,rowBorderImageSliceTop:5,rowBorderImageSliceBottom:5,rowBorderImageSliceLeft:5,rowBorderImageSliceRight:5,objectBorderImage:"",objectBorderImageRepeat:"stretch",objectBorderImageWidth:5,objectBorderImageSliceTop:5,objectBorderImageSliceBottom:5,objectBorderImageSliceLeft:5,objectBorderImageSliceRight:5,backgroundColor:"#008018FF",objectBgColor:"#FFFF41FF",rowBgColor:"#FFFF41FF",rowBgColorIsOn:!0,objectBgColorIsOn:!0,objectImageWidth:100,rowImageWidth:100,objectImageMarginTop:0,objectImageMarginBottom:1,rowImageMarginTop:0,objectMargin:8,rowMargin:7,rowTextPaddingY:15,rowTextPaddingX:5,objectTextPadding:8,rowBodyMarginTop:30,rowBodyMarginBottom:20,rowBodyMarginSides:2,objectDropShadowH:3,objectDropShadowV:3,objectDropShadowSpread:3,objectDropShadowBlur:4,objectDropShadowColor:"#FF0018FF",objectDropShadowIsOn:!0,rowDropShadowH:2,rowDropShadowV:2,rowDropShadowSpread:3,rowDropShadowBlur:4,rowDropShadowColor:"#FF0018FF",rowDropShadowIsOn:!0,selFilterBlurIsOn:!1,selFilterBlur:0,selFilterBrightIsOn:!1,selFilterBright:100,selFilterContIsOn:!1,selFilterCont:100,selFilterGrayIsOn:!1,selFilterGray:0,selFilterHueIsOn:!1,selFilterHue:0,selFilterInvertIsOn:!1,selFilterInvert:0,selFilterOpacIsOn:!1,selFilterOpac:100,selFilterSaturIsOn:!1,selFilterSatur:1,selFilterSepiaIsOn:!1,selFilterSepia:0,selBgColorIsOn:!0,selOverlayOnImage:!1,selFilterBgColor:"#FFA52CFF",selBorderColorIsOn:!1,selFilterBorderColor:"#000000FF",selCTitleColorIsOn:!1,selFilterCTitleColor:"#000000FF",selCTextColorIsOn:!1,selFilterCTextColor:"#000000FF",selATitleColorIsOn:!1,selFilterATitleColor:"#000000FF",selATextColorIsOn:!1,selFilterATextColor:"#000000FF",reqFilterBlurIsOn:!1,reqFilterBlur:1,reqFilterBrightIsOn:!1,reqFilterBright:100,reqFilterContIsOn:!1,reqFilterCont:100,reqFilterGrayIsOn:!1,reqFilterGray:75,reqFilterHueIsOn:!1,reqFilterHue:0,reqFilterInvertIsOn:!1,reqFilterInvert:0,reqFilterOpacIsOn:!0,reqFilterOpac:75,reqFilterSaturIsOn:!1,reqFilterSatur:1,reqFilterSepiaIsOn:!1,reqFilterSepia:0,reqBgColorIsOn:!0,reqOverlayOnImage:!1,reqFilterBgColor:"#86007DFF",reqBorderColorIsOn:!1,reqFilterBorderColor:"#000000FF",reqCTitleColorIsOn:!1,reqFilterCTitleColor:"#000000FF",reqCTextColorIsOn:!1,reqFilterCTextColor:"#000000FF",reqATitleColorIsOn:!1,reqFilterATitleColor:"#000000FF",reqATextColorIsOn:!1,reqFilterATextColor:"#000000FF",reqFilterVisibleIsOn:!1,rowBorderRadiusTopLeft:120,rowBorderRadiusTopRight:120,rowBorderRadiusBottomRight:0,rowBorderRadiusBottomLeft:0,rowBorderRadiusIsPixels:!1,rowOverflowIsOn:!0,rowBorderIsOn:!0,rowBorderColor:"#FFA52CFF",rowBorderStyle:"solid",rowBorderWidth:4,objectBorderRadiusTopLeft:120,objectBorderRadiusTopRight:120,objectBorderRadiusBottomRight:20,objectBorderRadiusBottomLeft:20,objectBorderRadiusIsPixels:!0,objectOverflowIsOn:!0,objectBorderIsOn:!0,objectBorderColor:"#FFA52CFF",objectBorderStyle:"solid",objectBorderWidth:4,objectImgBorderRadiusTopLeft:0,objectImgBorderRadiusTopRight:0,objectImgBorderRadiusBottomRight:0,objectImgBorderRadiusBottomLeft:0,objectImgBorderRadiusIsPixels:!0,objectImgBorderIsOn:!1,objectImgBorderColor:"#1C1C1CFF",objectImgBorderStyle:"ridge",objectImgBorderWidth:2,objectImageBoxWidth:50,rowImgBorderRadiusTopLeft:50,rowImgBorderRadiusTopRight:50,rowImgBorderRadiusBottomRight:0,rowImgBorderRadiusBottomLeft:0,rowImgBorderRadiusIsPixels:!1,rowImgBorderIsOn:!0,rowImgBorderColor:"#1C1C1CFF",rowImgBorderStyle:"solid",rowImgBorderWidth:2,rowImageBoxWidth:50,backPackWidth:1600,objectDesignIsAdvanced:!0,rowDesignIsAdvanced:!0,objectImgOverflowIsOn:!0,multiChoiceTextSize:200,multiChoiceTextFont:"Candara",rowImageMarginBottom:0,rowImgOverflowIsOn:!0,multiChoiceCounterPosition:0,multiChoiceCounterSize:170},{rowTitle:"Times New Roman",rowText:"Helvetica",objectTitle:"Comic Sans MS",objectText:"Helvetica",addonTitle:"Comic Sans MS",addonText:"Helvetica",scoreText:"Courier New",rowTitleTextSize:200,rowTextTextSize:100,objectTitleTextSize:175,objectTextTextSize:100,addonTitleTextSize:200,addonTextTextSize:100,scoreTextSize:75,barTextColor:"#4A8022",barIconColor:"#0000008A",barBackgroundColor:"#E4F3D8FF",barTextPadding:16,barTextMargin:0,barTextFont:"Roboto",barTextSize:16,barPadding:0,barMargin:0,rowTitleColor:"#4A7C25FF",rowTextColor:"#204206FF",objectTitleColor:"#4A7C25FF",objectTextColor:"#204206FF",addonTitleColor:"#4A7C25FF",addonTextColor:"#204206FF",scoreTextColor:"#204206FF",objectHeight:!0,rowTitleAlign:"center",rowTextAlign:"justify",objectTitleAlign:"center",objectTextAlign:"justify",addonTitleAlign:"center",addonTextAlign:"justify",scoreTextAlign:"center",rowButtonXPadding:0,rowButtonYPadding:0,backgroundImage:"",rowBackgroundImage:"",objectBackgroundImage:"",rowBorderImage:"",rowBorderImageRepeat:"stretch",rowBorderImageWidth:5,rowBorderImageSliceTop:5,rowBorderImageSliceBottom:5,rowBorderImageSliceLeft:5,rowBorderImageSliceRight:5,objectBorderImage:"",objectBorderImageRepeat:"stretch",objectBorderImageWidth:5,objectBorderImageSliceTop:5,objectBorderImageSliceBottom:5,objectBorderImageSliceLeft:5,objectBorderImageSliceRight:5,backgroundColor:"#E4F3D8FF",objectBgColor:"#C8E6B2FF",rowBgColor:"#C8E6B2FF",rowBgColorIsOn:!0,objectBgColorIsOn:!0,objectImageWidth:98,rowImageWidth:98,objectImageMarginTop:1,objectImageMarginBottom:1,rowImageMarginTop:1,objectMargin:10,rowMargin:13,rowTextPaddingY:8,rowTextPaddingX:10,objectTextPadding:7,rowBodyMarginTop:30,rowBodyMarginBottom:20,rowBodyMarginSides:4,objectDropShadowH:3,objectDropShadowV:3,objectDropShadowSpread:1,objectDropShadowBlur:4,objectDropShadowColor:"#92CA68FF",objectDropShadowIsOn:!0,rowDropShadowH:2,rowDropShadowV:2,rowDropShadowSpread:1,rowDropShadowBlur:2,rowDropShadowColor:"#76BC43FF",rowDropShadowIsOn:!0,selFilterBlurIsOn:!1,selFilterBlur:0,selFilterBrightIsOn:!1,selFilterBright:119,selFilterContIsOn:!0,selFilterCont:115,selFilterGrayIsOn:!1,selFilterGray:0,selFilterHueIsOn:!0,selFilterHue:"-58",selFilterInvertIsOn:!1,selFilterInvert:0,selFilterOpacIsOn:!1,selFilterOpac:100,selFilterSaturIsOn:!1,selFilterSatur:1,selFilterSepiaIsOn:!1,selFilterSepia:0,selBgColorIsOn:!0,selOverlayOnImage:!1,selFilterBgColor:"#C8E6B2FF",selBorderColorIsOn:!1,selFilterBorderColor:"#000000FF",selCTitleColorIsOn:!1,selFilterCTitleColor:"#000000FF",selCTextColorIsOn:!1,selFilterCTextColor:"#000000FF",selATitleColorIsOn:!1,selFilterATitleColor:"#000000FF",selATextColorIsOn:!1,selFilterATextColor:"#000000FF",reqFilterBlurIsOn:!1,reqFilterBlur:1,reqFilterBrightIsOn:!1,reqFilterBright:100,reqFilterContIsOn:!1,reqFilterCont:100,reqFilterGrayIsOn:!1,reqFilterGray:75,reqFilterHueIsOn:!1,reqFilterHue:0,reqFilterInvertIsOn:!0,reqFilterInvert:22,reqFilterOpacIsOn:!1,reqFilterOpac:75,reqFilterSaturIsOn:!1,reqFilterSatur:1,reqFilterSepiaIsOn:!1,reqFilterSepia:0,reqBgColorIsOn:!0,reqOverlayOnImage:!1,reqFilterBgColor:"#C8E6B2FF",reqBorderColorIsOn:!1,reqFilterBorderColor:"#000000FF",reqCTitleColorIsOn:!1,reqFilterCTitleColor:"#000000FF",reqCTextColorIsOn:!1,reqFilterCTextColor:"#000000FF",reqATitleColorIsOn:!1,reqFilterATitleColor:"#000000FF",reqATextColorIsOn:!1,reqFilterATextColor:"#000000FF",reqFilterVisibleIsOn:!1,rowBorderRadiusTopLeft:60,rowBorderRadiusTopRight:60,rowBorderRadiusBottomRight:30,rowBorderRadiusBottomLeft:30,rowBorderRadiusIsPixels:!0,rowOverflowIsOn:!0,rowBorderIsOn:!0,rowBorderColor:"#92CA68FF",rowBorderStyle:"solid",rowBorderWidth:4,objectBorderRadiusTopLeft:20,objectBorderRadiusTopRight:20,objectBorderRadiusBottomRight:10,objectBorderRadiusBottomLeft:10,objectBorderRadiusIsPixels:!0,objectOverflowIsOn:!0,objectBorderIsOn:!0,objectBorderColor:"#76BC43FF",objectBorderStyle:"solid",objectBorderWidth:1,objectImgBorderRadiusTopLeft:20,objectImgBorderRadiusTopRight:20,objectImgBorderRadiusBottomRight:0,objectImgBorderRadiusBottomLeft:0,objectImgBorderRadiusIsPixels:!0,objectImgBorderIsOn:!0,objectImgBorderColor:"#76BC43FF",objectImgBorderStyle:"double",objectImgBorderWidth:1,objectImageBoxWidth:50,rowImgBorderRadiusTopLeft:50,rowImgBorderRadiusTopRight:50,rowImgBorderRadiusBottomRight:0,rowImgBorderRadiusBottomLeft:0,rowImgBorderRadiusIsPixels:!0,rowImgBorderIsOn:!0,rowImgBorderColor:"#76BC43FF",rowImgBorderStyle:"double",rowImgBorderWidth:2,rowImageBoxWidth:50,backPackWidth:1800,objectDesignIsAdvanced:!0,rowDesignIsAdvanced:!0,objectImgOverflowIsOn:!0,multiChoiceTextSize:100,multiChoiceTextFont:"Times New Roman",rowImageMarginBottom:1,rowImgOverflowIsOn:!0,multiChoiceCounterPosition:0,multiChoiceCounterSize:170}];function r(e){Object.assign(app.styling,l[e])}se(e,{surface$style:"width: 1200px; max-width: calc(100vw - 32px);",get onSMUIDialogClosed(){return o.onclose},get open(){return i()},set open(e){i(e)},children:(e,t)=>{var o=_g(),i=D(o);de(i,{class:"dialog-title",tabindex:0,autofocus:!0,children:(e,t)=>{var o=le("Style Templates");u(e,o)},$$slots:{default:!0}});var l=X(i,2);ce(l,{children:(e,t)=>{Ue(e,{class:"no-shadow",children:(e,t)=>{Ge(e,{children:(e,t)=>{var o=Hg(),i=v(o),l=v(i),a=v(l);ue(a,{onclick:()=>r(0),variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Fall");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var n=X(l,2),s=v(n);ue(s,{onclick:()=>r(1),variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Book");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var d=X(n,2),c=v(d);ue(c,{onclick:()=>r(2),variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Bone");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var g=X(d,2),h=v(g);ue(h,{onclick:()=>r(3),variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Dark");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var p=X(g,2),m=v(p);ue(m,{onclick:()=>r(4),variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Hello 2021");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var f=X(p,2),b=v(f);ue(b,{onclick:()=>r(5),variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Black & Gold");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var w=X(f,2),I=v(w);ue(I,{onclick:()=>r(6),variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Rainbow");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var x=X(w,2),$=v(x);ue($,{onclick:()=>r(7),variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Seeing Greens");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}});var a=X(l,2);ve(a,{children:(e,t)=>{ue(e,{action:"close",children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Close");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),g()}(e,{get open(){return i(o)},onclose:()=>c(s,"none")})},n=(o,r)=>{var a=e=>{const o=Q(()=>"appDefaults"===i(s));!function(e,o){t(o,!0);let l=h(o,"open",7);const r=[{text:"X of Y",value:"0"},{text:"Y of X",value:"1"}],a=[{text:"X from Y",value:"0"},{text:"Y from X",value:"1"}];function n(){for(let e=0;e<app.rows.length;e++){let t=app.rows[e];if(t.id.length>2&&t.title!==app.defaultRowTitle){let e=Ti(t.title.replace(/ /g,"_"),so),o=so.get(t.id);void 0!==o&&(so.set(e,o),so.delete(t.id),t.id=e)}for(let e=0;e<t.objects.length;e++){let o=t.objects[e];if(o.id.length>2&&o.title!==app.defaultChoiceTitle){let e=Ti(o.title.replace(/ /g,"_"),co),t=co.get(o.id);void 0!==t&&(co.set(e,t),co.delete(o.id),o.id=e)}}}for(let e=0;e<app.backpack.length;e++){let t=app.backpack[e];if(t.id.length>2&&t.title!==app.defaultRowTitle){let e=Ti(t.title.replace(/ /g,"_"),so),o=so.get(t.id);void 0!==o&&(so.set(e,o),so.delete(t.id),t.id=e)}for(let e=0;e<t.objects.length;e++){let o=t.objects[e];if(o.id.length>2&&o.title!==app.defaultChoiceTitle){let e=Ti(o.title.replace(/ /g,"_"),co),t=co.get(o.id);void 0!==t&&(co.set(e,t),co.delete(o.id),o.id=e)}}}}se(e,{surface$style:"width: 1300px; max-width: calc(100vw - 32px);",get onSMUIDialogClosed(){return o.onclose},get open(){return l()},set open(e){l(e)},children:(e,t)=>{var o=Yg(),l=D(o);de(l,{class:"dialog-title",tabindex:0,autofocus:!0,children:(e,t)=>{var o=le("Project Defaults");u(e,o)},$$slots:{default:!0}});var s=X(l,2);ce(s,{children:(e,t)=>{var o=Jg(),l=v(o),s=v(l),d=X(v(s),2);Jl(d,{label:"Row Title",variant:"filled",get value(){return app.defaultRowTitle},set value(e){app.defaultRowTitle=e}});var c=X(d,2);Jl(c,{label:"Row Text",variant:"filled",get value(){return app.defaultRowText},set value(e){app.defaultRowText=e}});var g=X(c,4);Jl(g,{label:"Choice Title",variant:"filled",get value(){return app.defaultChoiceTitle},set value(e){app.defaultChoiceTitle=e}});var h=X(g,2);Jl(h,{label:"Choice Text",variant:"filled",get value(){return app.defaultChoiceText},set value(e){app.defaultChoiceText=e}});var p=X(h,4);Jl(p,{label:"Addon Title",variant:"filled",get value(){return app.defaultAddonTitle},set value(e){app.defaultAddonTitle=e}}),Jl(X(p,2),{label:"Addon Text",variant:"filled",get value(){return app.defaultAddonText},set value(e){app.defaultAddonText=e}});var m=X(s,2),f=X(v(m),2);Jl(f,{label:"Before Required Text",variant:"filled",get value(){return app.defaultBeforeReq},set value(e){app.defaultBeforeReq=e}});var w=X(f,2);Jl(w,{label:"After Required Text",variant:"filled",get value(){return app.defaultAfterReq},set value(e){app.defaultAfterReq=e}});var I=X(w,4);ia(I,{label:"Order of Text",variant:"filled",get value(){return app.orderOrReqText},set value(e){app.orderOrReqText=e},children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>r,e=>e.text,(e,t)=>{la(e,{get value(){return i(t).value},children:(e,o)=>{var l=le();b(()=>re(l,i(t).text)),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}});var x=X(I,2);Jl(x,{label:"Or Requirement Text",variant:"filled",get value(){return app.defaultOrReq},set value(e){app.defaultOrReq=e}});var $=X(x,4);ia($,{label:"Order of Text",variant:"filled",get value(){return app.orderSelReqText},set value(e){app.orderSelReqText=e},children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>a,e=>e.text,(e,t)=>{la(e,{get value(){return i(t).value},children:(e,o)=>{var l=le();b(()=>re(l,i(t).text)),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}}),Jl(X($,2),{label:"Selected From Requirement Text",variant:"filled",get value(){return app.defaultSelReq},set value(e){app.defaultSelReq=e}});var T=X(m,2),y=X(v(T),2);Jl(y,{label:"Before Points Text",variant:"filled",get value(){return app.defaultBeforePoint},set value(e){app.defaultBeforePoint=e}});var C=X(y,2);Jl(C,{label:"After Points Text",variant:"filled",get value(){return app.defaultAfterPoint},set value(e){app.defaultAfterPoint=e}});var B=X(C,4);ue(B,{onclick:n,variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Change Ids to titles");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}});var d=X(s,2);ve(d,{children:(e,t)=>{ue(e,{action:"close",children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Close");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),g()}(e,{get open(){return i(o)},onclose:()=>c(s,"none")})},n=(o,r)=>{var a=e=>{const o=Q(()=>"appSymbols"===i(s));!function(e,o){t(o,!0);let r=h(o,"open",7),a=l(100),n=l(0),s=l(0),d=l("");const p=["✅","✓","✔","🗸","☑","🗹","♂","♀","⚥","⚢","⚣","⚤","⚦","⚧","⚨","⚩","•","◘","○","◙","•","‣","⁃","⁌","⁍","◘","◦","⦾","⦿","♥","♡","🖤","💙","💚","💛","💜","🧡","🤍","🤎","❣","❤","❥","🎔","💓","💔","💖","💗","💕","💞","💘","↑","↓","→","←","↔","↕","↨","▲","▼","►","◄","⤴","⤵","↩","↪","🏹","⭐","★","☆","★","✯"];function m(){for(let e=0;e<app.rows.length;e++){const t=app.rows[e];delete t.privateAddonImageIsOn,delete t.privateAddonIsOn,delete t.privateBackgroundIsOn,delete t.privateFilterIsOn,delete t.privateMultiChoiceIsOn,delete t.privateObjectImageIsOn,delete t.privateObjectIsOn,delete t.privateRowImageIsOn,delete t.privateRowIsOn,delete t.privateTextIsOn,delete t.isPrivateStyling,delete t.styling;for(let e=0;e<t.objects.length;e++){const o=t.objects[e];delete o.privateAddonImageIsOn,delete o.privateAddonIsOn,delete o.privateBackgroundIsOn,delete o.privateFilterIsOn,delete o.privateMultiChoiceIsOn,delete o.privateObjectImageIsOn,delete o.privateObjectIsOn,delete o.privateTextIsOn,delete o.isPrivateStyling,delete o.styling}}for(let e=0;e<app.backpack.length;e++){const t=app.backpack[e];delete t.privateAddonImageIsOn,delete t.privateAddonIsOn,delete t.privateBackgroundIsOn,delete t.privateFilterIsOn,delete t.privateMultiChoiceIsOn,delete t.privateObjectImageIsOn,delete t.privateObjectIsOn,delete t.privateRowImageIsOn,delete t.privateRowIsOn,delete t.privateTextIsOn,delete t.isPrivateStyling,delete t.styling;for(let e=0;e<t.objects.length;e++){const o=t.objects[e];delete o.privateAddonImageIsOn,delete o.privateAddonIsOn,delete o.privateBackgroundIsOn,delete o.privateFilterIsOn,delete o.privateMultiChoiceIsOn,delete o.privateObjectImageIsOn,delete o.privateObjectIsOn,delete o.privateTextIsOn,delete o.isPrivateStyling,delete o.styling}}}async function f(){c(s,0),c(d,"Compressing...");for(let t=0;t<app.rows.length;t++){const o=app.rows[t];if(o.image&&_i(o.image)&&o.image.length>1024*i(a))try{const e=o.image.length;o.image=await w(o.image),Ze(n),c(s,i(s)+(e-o.image.length)/1024/1024)}catch(e){console.error(e)}for(let t=0;t<o.objects.length;t++){const l=o.objects[t];if(l.image&&_i(l.image)&&l.image.length>1024*i(a))try{const e=l.image.length;l.image=await w(l.image),Ze(n),c(s,i(s)+(e-l.image.length)/1024/1024)}catch(e){console.error(e)}}}for(let t=0;t<app.backpack.length;t++){const o=app.backpack[t];if(o.image&&_i(o.image)&&o.image.length>1024*i(a))try{const e=o.image.length;o.image=await w(o.image),Ze(n),c(s,i(s)+(e-o.image.length)/1024/1024)}catch(e){console.error(e)}for(let t=0;t<o.objects.length;t++){const l=o.objects[t];if(l.image&&_i(l.image)&&l.image.length>1024*i(a))try{const e=l.image.length;l.image=await w(l.image),Ze(n),c(s,i(s)+(e-l.image.length)/1024/1024)}catch(e){console.error(e)}}}c(d,"Complete")}function w(e){return new Promise((t,o)=>{const l=document.createElement("canvas"),r=l.getContext("2d"),n=new Image;n.crossOrigin="anonymous",n.onload=()=>{let e=n.width,o=n.height;if(e>1920||o>1920){const t=Math.min(1920/e,1920/o);e*=t,o*=t}l.width=e,l.height=o,r?.drawImage(n,0,0,e,o);let s=l.toDataURL("image/webp",.75),d=.75;for(;s.length>1024*i(a)&&d>.1;)d-=.05,s=l.toDataURL("image/webp",d);t(s)},n.onerror=e=>o(new Error("Failed to load image")),n.src=e})}se(e,{surface$style:"width: 1300px; max-width: calc(100vw - 32px);",get onSMUIDialogClosed(){return o.onclose},get open(){return r()},set open(e){r(e)},children:(e,t)=>{var o=Kg(),l=D(o);de(l,{class:"dialog-title",tabindex:0,autofocus:!0,children:(e,t)=>{var o=le("Symbols and Image Compression");u(e,o)},$$slots:{default:!0}});var r=X(l,2);ce(r,{children:(e,t)=>{var o=Zg(),l=v(o),r=v(l);Ee(r,21,()=>p,He,(e,t)=>{var o=Xg(),l=v(o);b(()=>re(l,i(t))),u(e,o)});var g=X(r,4),h=v(g);ue(h,{onclick:f,variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Compress All Images");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var w=X(g,4);Jl(v(w),{label:"Max Size of Images after compress (KB)",suffix:"KB",variant:"standard",get value(){return i(a)},set value(e){c(a,e,!0)}});var I=X(w,2),x=v(I),$=X(x,2,!0),T=X(I,2),y=v(T);ue(y,{onclick:m,variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Clean All Private Styling");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}}),b(e=>{re(x,`${i(n)??""} Images Compressed | Size Reduced With ${e??""} MB `),re($,i(d))},[()=>parseFloat(i(s).toFixed(2))]),u(e,o)},$$slots:{default:!0}});var g=X(r,2);ve(g,{children:(e,t)=>{ue(e,{action:"close",children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Close");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),g()}(e,{get open(){return i(o)},onclose:()=>c(s,"none")})},n=(o,r)=>{var a=o=>{const r=Q(()=>"appWords"===i(s));!function(o,r){t(r,!0);const[a,n]=Ve(),s=()=>We(I,"$virtualizer",a);let d=h(r,"open",7),m="";const f=()=>app.words.length+1;let w=l(e(document.getElementById("dialog--word"))),I=e(Je({count:f(),getScrollElement:()=>i(w),estimateSize:()=>180,overscan:1})),x=Q(()=>s().getTotalSize()),$=Q(()=>s().getVirtualItems());function T(e){""===e.id?e.id=m:e.id!==m&&(e.id=Ti(e.id,vo),vo.set(e.id,e),vo.delete(m),m=e.id)}function y(){let e=ci(0,4);app.words.push({id:e,replaceText:""}),vo.set(e,app.words[app.words.length-1]),app.words.length>4&&(s().setOptions({count:f()}),jl(s(),i(w),app.words.length-1))}function C(e,t){app.words.splice(t,1),vo.delete(e),app.words.length>4&&s().setOptions({count:f()})}function B(e){e<app.words.length-1&&app.words.splice(e,2,app.words[e+1],app.words[e])}function S(e){e>0&&app.words.splice(e-1,2,app.words[e],app.words[e-1])}p(()=>{c(w,document.getElementById("dialog--word"),!0),s().setOptions({getScrollElement:()=>i(w),estimateSize:()=>180})}),se(o,{surface$style:"width: 800px; max-width: calc(100vw - 32px);",get onSMUIDialogClosed(){return r.onclose},get open(){return d()},set open(e){d(e)},children:(e,t)=>{var o=av(),l=D(o);de(l,{class:"dialog-title",tabindex:0,autofocus:!0,children:(e,t)=>{var o=le("Words");u(e,o)},$$slots:{default:!0}});var r=X(l,2);ce(r,{id:"dialog--word",class:"pb-2",children:(e,t)=>{var o=M(),l=D(o),r=e=>{var t=ov();Ee(t,21,()=>i($),e=>e.index,(e,t)=>{var o=tv(),l=v(o),r=e=>{var o=Qg(),l=v(o),r=v(l);Dt(r,{text:"Move Up",children:(e,o)=>{Ye(e,{class:"mdi mdi-chevron-up",onclick:()=>S(i(t).index)})},$$slots:{default:!0}});var a=X(r,2);Dt(a,{text:"Delete Group",children:(e,o)=>{Ye(e,{class:"mdi mdi-delete-forever",onclick:()=>C(app.words[i(t).index].id,i(t).index)})},$$slots:{default:!0}});var n=X(a,2);Dt(n,{text:"Move Down",children:(e,o)=>{Ye(e,{class:"mdi mdi-chevron-down",onclick:()=>B(i(t).index)})},$$slots:{default:!0}});var s=X(l,2),d=v(s);Jl(v(d),{onfocus:()=>m=app.words[i(t).index].id,onchange:()=>T(app.words[i(t).index]),label:"Id that can be placed in the text",variant:"filled",get value(){return app.words[i(t).index].id},set value(e){app.words[i(t).index].id=e}});var c=X(d,2);Jl(v(c),{label:"Text to replace id with",variant:"filled",get value(){return app.words[i(t).index].replaceText},set value(e){app.words[i(t).index].replaceText=e}}),u(e,o)},a=(e,o)=>{var l=e=>{var t=ev();v(t).__click=y,u(e,t)};Y(e,e=>{i(t).index===app.words.length&&e(l)},o)};Y(l,e=>{app.words[i(t).index]?e(r):e(a,!1)}),b(()=>we(o,`position: absolute; top: ${i(t).start??""}px; width: 100%;`)),u(e,o)}),b(()=>we(t,`position: relative; height: ${i(x)??""}px; width: 100%;`)),u(e,t)},a=e=>{var t=lv(),o=D(t);Ee(o,17,()=>app.words,He,(e,t,o)=>{var l=iv(),r=v(l),a=v(r);Dt(a,{text:"Move Up",children:(e,t)=>{Ye(e,{class:"mdi mdi-chevron-up",onclick:()=>S(o)})},$$slots:{default:!0}});var n=X(a,2);Dt(n,{text:"Delete Group",children:(e,l)=>{Ye(e,{class:"mdi mdi-delete-forever",onclick:()=>C(i(t).id,o)})},$$slots:{default:!0}});var s=X(n,2);Dt(s,{text:"Move Down",children:(e,t)=>{Ye(e,{class:"mdi mdi-chevron-down",onclick:()=>B(o)})},$$slots:{default:!0}});var d=X(r,2),c=v(d);Jl(v(c),{onfocus:()=>m=i(t).id,onchange:()=>T(i(t)),label:"Id that can be placed in the text",variant:"filled",get value(){return i(t).id},set value(e){i(t).id=e}});var g=X(c,2);Jl(v(g),{label:"Text to replace id with",variant:"filled",get value(){return i(t).replaceText},set value(e){i(t).replaceText=e}}),u(e,l)});var l=X(o,2);v(l).__click=y,u(e,t)};Y(l,e=>{app.words.length>4?e(r):e(a,!1)}),u(e,o)},$$slots:{default:!0}});var a=X(r,2);ve(a,{children:(e,t)=>{var o=rv(),i=v(o),l=v(i),r=v(l);ue(r,{action:"",onclick:y,children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Create New Word");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var a=X(l,2),n=v(a);ue(n,{action:"close",children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Close");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),g(),n()}(o,{get open(){return i(r)},onclose:()=>c(s,"none")})},n=(e,t)=>{var o=e=>{const t=Q(()=>"appIdSearch"===i(s));gv(e,{get open(){return i(t)},onclose:()=>c(s,"none")})},l=(e,t)=>{var o=e=>{const t=Q(()=>"appDesignGroups"===i(s));Lv(e,{get open(){return i(t)},onclose:()=>c(s,"none")})},l=(e,t)=>{var o=e=>{const t=Q(()=>"appGlobalRequirements"===i(s));ih(e,{get open(){return i(t)},onclose:()=>c(s,"none")})};Y(e,e=>{"appGlobalRequirements"===i(s)&&e(o)},t)};Y(e,e=>{"appDesignGroups"===i(s)?e(o):e(l,!1)},t)};Y(e,e=>{"appIdSearch"===i(s)?e(o):e(l,!1)},t)};Y(o,e=>{"appWords"===i(s)?e(a):e(n,!1)},r)};Y(o,e=>{"appSymbols"===i(s)?e(a):e(n,!1)},r)};Y(o,e=>{"appDefaults"===i(s)?e(a):e(n,!1)},r)};Y(o,e=>{"appTemplates"===i(s)?e(a):e(n,!1)},r)};Y(o,e=>{"appBackpack"===i(s)?e(a):e(n,!1)},r)};Y(o,e=>{"appGroups"===i(s)?e(a):e(n,!1)},r)};Y(o,e=>{"appVariables"===i(s)?e(a):e(n,!1)},r)};Y(w,e=>{"appPoints"===i(s)?e(I):e(x,!1)}),u(o,d)}var ch=n('<div class="container-fluid text-center"><div class="row p-2 gy-3"><div class="col-md-6 col-12"><div class="col p-3">Character Count: <br/> </div> <div class="col p-3">Choice Count: <br/> </div> <div class="col p-3">Images Count: <br/> </div> <div class="col p-3">Rows Count: <br/> </div></div> <div class="col-md-6 col-12"><div class="col p-3">Biggest Picture: <br/> </div> <div class="col p-3">Smallest Picture: <br/> </div> <div class="col p-3">Time Guesstimate: <br/> <br/> (175 Characters Per Minute, <br/> 5 Minutes Per Picture)</div></div></div></div>'),uh=n("<!> <!> <!>",1);var gh=n('<i class="mdi mdi-alpha-a-box-outline"></i>'),vh=n('<div class="row gx-0" style="border-bottom: 1px solid"><div class="col-sm-1 col-2 d-flex align-items-center justify-center"><!></div> <div class="col-sm-11 col-10"><div class="col-12 pt-1"><div> </div> <div> </div></div></div></div>'),hh=n('<i class="mdi mdi-play"></i>'),ph=n('<i class="mdi mdi-trash-can"></i>'),mh=n('<div class="row gx-0" style="border-bottom: 1px solid"><div class="col-sm-1 col-2 d-flex align-items-center justify-center"><!></div> <div class="col-sm-10 col-8"><div class="col-12 pt-1"><div> </div> <div> </div></div></div> <div class="col-sm-1 col-2 d-flex align-items-center justify-center"><!></div></div>'),fh=n('<i class="mdi mdi-content-save"></i>'),bh=n('<div class="row gx-0" style="border-bottom: 1px solid"><div class="col-sm-1 col-2 d-flex align-items-center justify-center"><!></div> <div class="col-sm-11 col-10"><div class="col-12"><!></div></div></div>'),wh=n('<i class="mdi mdi-menu-left"></i>'),Ih=n('<i class="mdi mdi-menu-right"></i>'),xh=n('<i class="mdi mdi-download mdc-button__icon"></i> <!>',1),$h=(e,t)=>bl(i(t)),Th=n('<i class="mdi mdi-upload mdc-button__icon"></i> <!>',1),yh=n('<i class="mdi mdi-folder-arrow-down mdc-button__icon"></i> <!>',1),Ch=n('<div class="container-fluid pb-2 mb-2" style="border: 1px solid"><!> <!></div> <div class="row gy-2"><div class="col pb-2 d-row align-items-center"><!></div> <div class="col pb-2"><div class="d-row align-items-center justify-end"><!> <span class="list-text px-2"> </span> <!></div></div></div> <div class="row gy-2"><div class="col-sm-6 col-12"><!></div> <div class="col-sm-6 col-12"><input type="file" accept=".json, .zip" style="display: none;"/> <!></div> <div class="col-12"><!></div></div>',1),Bh=n("<!> <!> <!>",1),Sh=n("<!> <!>",1);function kh(e,o){t(o,!0);let r=h(o,"open",7);const a={action:()=>{},title:"Warning",context:""};let n,s=l("none"),m=l(1),f=Q(()=>9*(i(m)-1)),w=Q(()=>Math.min(i(f)+9-1,99)),I=Q(()=>Array.from({length:i(w)-i(f)+1},(e,t)=>ko[i(f)+t])),x=l(null);function $(e,t,o,i){const l=o.get(t);return void 0!==l?l:(o.set(t,e),i.file(e,Hi(t),{base64:!0}),e)}function T(){try{const e=new R,t=pl(JSON.parse(JSON.stringify(app))),o=new Map,i=[["backgroundImage","Bg"],["rowBackgroundImage","RBg"],["objectBackgroundImage","OBg"],["addonBackgroundImage","ABg"],["rowBorderImage","RB"],["objectBorderImage","OB"],["addonBorderImage","AB"]];t.version=Ut;for(let a=0;a<i.length;a++){const l=i[a][0],r=i[a][1],n=t.styling[l];if(n&&_i(n)){const i=y(n),a=`images/${r}.${C(i)}`;t.styling[l]=$(a,n,o,e)}}for(let a=0;a<t.rows.length;a++){const i=t.rows[a],l=[["rowBackgroundImage",`R${a+1}_RBg`],["objectBackgroundImage",`R${a+1}_OBg`],["addonBackgroundImage",`R${a+1}_ABg`],["rowBorderImage",`R${a+1}_RB`],["objectBorderImage",`R${a+1}_OB`],["addonBorderImage",`R${a+1}_AB`]];if(void 0!==i.styling)for(let t=0;t<l.length;t++){const r=l[t][0],a=l[t][1],n=i.styling[r];if(n&&_i(n)){const t=y(n),l=`images/${a}.${C(t)}`;i.styling[r]=$(l,n,o,e)}}if(i.image&&_i(i.image)){const t=y(i.image),l=`images/R${a+1}.${C(t)}`;i.image=$(l,i.image,o,e)}if(void 0!==i.objects)for(let t=0;t<i.objects.length;t++){const l=i.objects[t],r=[["objectBackgroundImage",`R${a+1}C${t+1}_OBg`],["objectBorderImage",`R${a+1}C${t+1}_OB`],["addonBackgroundImage",`R${a+1}C${t+1}_ABg`],["addonBorderImage",`R${a+1}C${t+1}_AB`]];if(void 0!==l.styling)for(let t=0;t<r.length;t++){const i=r[t][0],a=r[t][1],n=l.styling[i];if(n&&_i(n)){const t=y(n),r=`images/${a}.${C(t)}`;l.styling[i]=$(r,n,o,e)}}if(l.image&&_i(l.image)){const i=y(l.image),r=`images/R${a+1}C${t+1}.${C(i)}`;l.image=$(r,l.image,o,e)}if(void 0!==l.addons)for(let i=0;i<l.addons.length;i++){const r=l.addons[i];if(r.image&&_i(r.image)){const l=y(r.image),n=`images/R${a+1}C${t+1}A${i+1}.${C(l)}`;r.image=$(n,r.image,o,e)}}}}if(void 0!==t.backpack)for(let a=0;a<t.backpack.length;a++){const i=t.backpack[a],l=[["rowBackgroundImage",`BR${a+1}_RBg`],["objectBackgroundImage",`BR${a+1}_OBg`],["addonBackgroundImage",`BR${a+1}_ABg`],["rowBorderImage",`BR${a+1}_RB`],["objectBorderImage",`BR${a+1}_OB`],["addonBorderImage",`BR${a+1}_AB`]];if(void 0!==i.styling)for(let t=0;t<l.length;t++){const r=l[t][0],a=l[t][1],n=i.styling[r];if(n&&_i(n)){const t=y(n),l=`images/${a}.${C(t)}`;i.styling[r]=$(l,n,o,e)}}if(i.image&&_i(i.image)){const t=y(i.image),l=`images/BR${a+1}.${C(t)}`;i.image=$(l,i.image,o,e)}if(void 0!==i.objects)for(let t=0;t<i.objects.length;t++){const l=i.objects[t],r=[["objectBackgroundImage",`BR${a+1}C${t+1}_OBg`],["objectBorderImage",`BR${a+1}C${t+1}_OB`],["addonBackgroundImage",`BR${a+1}C${t+1}_ABg`],["addonBorderImage",`BR${a+1}C${t+1}_AB`]];if(void 0!==l.styling)for(let t=0;t<r.length;t++){const i=r[t][0],a=r[t][1],n=l.styling[i];if(n&&_i(n)){const t=y(n),r=`images/${a}.${C(t)}`;l.styling[i]=$(r,n,o,e)}}if(l.image&&_i(l.image)){const i=y(l.image),r=`images/BR${a+1}C${t+1}.${C(i)}`;l.image=$(r,l.image,o,e)}if(void 0!==l.addons)for(let i=0;i<l.addons.length;i++){const r=l.addons[i];if(r.image&&_i(r.image)){const l=y(r.image),n=`images/BR${a+1}C${t+1}A${i+1}.${C(l)}`;r.image=$(n,r.image,o,e)}}}}if(void 0!==t.rowDesignGroups)for(let a=0;a<t.rowDesignGroups.length;a++){const i=t.rowDesignGroups[a],l=[["rowBackgroundImage",`RD${a+1}_RBg`],["objectBackgroundImage",`RD${a+1}_OBg`],["addonBackgroundImage",`RD${a+1}_ABg`],["rowBorderImage",`RD${a+1}_RB`],["objectBorderImage",`RD${a+1}_OB`],["addonBorderImage",`RD${a+1}_AB`]];if(void 0!==i.styling)for(let t=0;t<l.length;t++){const r=l[t][0],a=l[t][1],n=i.styling[r];if(n&&_i(n)){const t=y(n),l=`images/${a}.${C(t)}`;i.styling[r]=$(l,n,o,e)}}}if(void 0!==t.objectDesignGroups)for(let a=0;a<t.objectDesignGroups.length;a++){const i=t.objectDesignGroups[a],l=[["objectBackgroundImage",`OD${a+1}_OBg`],["addonBackgroundImage",`OD${a+1}_ABg`],["objectBorderImage",`OD${a+1}_OB`],["addonBorderImage",`OD${a+1}_AB`]];if(void 0!==i.styling)for(let t=0;t<l.length;t++){const r=l[t][0],a=l[t][1],n=i.styling[r];if(n&&_i(n)){const t=y(n),l=`images/${a}.${C(t)}`;i.styling[r]=$(l,n,o,e)}}}const l=JSON.stringify(t),r=new Blob([l],{type:"application/json"});e.file("project.json",r),e.generateAsync({type:"blob"}).then(function(e){const t=URL.createObjectURL(e),o=document.createElement("a"),i=`CYOA_${ti()}.zip`;o.href=t,o.download=i,o.click(),URL.revokeObjectURL(t)})}catch(e){Co.labelText="Failed to export project.",Co.isOpen=!0,console.error(e)}}function y(e){const t=e.match(/^data:(image\/[^;]+);/);return t?t[1]:e}function C(e){const t=e.split("/")[1],o={"svg+xml":"svg","vnd.microsoft.icon":"ico","x-icon":"ico"};return o[t]?o[t]:t}function B(){app.activated=ei().split(",");const e=JSON.parse(JSON.stringify(app));e.version=Ut;const t=JSON.stringify(e),o=new Blob([t],{type:"application/json"}),i=URL.createObjectURL(o),l=document.createElement("a"),r=`project_${ti()}.json`;l.href=i,l.download=r,l.click(),URL.revokeObjectURL(i)}function S(e){app.activated=ei().split(",");const t=JSON.parse(JSON.stringify(app));t.version=Ut;const o=`${location.pathname.replace(/\/index\.html$/,"/")}slot-${e}`,i=navigator.language,l=new Date,r=new Intl.DateTimeFormat(i,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(l);Zo({stored:!0,name:ko[e].name||`Slot-${e+1}`,time:r,app:t},o,e,"cyoaStore")}var k=Sh(),O=D(k);se(O,{surface$style:"width: 700px; max-width: calc(100vw - 32px);",get onSMUIDialogClosed(){return o.onclose},id:"dialog",get open(){return r()},set open(e){r(e)},children:(e,t)=>{var o=Bh(),l=D(o);de(l,{class:"text-left dialog-title",tabindex:0,autofocus:!0,children:(e,t)=>{var o=le("Save/Load Project");u(e,o)},$$slots:{default:!0}});var r=X(l,2);ce(r,{class:"pt-3",children:(e,t)=>{var o=Ch(),l=D(o),r=v(l),g=e=>{var t=vh(),o=v(t),i=v(o);Ye(i,{onclick:()=>{a.action=()=>function(){const e=pl(So.app),t=vl.safeParse(e);t.success?(wl(t.data),Co.labelText="Data loaded successfully.",Co.isOpen=!0):(Co.labelText="Failed to load data.",Co.isOpen=!0,console.error(t.error))}(),a.context="Are you sure you want to load this project?<br>Any unsaved changes will be lost.",c(s,"dlgCommon")},children:(e,t)=>{var o=gh();u(e,o)},$$slots:{default:!0}});var l=X(o,2),r=v(l),n=v(r),d=v(n),g=X(n,2),h=v(g);b(()=>{re(d,So.name),re(h,So.time)}),u(e,t)};Y(r,e=>{So.stored&&e(g)});var h=X(r,2);Ee(h,17,()=>i(I),He,(e,t,o)=>{var l=M(),r=D(l),n=e=>{var l=mh(),r=v(l),n=v(r);Ye(n,{onclick:()=>{a.action=()=>function(e){const t=pl(ko[e].app),o=vl.safeParse(t);o.success?(wl(o.data),Co.labelText="Data loaded successfully.",Co.isOpen=!0):(Co.labelText="Failed to load data.",Co.isOpen=!0,console.error(o.error))}(o),a.context="Are you sure you want to load this project?<br>Any unsaved changes will be lost.",c(s,"dlgCommon")},children:(e,t)=>{var o=hh();u(e,o)},$$slots:{default:!0}});var d=X(r,2),g=v(d),h=v(g),p=v(h),m=X(h,2),f=v(m),w=X(d,2),I=v(w);Ye(I,{onclick:()=>{a.action=()=>{return e=o,void Ko(`${location.pathname.replace(/\/index\.html$/,"/")}slot-${e}`,e,"cyoaStore");var e},a.context="Are you sure you want to delete this project?<br>This action cannot be undone.",c(s,"dlgCommon")},children:(e,t)=>{var o=ph();u(e,o)},$$slots:{default:!0}}),b(()=>{re(p,i(t).name),re(f,i(t).time)}),u(e,l)},d=e=>{var l=bh(),r=v(l),a=v(r);Ye(a,{onclick:()=>S(o),children:(e,t)=>{var o=fh();u(e,o)},$$slots:{default:!0}});var n=X(r,2),s=v(n);Jl(v(s),{onclick:()=>i(t).name="",onblur:()=>{""===i(t).name&&(i(t).name=`Slot ${o+1}`)},input$onkeydown:e=>{"Enter"===e.key&&S(o)},class:"textbox-mini",variant:"standard",get value(){return i(t).name},set value(e){i(t).name=e}}),u(e,l)};Y(r,e=>{i(t).stored?e(n):e(d,!1)}),u(e,l)});var p=X(l,2),f=v(p),w=v(f);ue(w,{onclick:()=>c(s,"appProjectStats"),children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Project Stats");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var $=X(f,2),y=v($),C=v(y);Ye(C,{onclick:()=>i(m)>1?c(m,i(m)-1):c(m,11),children:(e,t)=>{var o=wh();u(e,o)},$$slots:{default:!0}});var k=X(C,2),O=v(k),F=X(k,2);Ye(F,{onclick:()=>i(m)<11?c(m,i(m)+1):c(m,1),children:(e,t)=>{var o=Ih();u(e,o)},$$slots:{default:!0}});var R=X(p,2),A=v(R),j=v(A);ue(j,{onclick:B,variant:"raised",children:(e,t)=>{var o=xh(),i=X(D(o),2);ge(i,{children:(e,t)=>{var o=le("Save to Disk");u(e,o)},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}});var P=X(A,2),q=v(P);q.__change=[$h,x],d(q,e=>n=e,()=>n);var L=X(q,2);ue(L,{onclick:()=>n.click(),variant:"raised",children:(e,t)=>{var o=Th(),i=X(D(o),2);ge(i,{children:(e,t)=>{var o=le("Load from Disk");u(e,o)},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}});var W=X(P,2),V=v(W);ue(V,{onclick:T,variant:"raised",children:(e,t)=>{var o=yh(),i=X(D(o),2);ge(i,{children:(e,t)=>{var o=le("Export Project with Separate Images");u(e,o)},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),b(()=>re(O,`Page ${i(m)??""}`)),ht(q,()=>i(x),e=>c(x,e)),u(e,o)},$$slots:{default:!0}});var g=X(r,2);ve(g,{children:(e,t)=>{ue(e,{action:"close",children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Close");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}});var F=X(O,2),A=e=>{const t=Q(()=>"dlgCommon"===i(s));td(e,{get open(){return i(t)},onclose:()=>c(s,"none"),get title(){return a.title},get context(){return a.context},closeHandler:e=>{"accept"===e.detail.action&&a.action()}})},j=(e,o)=>{var r=e=>{const o=Q(()=>"appProjectStats"===i(s));!function(e,o){t(o,!0);let r=h(o,"open",7),a=l(0),n=l(0),s=l(0),d=l(0),m=l(0),f=l(""),w=l(0),I=l("");p(()=>{let e=0,t=0,o=0,i=0,l=0,r="",u=0,g="";for(let a=0;a<app.rows.length;a++){const n=app.rows[a];i+=1,void 0!==n.title&&(e+=n.title.length),void 0!==n.titleText&&(e+=n.titleText.length),void 0!==n.image&&n.image.length>0&&(n.image.length>l&&(l=n.image.length,r=n.title),(0===u||n.image.length<u)&&(u=n.image.length,g=n.title),o+=1);for(let i=0;i<n.objects.length;i++){const a=n.objects[i];t+=1,void 0!==a.title&&(e+=a.title.length),void 0!==a.text&&(e+=a.text.length),void 0!==a.image&&a.image.length>0&&(a.image.length>l&&(l=a.image.length,r=a.title),(0===u||a.image.length<u)&&(u=a.image.length,g=a.title),o+=1);for(let t=0;t<a.addons.length;t++){const i=a.addons[t];void 0!==i.title&&(e+=i.title.length),void 0!==i.text&&(e+=i.text.length),void 0!==i.image&&i.image.length>0&&(i.image.length>l&&(l=i.image.length,r=i.title),(0===u||i.image.length<u)&&(u=i.image.length,g=i.title),o+=1)}}}for(let a=0;a<app.backpack.length;a++){const n=app.backpack[a];i+=1,void 0!==n.title&&(e+=n.title.length),void 0!==n.titleText&&(e+=n.titleText.length),void 0!==n.image&&n.image.length>0&&(n.image.length>l&&(l=n.image.length,r=n.title),(0===u||n.image.length<u)&&(u=n.image.length,g=n.title),o+=1);for(let i=0;i<n.objects.length;i++){const a=n.objects[i];t+=1,void 0!==a.title&&(e+=a.title.length),void 0!==a.text&&(e+=a.text.length),void 0!==a.image&&a.image.length>0&&(a.image.length>l&&(l=a.image.length,r=a.title),(0===u||a.image.length<u)&&(u=a.image.length,g=a.title),o+=1);for(let t=0;t<a.addons.length;t++){const i=a.addons[t];void 0!==i.title&&(e+=i.title.length),void 0!==i.text&&(e+=i.text.length),void 0!==i.image&&i.image.length>0&&(i.image.length>l&&(l=i.image.length,r=i.title),(0===u||i.image.length<u)&&(u=i.image.length,g=i.title),o+=1)}}}c(a,e,!0),c(n,t,!0),c(s,o,!0),c(d,i,!0),c(m,Math.floor(l/1024),!0),c(f,r,!0),c(w,Math.floor(u/1024),!0),c(I,g,!0)}),se(e,{surface$style:"width: 800px; max-width: calc(100vw - 32px);",get onSMUIDialogClosed(){return o.onclose},get open(){return r()},set open(e){r(e)},children:(e,t)=>{var o=uh(),l=D(o);de(l,{class:"dialog-title",tabindex:0,autofocus:!0,children:(e,t)=>{var o=le("Project Stats");u(e,o)},$$slots:{default:!0}});var r=X(l,2);ce(r,{children:(e,t)=>{var o=ch(),l=v(o),r=v(l),c=v(r),g=X(v(c),2),h=X(c,2),p=X(v(h),2),x=X(h,2),$=X(v(x),2),T=X(x,2),y=X(v(T),2),C=X(r,2),B=v(C),S=X(v(B),2),k=X(B,2),O=X(v(k),2),F=X(k,2),R=X(v(F),2);b((e,t)=>{re(g,` ${i(a)??""} Characters`),re(p,` ${i(n)??""} Choices`),re($,` ${i(s)??""} Images`),re(y,` ${i(d)??""} Rows`),re(S,` ${i(m)??""} KB, ${i(f)??""}`),re(O,` ${i(w)??""} KB, ${i(I)??""}`),re(R,` ${e??""} Minutes / ${t??""} Hours `)},[()=>Math.floor(i(a)/175+5*i(s)),()=>parseFloat(((i(a)/175+5*i(s))/60).toFixed(1))]),u(e,o)},$$slots:{default:!0}});var c=X(r,2);ve(c,{children:(e,t)=>{ue(e,{action:"close",children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Close");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),g()}(e,{get open(){return i(o)},onclose:()=>c(s,"none")})};Y(e,e=>{"appProjectStats"===i(s)&&e(r)},o)};Y(F,e=>{"dlgCommon"===i(s)?e(A):e(j,!1)}),u(e,k),g()}he(["change"]);var Oh=n('<div><span><!> <!> <span translate="no"> </span> <!> <!></span></div>');var Fh=n("<!> <!>",1),Rh=n('<div class="p-0 col-12"><!></div>'),Ah=n("<div><!></div>"),jh=n('<div class="container-fluid p-0"><div class="row gx-0"></div></div>'),Mh=n("<!> <!> <!>",1);var Dh=n("<!> <!> <!>",1),Ph=n("<!> <!>",1),qh=n("<!> <!> <!>",1),Lh=n('<div class="col-12 pb-4"><!></div> <!> <!>',1),Wh=n('<div class="container-fluid"><div class="row text-center"><div class="col-12 pb-4"><!> <!></div> <div class="col-12"><!></div></div></div>'),Vh=n("<!> <!> <!>",1);function Nh(e,o){t(o,!0);let l=h(o,"open",7),r=h(o,"row",7),a=[{name:"Point Type Sum Addon",value:"sumaddon"},{name:"Other",value:"choiceselect"}],n=Q(()=>app.pointTypes.map(({id:e})=>e)),s=Q(()=>app.variables.map(({id:e})=>e));se(e,{surface$style:"width: 600px; max-width: calc(100vw - 32px);",get onSMUIDialogClosed(){return o.onclose},get open(){return l()},set open(e){l(e)},children:(e,t)=>{var o=Vh(),l=D(o);de(l,{tabindex:0,autofocus:!0,children:(e,t)=>{var o=le("Row Button Settings");u(e,o)},$$slots:{default:!0}});var d=X(l,2);ce(d,{class:"p-0",children:(e,t)=>{Ue(e,{class:"no-shadow",children:(e,t)=>{Ge(e,{children:(e,t)=>{var o=Wh(),l=v(o),d=v(l),c=v(d);Jl(c,{class:"mb-4",label:"Button Text",variant:"filled",get value(){return r().buttonText},set value(e){r().buttonText=e}});var g=X(c,2);Ee(g,17,()=>a,He,(e,t)=>{Se(e,{class:"w-100",label:e=>{var o=le();b(()=>re(o,i(t).name)),u(e,o)},children:(e,o)=>{pt(e,{get value(){return i(t).value},get group(){return r().buttonTypeRadio},set group(e){r().buttonTypeRadio=e}})},$$slots:{label:!0,default:!0}})});var h=X(d,2),p=v(h),m=e=>{var t=Ph(),o=D(t);Se(o,{class:"w-100 pb-3",label:e=>{var t=le("Button will add a sum to a Point-type");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return r().btnPointAddon??!1},set checked(e){var t;t=e,r().btnPointAddon=t},onSMUISwitchChange:()=>{r().btnPointAddon?(r().randomMin=0,r().randomMax=0):(delete r().btnPointAddon,delete r().pointTypeRandom,delete r().randomMin,delete r().randomMax)},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var l=X(o,2),a=e=>{var t=Dh(),o=D(t);ks(o,{get options(){return i(n)},label:"Point-Type to use",toggle:!0,showMenuWithNoInput:!0,textfield$variant:"filled",class:"w-100",get value(){return r().pointTypeRandom},set value(e){r().pointTypeRandom=e}});var l=X(o,2);Jl(l,{get value(){return r().randomMin??0},set value(e){var t;t=e,r().randomMin=t},label:"Random Min",type:"number",variant:"filled"});var a=X(l,2);Jl(a,{get value(){return r().randomMax??0},set value(e){var t;t=e,r().randomMax=t},label:"Random Max",type:"number",variant:"filled"}),u(e,t)};Y(l,e=>{r().btnPointAddon&&e(a)}),u(e,t)},f=(e,t)=>{var o=e=>{var t=Lh(),o=D(t),l=v(o),a=e=>{ks(e,{get options(){return i(s)},label:"Variable",toggle:!0,showMenuWithNoInput:!0,textfield$variant:"filled",class:"w-100",get value(){return r().buttonId},set value(e){r().buttonId=e}})},n=(e,t)=>{var o=e=>{Jl(e,{label:"Number of random choices that will be selected",type:"number",variant:"filled",get value(){return r().buttonRandomNumber},set value(e){r().buttonRandomNumber=e}})};Y(e,e=>{r().isWeightedRandom||e(o)},t)};Y(l,e=>{r().buttonRandom?e(n,!1):e(a)});var d=X(o,2);Se(d,{class:"w-100 pb-3",label:e=>{var t=le("Random or Variable?");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return r().buttonRandom??!1},set checked(e){var t;t=e,r().buttonRandom=t},onSMUISwitchChange:()=>{r().buttonRandom?(r().buttonRandomNumber=1,r().isWeightedRandom=!1,delete r().buttonId):(delete r().buttonRandom,delete r().buttonRandomNumber,delete r().isWeightedRandom,delete r().onlyUnselectedChoices,delete r().onlyIfNoChoices)},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var c=X(d,2),g=e=>{var t=qh(),o=D(t);Se(o,{class:"w-100 pb-3",label:e=>{var t=le("Uniform or Weighted?");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return r().isWeightedRandom??!1},set checked(e){var t;t=e,r().isWeightedRandom=t},onSMUISwitchChange:()=>{r().isWeightedRandom?delete r().buttonRandomNumber:(r().buttonRandomNumber=1,delete r().isWeightedRandom)},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var i=X(o,2);Se(i,{class:"w-100 pb-3",label:e=>{var t=le("Only Unselected choices?");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return r().onlyUnselectedChoices??!1},set checked(e){var t;t=e,r().onlyUnselectedChoices=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var l=X(i,2);Se(l,{class:"w-100 pb-3",label:e=>{var t=le("Button can only be pressed if no choices is selected?");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return r().onlyIfNoChoices??!1},set checked(e){var t;t=e,r().onlyIfNoChoices=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});u(e,t)},h=e=>{Se(e,{class:"w-100 pb-3",label:e=>{var t=le("Toggleable?");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return r().buttonType??!1},set checked(e){var t;t=e,r().buttonType=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}})};Y(c,e=>{r().buttonRandom?e(g):e(h,!1)}),u(e,t)};Y(e,e=>{"choiceselect"===r().buttonTypeRadio&&e(o)},t)};Y(p,e=>{"sumaddon"===r().buttonTypeRadio?e(m):e(f,!1)}),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}});var c=X(d,2);ve(c,{children:(e,t)=>{ue(e,{action:"close",children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Close");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),g()}var zh=n('<div class="row pt-4"><div class="col-12"><!></div></div>'),Uh=n('<div class="container-fluid"><div class="row"><div class="col-6"><!></div> <div class="col-6"><!></div></div></div>'),Gh=n("<!> <!> <!>",1);function Eh(e,o){t(o,!0);let r=l(1);se(e,{get open(){return o.open},set open(e){!e&&o.onclose()},surface$style:"width: 400px; max-width: calc(100vw - 32px);",children:(e,t)=>{var l=Gh(),a=D(l);de(a,{children:(e,t)=>{var o=le("Create New Choices");u(e,o)},$$slots:{default:!0}});var n=X(a,2);ce(n,{children:(e,t)=>{var o=zh(),l=v(o);Jl(v(l),{label:"Number of Choices",variant:"filled",type:"number",input$min:1,get value(){return i(r)},set value(e){c(r,e,!0)}}),u(e,o)},$$slots:{default:!0}});var s=X(n,2);ve(s,{children:(e,t)=>{var l=Uh(),a=v(l),n=v(a),s=v(n);ue(s,{children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Cancel");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var d=X(n,2),c=v(d);ue(c,{defaultAction:!0,onclick:()=>o.submit(i(r)),children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("OK");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,l)},$$slots:{default:!0}}),u(e,l)},$$slots:{default:!0}}),g()}var Hh=n('<div class="col-md-6 col-12 text-center"><div class="d-column">Positive Color <!></div></div> <div class="col-md-6 col-12 text-center"><div class="d-column">Negative Color <!></div></div>',1),_h=n('<div class="col-md-6 col-12 text-center"><div class="d-column">Positive Color <!></div></div> <div class="col-md-6 col-12 text-center"><div class="d-column">Negative Color <!></div></div>',1),Jh=n('<div class="col-12 text-center">Icon for positive</div>'),Yh=(e,t,o)=>{c(t,"appImageUpload"),c(o,"image")},Xh=n('<button type="button" class="btn--image-background"><img alt="Icon for Positive Number" loading="lazy" class="btn--image" style="max-height: 140px;"/></button>'),Zh=(e,t,o)=>{c(t,"appImageUpload"),c(o,"negativeImage")},Kh=n('<button type="button" class="btn--image-background"><img alt="Icon for Negative Number" loading="lazy" class="btn--image" style="max-height: 140px;"/></button>'),Qh=n('<div class="col-12 text-center">Icon for negative</div> <div class="col-md-6 col-12"><div class="p-3"><!> <!></div></div> <div class="col-md-6 col-12"><div class="d-column p-3"><!> <!> <!> <!></div></div>',1),ep=n('<div class="col-12 ps-3"><!></div> <!> <div class="col-md-6 col-12"><div class="p-3"><!> <!></div></div> <div class="col-md-6 col-12"><div class="d-column p-3"><!> <!> <!> <!></div></div> <!>',1),tp=n('<div class="row gx-0 p-4"><div class="col-12"><!></div> <!> <div class="col-12"><!></div> <!> <div class="col-12"><!></div> <!></div>'),op=n("<!> <!> <!>",1),ip=n("<!> <!>",1);function lp(e,o){t(o,!0);let r=h(o,"open",7),a=h(o,"currentPoint",7),n=l("none"),s="#000000FF",d=l("");var p=ip(),m=D(p);const f=Q(()=>"none"===i(n)?"close":"");se(m,{get escapeKeyAction(){return i(f)},surface$style:"width: 800px; max-width: calc(100vw - 32px);",get onSMUIDialogClosed(){return o.onclose},get open(){return r()},set open(e){r(e)},children:(e,t)=>{var o=op(),i=D(o);de(i,{class:"dialog-title",tabindex:0,autofocus:!0,children:(e,t)=>{var o=le("Point Settings");u(e,o)},$$slots:{default:!0}});var l=X(i,2);ce(l,{class:"pb-0",children:(e,t)=>{var o=tp(),i=v(o),l=v(i);Se(l,{label:e=>{var t=le("Set colors for positive or negative in the Choices.");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return a().pointColorsIsOn??!1},set checked(e){var t;t=e,a().pointColorsIsOn=t},onSMUISwitchChange:()=>{a().pointColorsIsOn?(a().positiveColor=s,a().negativeColor=s):(delete a().pointColorsIsOn,delete a().positiveColor,delete a().negativeColor)},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var r=X(i,2),g=e=>{var t=Hh(),o=D(t),i=v(o),l=X(v(i));Sr(l,{get hex(){return a().positiveColor??s},set hex(e){var t;t=e,a().positiveColor=t},get components(){return Or},sliderDirection:"horizontal",isDialog:!1});var r=X(o,2),n=v(r),d=X(v(n));Sr(d,{get hex(){return a().negativeColor??s},set hex(e){var t;t=e,a().negativeColor=t},get components(){return Or},sliderDirection:"horizontal",isDialog:!1}),u(e,t)};Y(r,e=>{a().pointColorsIsOn&&e(g)});var h=X(r,2),p=v(h);Se(p,{label:e=>{var t=le("Set colors for positive or negative in the Point-Bar.");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return a().pointPrivateColorIsOn??!1},set checked(e){var t;t=e,a().pointPrivateColorIsOn=t},onSMUISwitchChange:()=>{a().pointPrivateColorIsOn?(a().privateColor=s,a().privateNegativeColor=s):(delete a().pointPrivateColorIsOn,delete a().privateColor,delete a().privateNegativeColor)},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var m=X(h,2),f=e=>{var t=_h(),o=D(t),i=v(o),l=X(v(i));Sr(l,{get hex(){return a().privateColor??s},set hex(e){var t;t=e,a().privateColor=t},get components(){return Or},sliderDirection:"horizontal",isDialog:!1});var r=X(o,2),n=v(r),d=X(v(n));Sr(d,{get hex(){return a().privateNegativeColor??s},set hex(e){var t;t=e,a().privateNegativeColor=t},get components(){return Or},sliderDirection:"horizontal",isDialog:!1}),u(e,t)};Y(m,e=>{a().pointPrivateColorIsOn&&e(f)});var w=X(m,2),I=v(w);Se(I,{label:e=>{var t=le("Set icon for positive or negative.");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return a().iconIsOn??!1},set checked(e){var t;t=e,a().iconIsOn=t},onSMUISwitchChange:()=>{a().iconIsOn||(delete a().iconIsOn,delete a().image,delete a().iconWidth,delete a().iconHeight,delete a().imageOnSide,delete a().imageSidePlacement)},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var x=X(w,2),$=e=>{var t=ep(),o=D(t),i=v(o);Se(i,{label:e=>{var t=le("Use seperate Icon for negative.");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return a().negativeIconIsOn??!1},set checked(e){var t;t=e,a().negativeIconIsOn=t},onSMUISwitchChange:()=>{a().negativeIconIsOn&&(delete a().negativeIconIsOn,delete a().negativeImage,delete a().negativeIconWidth,delete a().negativeIconHeight,delete a().negativeImageOnSide,delete a().negativeImageSidePlacement)},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var l=X(o,2),r=e=>{var t=Jh();u(e,t)};Y(l,e=>{a().negativeIconIsOn&&e(r)});var s=X(l,2),g=v(s),h=v(g),p=e=>{var t=Xh();t.__click=[Yh,n,d];var o=v(t);b(()=>xe(o,"src",a().image)),u(e,t)};Y(h,e=>{a().image&&e(p)});var m=X(h,2);ue(m,{onclick:()=>{c(n,"appImageUpload"),c(d,"image")},variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Change Image");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var f=X(s,2),w=v(f),I=v(w);Se(I,{label:e=>{var t=le("Image is on Left/Right side.");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return a().imageOnSide??!1},set checked(e){var t;t=e,a().imageOnSide=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var x=X(I,2);Se(x,{label:e=>{var t=le("Image is Before/After text.");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return a().imageSidePlacement??!1},set checked(e){var t;t=e,a().imageSidePlacement=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var $=X(x,2);Jl($,{get value(){return a().iconWidth??0},set value(e){var t;t=e,a().iconWidth=t},onchange:()=>a().iconWidth=Math.max(a().iconWidth||0,0),input$min:0,label:"Image Width",type:"number",variant:"filled",suffix:"px"});var T=X($,2);Jl(T,{get value(){return a().iconHeight??0},set value(e){var t;t=e,a().iconHeight=t},onchange:()=>a().iconHeight=Math.max(a().iconHeight||0,0),input$min:0,label:"Image Height",type:"number",variant:"filled",suffix:"px"});var y=X(f,2),C=e=>{var t=Qh(),o=X(D(t),2),i=v(o),l=v(i),r=e=>{var t=Kh();t.__click=[Zh,n,d];var o=v(t);b(()=>xe(o,"src",a().negativeImage)),u(e,t)};Y(l,e=>{a().negativeImage&&e(r)});var s=X(l,2);ue(s,{onclick:()=>{c(n,"appImageUpload"),c(d,"negativeImage")},variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Change Image");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var g=X(o,2),h=v(g),p=v(h);Se(p,{label:e=>{var t=le("Image is on Left/Right side.");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return a().negativeImageOnSide??!1},set checked(e){var t;t=e,a().negativeImageOnSide=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var m=X(p,2);Se(m,{label:e=>{var t=le("Image is Before/After text.");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return a().negativeImageSidePlacement??!1},set checked(e){var t;t=e,a().negativeImageSidePlacement=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var f=X(m,2);Jl(f,{get value(){return a().negativeIconWidth??0},set value(e){var t;t=e,a().negativeIconWidth=t},onchange:()=>a().negativeIconWidth=Math.max(a().negativeIconWidth||0,0),input$min:0,label:"Image Width",type:"number",variant:"filled",suffix:"px"});var w=X(f,2);Jl(w,{get value(){return a().negativeIconHeight??0},set value(e){var t;t=e,a().negativeIconHeight=t},onchange:()=>a().negativeIconHeight=Math.max(a().negativeIconHeight||0,0),input$min:0,label:"Image Height",type:"number",variant:"filled",suffix:"px"}),u(e,t)};Y(y,e=>{a().negativeIconIsOn&&e(C)}),u(e,t)};Y(x,e=>{a().iconIsOn&&e($)}),u(e,o)},$$slots:{default:!0}});var r=X(l,2);ve(r,{children:(e,t)=>{ue(e,{action:"close",children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Close");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}});var w=X(m,2),I=e=>{const t=Q(()=>"appImageUpload"===i(n));Xr(e,{get open(){return i(t)},onclose:()=>c(n,"none"),get imgObject(){return a()},get imgProp(){return i(d)}})};Y(w,e=>{"appImageUpload"===i(n)&&e(I)}),u(e,p),g()}he(["click"]);var rp=n("<div> </div>"),ap=n('<div class="row gx-0 ps-2 py-2 justify-space-between align-items-center"><div class="col"> </div> <div class="col pe-3 text-right"><!></div></div>'),np=n('<div class="container-fluid p-0"></div>'),sp=n("<!> <!>",1),dp=n("<section></section>"),cp=n("<!> <!> <!>",1);function up(o,r){t(r,!0);let a=h(r,"open",7),n=l(e(JSON.parse(JSON.stringify(app.rows.map(({id:e,debugTitle:t,title:o,objects:i})=>({id:e,debugTitle:null!=t?t:"",title:o,objects:i.map(({id:e,debugTitle:t,title:o})=>({id:e,debugTitle:null!=t?t:"",title:o}))}))))));function s(e){c(n,e.detail.items,!0)}function d(e){c(n,e.detail.items,!0);const t=i(n).map(e=>e.id);app.rows=t.map(e=>app.rows.find(t=>t.id===e)).filter(Boolean);for(let o=0;o<app.rows.length;o++)app.rows[o].index=o}se(o,{surface$style:"width: 600px; max-width: calc(100vw - 32px);",get onSMUIDialogClosed(){return r.onclose},get open(){return a()},set open(e){a(e)},children:(e,t)=>{var o=cp(),l=D(o);de(l,{class:"dialog-title",children:(e,t)=>{var o=le("Rows");u(e,o)},$$slots:{default:!0}});var a=X(l,2);ce(a,{class:"p-0",children:(e,t)=>{Gs(e,{multiple:!0,children:(e,t)=>{var o=dp();Ee(o,23,()=>i(n),e=>e.id,(e,t,o)=>{Es(e,{class:"m-0",get open(){return null!=i(t).open&&i(t).open},set open(e){var o;o=e,i(t).open=o},conditionalRender:!0,children:(e,l)=>{var a=sp(),n=D(a);Xs(n,{icon:e=>{Ye(e,{onclick:e=>{e.preventDefault(),e.stopPropagation(),function(e){const t=so.get(e);if(void 0!==t){const e=app.useToolbarBtn?t.index:t.index+1,o=r.mainDiv.children;void 0!==o&&void 0!==o[e]&&window.scrollTo({top:o[e].getBoundingClientRect().top+window.scrollY,behavior:"smooth"})}}(i(t).id)},size:"mini",children:(e,t)=>{dt(e,{class:"mdi mdi-target"})},$$slots:{default:!0}})},children:(e,l)=>{var r=rp();let a;var n=v(r);b(e=>{a=w(r,1,"",null,a,e),re(n,`${i(o)+1}. ${i(t).debugTitle} ${i(t).title} / ${i(t).id}`)},[()=>({"panel--active":i(t).open})]),u(e,r)},$$slots:{icon:!0,default:!0}});var s=X(n,2);Re(s,{class:"py-0 pe-0",children:(e,o)=>{var l=M(),a=D(l),n=e=>{var o=np();Ee(o,23,()=>i(t).objects,e=>e.id,(e,t,o)=>{var l=ap(),a=v(l),n=v(a),s=X(a,2),d=v(s);Ye(d,{onclick:e=>{e.preventDefault(),e.stopPropagation(),function(e){const t=co.get(e);if(void 0!==t&&t.choice){const e=app.useToolbarBtn?t.row.index:t.row.index+1,o=t.choice.index,i=r.mainDiv.children[e]?.children[1]?.children[1]?.children,l=void 0===i?r.mainDiv.children[e]:i[o];void 0!==l&&window.scrollTo({top:l.getBoundingClientRect().top+window.scrollY,behavior:"smooth"})}}(i(t).id)},size:"mini",children:(e,t)=>{dt(e,{class:"mdi mdi-target"})},$$slots:{default:!0}}),b(()=>re(n,`${i(o)+1}. ${i(t).debugTitle} ${i(t).title} / ${i(t).id}`)),u(e,l)}),u(e,o)};Y(a,e=>{void 0!==i(t).objects&&i(t).objects.length>0&&i(t).open&&e(n)}),u(e,l)},$$slots:{default:!0}}),u(e,a)},$$slots:{default:!0}})}),W(o,(e,t)=>mt?.(e,t),()=>({items:i(n),dropFromOthersDisabled:!0})),pe("consider",o,s),pe("finalize",o,d),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var c=X(a,2);ve(c,{children:(e,t)=>{ue(e,{action:"close",children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Close");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),g()}var gp=n('<div class="col-12 gy-2"><!></div>'),vp=n('<div class="col-sm-6 col-12 pt-2 pb-3"><!></div>'),hp=n('<div class="row"><div class="col-12 py-2"><div class="hide-file-ui"><!></div></div> <div class="col-12 py-3"><!></div> <!></div>'),pp=n('<div class="container-fluid"><div class="row"><div class="col-12 gy-2 pb-4"><div class="col-12">Sort The Choices In The Row</div> <!> <div class="col-12 pt-2"><!></div></div> <div class="col-12 gy-2"><div class="col-12">Copy Choices Into Another Row</div> <!> <div class="row gx-4 pt-2 pb-4"><div class="col-sm-6 col-12"><!></div> <div class="col-sm-6 col-12"><!></div></div></div> <!> <div class="col-12 gy-2 pb-5"><div class="col-12">Group Membership</div> <div class="col-12">- This is for displaying in the Result Row.</div> <div class="col-12">- For group-related functions, use Manage Groups feature.</div> <!></div> <div class="col-12 gy-2"><!> <!></div></div></div>'),mp=n("<!> <!> <!>",1),fp=n("<!> <!>",1);function bp(e,r){t(r,!0);const[a,n]=Ve();let s=h(r,"open",7),d=h(r,"row",7);const p=[{text:"Object Width - Biggest to smallest.",value:"1"},{text:"Object Width - Smallest to Biggest.",value:"2"},{text:"Text Length - Longest to Shortest.",value:"3"},{text:"Text Length - Shortest to Longest.",value:"4"}],m=[{action:()=>{c(f,"appRowDesign")},name:"Manage Row Design",text:"Here you can change the margin, padding, borders, and drop-shadow on rows."},{action:()=>{c(f,"appRowImage")},name:"Manage Row Image Design",text:"Here you can change the margin and padding of images on rows."},{action:()=>{c(f,"appChoiceDesign")},name:"Manage Choice Design",text:"Here you can change the margin, padding, borders, and drop-shadow on choices."},{action:()=>{c(f,"appChoiceImage")},name:"Manage Choices Image Design",text:"Here you can change the margin and padding of images on objects."},{action:()=>{c(f,"appAddonDesign")},name:"Manage Addon Design",text:"Here you can change the margin,padding, borders, and drop-shadow on Addon."},{action:()=>{c(f,"appAddonImage")},name:"Manage Addon Image Design",text:"Here you can change the margin and padding of images on Addon."},{action:()=>{c(f,"appFilter")},name:"Manage Filter Design",text:"Here you can change the filters for choices that are selectedand the one's you dont have the requirements for."},{action:()=>{c(f,"appBackground")},name:"Manage Background Design",text:"Here you can change the color and place images in the background of rows, choices and the whole project."},{action:()=>{c(f,"appText")},name:"Manage Text Design",text:"Here you can change the size, font andcolor of the text on titles and text."},{action:()=>{c(f,"appMultiChoice")},name:"Manage Multi Choice Design",text:"Here you can change the color, size and font of the  choices that can be selected multiple times."}];let f=l("none"),w=l("1"),I=l(""),x=l(null),$=Q(()=>{let e=[];return e.push("transition:opacity 0.1s;"),"none"!==i(f)&&e.push("opacity: 0;"),e.join(" ")});function T(){if(d().styling){const e={version:Ut,styling:{}};e.styling=d().styling;const t=JSON.stringify(e),o=new Blob([t],{type:"application/json"}),i=URL.createObjectURL(o),l=document.createElement("a"),r=`design_${ti()}.json`;l.href=i,l.download=r,l.click(),URL.revokeObjectURL(i)}}function y(){const e=new Map(io.map((e,t)=>[e.value,t])),t=io.length;"1"===i(w)?d().objects.sort((o,i)=>{const l=e.get(o.objectWidth)??t;return(e.get(i.objectWidth)??t)-l}):"2"===i(w)?d().objects.sort((o,i)=>(e.get(o.objectWidth)??t)-(e.get(i.objectWidth)??t)):"3"===i(w)?d().objects.sort((e,t)=>{const o=e.text.length,i=t.text.length;return o>i?-1:o<i?1:0}):"4"===i(w)&&d().objects.sort((e,t)=>{const o=e.text.length,i=t.text.length;return o<i?-1:o>i?1:0});for(let o=0;o<d().objects.length;o++)d().objects[o].index=o}function C(){if(""!==i(I)){const e=so.get(i(I));if(void 0!==e){const t=e.objects.length;e.objects.push(...d().objects),d().objects.splice(0);for(let o=t;o<e.objects.length;o++){const t=e.objects[o];t.index=o,co.set(t.id,{choice:t,row:e})}}}}function B(){if(""!==i(I)){const e=so.get(i(I));if(void 0!==e)for(let t=0;t<d().objects.length;t++){const o=JSON.parse(JSON.stringify(d().objects[t]));o.id=ui(0,app.objectIdLength),o.index=e.objects.length,o.isActive=!1;for(let e=0;e<o.scores.length;e++){const t=o.scores[e];t.idx=mi(0,5),fo.add(t.idx),delete t.isActive,delete t.setValue,delete t.discountIsOn,delete t.discountShow,delete t.discountBeforeText,delete t.discountAfterText,delete t.discountScore,delete t.discountScoreCal,delete t.isChangeDiscount,delete t.tmpDisScore,delete t.tmpDiscount,delete t.discountedFrom,delete t.dupTextA,delete t.dupTextB,delete t.discountTextA,delete t.discountTextB,delete t.notStackableDiscount}if(o.backpackBtnRequirement&&(void 0!==app.hideBackpackBtn?app.hideBackpackBtn+=1:delete o.backpackBtnRequirement),e.objects.push(o),co.set(o.id,{choice:o,row:e}),o.groups)for(let e=0;e<o.groups.length;e++){let t=uo.get(o.groups[e]);if(void 0!==t){-1===t.elements.indexOf(o.id)&&t.elements.push(o.id)}}if(o.objectDesignGroups)for(let e=0;e<o.objectDesignGroups.length;e++){let t=mo.get(o.objectDesignGroups[e]);if(void 0!==t){-1===t.elements.indexOf(o.id)&&t.elements.push(o.id)}}}}}o(()=>{if(null!==i(x)&&1===i(x).length&&"application/json"===i(x)[0].type){const e=new FileReader;e.onload=()=>{try{const t=JSON.parse(e.result),o=void 0===t.version||"2.0.0-beta"===t.version;let i;i=void 0===t.styling?rl.safeParse(t):rl.safeParse(t.styling),i.success?(Ai(i.data,o),function(e){const t=["bgColorIsOn","backgroundColor","isBackgroundRepeat","isBackgroundFitIn","backgroundImage"];Object.keys(eo).forEach(t=>{t in e&&delete e[t]}),Object.keys(to).forEach(t=>{t in e&&delete e[t]});for(let o=0;o<t.length;o++){const i=t[o];i in e&&delete e[i]}}(i.data),d().styling=i.data,function(e){d().privateFilterIsOn=Object.keys(Gt).some(t=>t in e),d().privateTextIsOn=Object.keys(Et).some(t=>t in e),d().privateObjectImageIsOn=Object.keys(Ht).some(t=>t in e),d().privateRowImageIsOn=Object.keys(_t).some(t=>t in e),d().privateAddonImageIsOn=Object.keys(Jt).some(t=>t in e),d().privateBackgroundIsOn=Object.keys(Yt).some(t=>t in e),d().privateObjectIsOn=Object.keys(Xt).some(t=>t in e),d().privateRowIsOn=Object.keys(Zt).some(t=>t in e),d().privateAddonIsOn=Object.keys(Kt).some(t=>t in e),d().privateMultiChoiceIsOn=Object.keys(Qt).some(t=>t in e)}(i.data),Co.labelText="Data loaded successfully.",Co.isOpen=!0):(Co.labelText="Filed to load data.",Co.isOpen=!0,console.error(i.error))}catch(t){console.log(t)}},e.readAsText(i(x)[0])}});var S=fp(),k=D(S);const O=Q(()=>"none"===i(f)?"close":"");se(k,{get escapeKeyAction(){return i(O)},surface$style:"width: 600px; max-width: calc(100vw - 32px);",get onSMUIDialogClosed(){return r.onclose},get style(){return i($)},get open(){return s()},set open(e){s(e)},children:(e,t)=>{var o=mp(),l=D(o);de(l,{tabindex:0,autofocus:!0,children:(e,t)=>{var o=le("Row Settings");u(e,o)},$$slots:{default:!0}});var r=X(l,2);ce(r,{children:(e,t)=>{var o=pp(),l=v(o),r=v(l),n=X(v(r),2);ia(n,{label:"Sort By...",variant:"filled",get value(){return i(w)},set value(e){c(w,e,!0)},children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>p,e=>e.text,(e,t)=>{la(e,{get value(){return i(t).value},children:(e,o)=>{var l=le();b(()=>re(l,i(t).text)),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}});var s=X(n,2),g=v(s);ue(g,{onclick:y,variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Sort");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var h=X(r,2),f=X(v(h),2);ks(f,{get options(){return We(Mo,"$optimizedRows",a)},get getOptionLabel(){return ri},label:"Copy this row's choices into...",toggle:!0,showMenuWithNoInput:!0,textfield$variant:"filled",class:"w-100",get value(){return i(I)},set value(e){c(I,e,!0)}});var $=X(f,2),S=v($),k=v(S);ue(k,{onclick:B,variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Copy");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var O=X(S,2),F=v(O);ue(F,{onclick:C,variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Copy and Delete");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var R=X(h,2),A=e=>{var t=gp(),o=v(t);Jl(o,{get value(){return d().objectImgObjectFillHeight??0},set value(e){var t;t=e,d().objectImgObjectFillHeight=t},label:"Height of Image Container",type:"number",input$min:0,onchange:()=>{void 0!==d().objectImgObjectFillHeight&&d().objectImgObjectFillHeight<0&&(d().objectImgObjectFillHeight=0)},class:"w-100"}),u(e,t)};Y(R,e=>{app.styling.objectImgObjectFillIsOn&&e(A)});var j=X(R,2);ks(X(v(j),6),{get options(){return We(Lo,"$optimizedGroups",a)},label:"All choices In Row Are Members Of This Group In Result Row",toggle:!0,showMenuWithNoInput:!0,textfield$variant:"filled",class:"w-100",get value(){return d().resultGroupId},set value(e){d().resultGroupId=e}});var P=X(j,2),q=v(P);Se(q,{class:"ml-4 mb-2",label:e=>{var t=le("Use private styling?");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return d().isPrivateStyling??!1},set checked(e){e?(d().isPrivateStyling=!0,d().styling={}):(delete d().isPrivateStyling,delete d().privateFilterIsOn,delete d().privateTextIsOn,delete d().privateObjectImageIsOn,delete d().privateObjectIsOn,delete d().privateRowImageIsOn,delete d().privateRowIsOn,delete d().privateAddonImageIsOn,delete d().privateAddonIsOn,delete d().privateBackgroundIsOn,delete d().privateMultiChoiceIsOn,delete d().styling)},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var L=X(q,2),W=e=>{var t=hp(),o=v(t),l=v(o);Jl(v(l),{label:"Import Design",type:"file",input$accept:"application/json",class:"w-100",get files(){return i(x)},set files(e){c(x,e,!0)}});var r=X(o,2),a=v(r);Dt(a,{text:"Here you can export your design.",children:(e,t)=>{ue(e,{onclick:T,variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Export Design");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}});var n=X(r,2);Ee(n,17,()=>m,He,(e,t,o)=>{var i=vp(),l=v(i);Dt(l,{get text(){return m[o].text},children:(e,t)=>{ue(e,{get onclick(){return m[o].action},variant:"raised",children:(e,t)=>{ge(e,{class:"line-default",children:(e,t)=>{var i=le();b(()=>re(i,m[o].name)),u(e,i)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,i)}),u(e,t)};Y(L,e=>{d().isPrivateStyling&&e(W)}),u(e,o)},$$slots:{default:!0}});var n=X(r,2);ve(n,{children:(e,t)=>{ue(e,{action:"close",children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Close");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}});var F=X(k,2),R=e=>{const t=Q(()=>"appRowDesign"===i(f));Nn(e,{get open(){return i(t)},onclose:()=>c(f,"none"),get data(){return d()}})},A=(e,t)=>{var o=e=>{const t=Q(()=>"appRowImage"===i(f));_n(e,{get open(){return i(t)},onclose:()=>c(f,"none"),get data(){return d()}})},l=(e,t)=>{var o=e=>{const t=Q(()=>"appChoiceDesign"===i(f));nn(e,{get open(){return i(t)},onclose:()=>c(f,"none"),get data(){return d()}})},l=(e,t)=>{var o=e=>{const t=Q(()=>"appChoiceImage"===i(f));vn(e,{get open(){return i(t)},onclose:()=>c(f,"none"),get data(){return d()}})},l=(e,t)=>{var o=e=>{const t=Q(()=>"appAddonDesign"===i(f));xa(e,{get open(){return i(t)},onclose:()=>c(f,"none"),get data(){return d()}})},l=(e,t)=>{var o=e=>{const t=Q(()=>"appAddonImage"===i(f));ka(e,{get open(){return i(t)},onclose:()=>c(f,"none"),get data(){return d()}})},l=(e,t)=>{var o=e=>{const t=Q(()=>"appFilter"===i(f));wn(e,{get open(){return i(t)},onclose:()=>c(f,"none"),get data(){return d()}})},l=(e,t)=>{var o=e=>{const t=Q(()=>"appBackground"===i(f));Na(e,{get open(){return i(t)},onclose:()=>c(f,"none"),get data(){return d()}})},l=(e,t)=>{var o=e=>{const t=Q(()=>"appText"===i(f));Qn(e,{get open(){return i(t)},onclose:()=>c(f,"none"),get data(){return d()}})},l=(e,t)=>{var o=e=>{const t=Q(()=>"appMultiChoice"===i(f));Cn(e,{get open(){return i(t)},onclose:()=>c(f,"none"),get data(){return d()}})};Y(e,e=>{"appMultiChoice"===i(f)&&e(o)},t)};Y(e,e=>{"appText"===i(f)?e(o):e(l,!1)},t)};Y(e,e=>{"appBackground"===i(f)?e(o):e(l,!1)},t)};Y(e,e=>{"appFilter"===i(f)?e(o):e(l,!1)},t)};Y(e,e=>{"appAddonImage"===i(f)?e(o):e(l,!1)},t)};Y(e,e=>{"appAddonDesign"===i(f)?e(o):e(l,!1)},t)};Y(e,e=>{"appChoiceImage"===i(f)?e(o):e(l,!1)},t)};Y(e,e=>{"appChoiceDesign"===i(f)?e(o):e(l,!1)},t)};Y(e,e=>{"appRowImage"===i(f)?e(o):e(l,!1)},t)};Y(F,e=>{"appRowDesign"===i(f)?e(R):e(A,!1)}),u(e,S),g(),n()}var wp=n('<div class="col-12 gy-2"><!></div>'),Ip=n('<div class="col-sm-6 col-12 pt-2 pb-3"><!></div>'),xp=n('<div class="row"><div class="col-12 py-2"><div class="hide-file-ui"><!></div></div> <div class="col-12 py-3"><!></div> <!></div>'),$p=n('<div class="container-fluid"><div class="row"><div class="col-12 gy-2 pb-5"><div class="col-12">Copy Choice Into Another Row</div> <!> <div class="col-12"><!></div></div> <!> <div class="col-12 gy-2"><!> <!></div></div></div>'),Tp=n("<!> <!> <!>",1),yp=n("<!> <!>",1);function Cp(e,r){t(r,!0);const[a,n]=Ve();let s=h(r,"open",7),d=h(r,"choice",7);const p=[{action:()=>{c(m,"appChoiceDesign")},name:"Manage Choice Design",text:"Here you can change the margin, padding, borders, and drop-shadow on choices."},{action:()=>{c(m,"appChoiceImage")},name:"Manage Choices Image Design",text:"Here you can change the margin and padding of images on objects."},{action:()=>{c(m,"appAddonDesign")},name:"Manage Addon Design",text:"Here you can change the margin,padding, borders, and drop-shadow on Addon."},{action:()=>{c(m,"appAddonImage")},name:"Manage Addon Image Design",text:"Here you can change the margin and padding of images on Addon."},{action:()=>{c(m,"appFilter")},name:"Manage Filter Design",text:"Here you can change the filters for choices that are selectedand the one's you dont have the requirements for."},{action:()=>{c(m,"appBackground")},name:"Manage Background Design",text:"Here you can change the color and place images in the background of rows, choices and the whole project."},{action:()=>{c(m,"appText")},name:"Manage Text Design",text:"Here you can change the size, font andcolor of the text on titles and text."},{action:()=>{c(m,"appMultiChoice")},name:"Manage Multi Choice Design",text:"Here you can change the color, size and font of the  choices that can be selected multiple times."}];co.get(d().id)?.row.id;let m=l("none"),f=l(""),w=l(null),I=Q(()=>{let e=[];return e.push("transition:opacity 0.1s;"),"none"!==i(m)&&e.push("opacity: 0;"),e.join(" ")});function x(){if(d().styling){const e={version:Ut,styling:{}};e.styling=d().styling;const t=JSON.stringify(e),o=new Blob([t],{type:"application/json"}),i=URL.createObjectURL(o),l=document.createElement("a"),r=`design_${ti()}.json`;l.href=i,l.download=r,l.click(),URL.revokeObjectURL(i)}}function $(){if(""!==i(f)){const e=so.get(i(f));if(void 0!==e){const t=JSON.parse(JSON.stringify(d()));t.id=ui(0,app.objectIdLength),t.index=e.objects.length,t.isActive=!1;for(let e=0;e<t.scores.length;e++){const o=t.scores[e];o.idx=mi(0,5),fo.add(o.idx),delete o.isActive,delete o.setValue,delete o.discountIsOn,delete o.discountShow,delete o.discountBeforeText,delete o.discountAfterText,delete o.discountScore,delete o.discountScoreCal,delete o.isChangeDiscount,delete o.tmpDisScore,delete o.tmpDiscount,delete o.discountedFrom,delete o.dupTextA,delete o.dupTextB,delete o.discountTextA,delete o.discountTextB,delete o.notStackableDiscount}if(t.backpackBtnRequirement&&(void 0!==app.hideBackpackBtn?app.hideBackpackBtn+=1:delete t.backpackBtnRequirement),e.objects.push(t),co.set(t.id,{choice:t,row:e}),t.groups)for(let e=0;e<t.groups.length;e++){let o=uo.get(t.groups[e]);if(void 0!==o){-1===o.elements.indexOf(t.id)&&o.elements.push(t.id)}}if(t.objectDesignGroups)for(let e=0;e<t.objectDesignGroups.length;e++){let o=mo.get(t.objectDesignGroups[e]);if(void 0!==o){-1===o.elements.indexOf(t.id)&&o.elements.push(t.id)}}}}}o(()=>{if(null!==i(w)&&1===i(w).length&&"application/json"===i(w)[0].type){const e=new FileReader;e.onload=()=>{try{const t=JSON.parse(e.result),o=void 0===t.version||"2.0.0-beta"===t.version;let i;i=void 0===t.styling?rl.safeParse(t):rl.safeParse(t.styling),i.success?(Ai(i.data,o),function(e){const t=["bgColorIsOn","backgroundColor","rowBgColorIsOn","rowBgColor","isBackgroundRepeat","isBackgroundFitIn","backgroundImage","isRowBackgroundRepeat","isRowBackgroundFitIn","rowBackgroundImage"];Object.keys(Zt).forEach(t=>{t in e&&delete e[t]}),Object.keys(_t).forEach(t=>{t in e&&delete e[t]}),Object.keys(eo).forEach(t=>{t in e&&delete e[t]}),Object.keys(to).forEach(t=>{t in e&&delete e[t]});for(let o=0;o<t.length;o++){const i=t[o];i in e&&delete e[i]}}(i.data),d().styling=i.data,function(e){d().privateFilterIsOn=Object.keys(Gt).some(t=>t in e),d().privateTextIsOn=Object.keys(Et).some(t=>t in e),d().privateObjectImageIsOn=Object.keys(Ht).some(t=>t in e),d().privateAddonImageIsOn=Object.keys(Jt).some(t=>t in e),d().privateBackgroundIsOn=Object.keys(Yt).some(t=>t in e),d().privateObjectIsOn=Object.keys(Xt).some(t=>t in e),d().privateAddonIsOn=Object.keys(Kt).some(t=>t in e),d().privateMultiChoiceIsOn=Object.keys(Qt).some(t=>t in e)}(i.data),Co.labelText="Data loaded successfully.",Co.isOpen=!0):(Co.labelText="Filed to load data.",Co.isOpen=!0,console.error(i.error))}catch(t){console.log(t)}},e.readAsText(i(w)[0])}});var T=yp(),y=D(T);const C=Q(()=>"none"===i(m)?"close":"");se(y,{get escapeKeyAction(){return i(C)},surface$style:"width: 600px; max-width: calc(100vw - 32px);",get onSMUIDialogClosed(){return r.onclose},get style(){return i(I)},get open(){return s()},set open(e){s(e)},children:(e,t)=>{var o=Tp(),l=D(o);de(l,{tabindex:0,autofocus:!0,children:(e,t)=>{var o=le("Choice Settings");u(e,o)},$$slots:{default:!0}});var r=X(l,2);ce(r,{children:(e,t)=>{var o=$p(),l=v(o),r=v(l),n=X(v(r),2);ks(n,{get options(){return We(Mo,"$optimizedRows",a)},get getOptionLabel(){return ri},label:"Copy this choice into...",toggle:!0,showMenuWithNoInput:!0,textfield$variant:"filled",class:"w-100",get value(){return i(f)},set value(e){c(f,e,!0)}});var s=X(n,2),g=v(s);ue(g,{onclick:$,variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Copy");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var h=X(r,2),m=e=>{var t=wp(),o=v(t);Jl(o,{get value(){return d().addonImgObjectFillHeight??0},set value(e){var t;t=e,d().addonImgObjectFillHeight=t},label:"Height of Image Container",type:"number",input$min:0,onchange:()=>{void 0!==d().addonImgObjectFillHeight&&d().addonImgObjectFillHeight<0&&(d().addonImgObjectFillHeight=0)},class:"w-100"}),u(e,t)};Y(h,e=>{app.styling.useAddonDesign&&app.styling.addonImgObjectFillIsOn&&e(m)});var I=X(h,2),T=v(I);Se(T,{class:"ml-4 mb-2",label:e=>{var t=le("Use private styling?");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return d().isPrivateStyling??!1},set checked(e){var t;t=e,d().isPrivateStyling=t},onSMUISwitchChange:()=>{d().isPrivateStyling?d().styling={}:(delete d().isPrivateStyling,delete d().privateFilterIsOn,delete d().privateTextIsOn,delete d().privateObjectImageIsOn,delete d().privateObjectIsOn,delete d().privateAddonImageIsOn,delete d().privateAddonIsOn,delete d().privateBackgroundIsOn,delete d().privateMultiChoiceIsOn,delete d().styling)},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var y=X(T,2),C=e=>{var t=xp(),o=v(t),l=v(o);Jl(v(l),{label:"Import Design",type:"file",input$accept:"application/json",class:"w-100",get files(){return i(w)},set files(e){c(w,e,!0)}});var r=X(o,2),a=v(r);Dt(a,{text:"Here you can export your design.",children:(e,t)=>{ue(e,{onclick:x,variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Export Design");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}});var n=X(r,2);Ee(n,17,()=>p,He,(e,t,o)=>{var i=Ip(),l=v(i);Dt(l,{get text(){return p[o].text},children:(e,t)=>{ue(e,{get onclick(){return p[o].action},variant:"raised",children:(e,t)=>{ge(e,{class:"line-default",children:(e,t)=>{var i=le();b(()=>re(i,p[o].name)),u(e,i)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,i)}),u(e,t)};Y(y,e=>{d().isPrivateStyling&&e(C)}),u(e,o)},$$slots:{default:!0}});var n=X(r,2);ve(n,{children:(e,t)=>{ue(e,{action:"close",children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Close");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}});var B=X(y,2),S=e=>{const t=Q(()=>"appChoiceDesign"===i(m));nn(e,{get open(){return i(t)},onclose:()=>c(m,"none"),get data(){return d()}})},k=(e,t)=>{var o=e=>{const t=Q(()=>"appChoiceImage"===i(m));vn(e,{get open(){return i(t)},onclose:()=>c(m,"none"),get data(){return d()}})},l=(e,t)=>{var o=e=>{const t=Q(()=>"appAddonDesign"===i(m));xa(e,{get open(){return i(t)},onclose:()=>c(m,"none"),get data(){return d()}})},l=(e,t)=>{var o=e=>{const t=Q(()=>"appAddonImage"===i(m));ka(e,{get open(){return i(t)},onclose:()=>c(m,"none"),get data(){return d()}})},l=(e,t)=>{var o=e=>{const t=Q(()=>"appFilter"===i(m));wn(e,{get open(){return i(t)},onclose:()=>c(m,"none"),get data(){return d()}})},l=(e,t)=>{var o=e=>{const t=Q(()=>"appBackground"===i(m));Na(e,{get open(){return i(t)},onclose:()=>c(m,"none"),get data(){return d()}})},l=(e,t)=>{var o=e=>{const t=Q(()=>"appText"===i(m));Qn(e,{get open(){return i(t)},onclose:()=>c(m,"none"),get data(){return d()}})},l=(e,t)=>{var o=e=>{const t=Q(()=>"appMultiChoice"===i(m));Cn(e,{get open(){return i(t)},onclose:()=>c(m,"none"),get data(){return d()}})};Y(e,e=>{"appMultiChoice"===i(m)&&e(o)},t)};Y(e,e=>{"appText"===i(m)?e(o):e(l,!1)},t)};Y(e,e=>{"appBackground"===i(m)?e(o):e(l,!1)},t)};Y(e,e=>{"appFilter"===i(m)?e(o):e(l,!1)},t)};Y(e,e=>{"appAddonImage"===i(m)?e(o):e(l,!1)},t)};Y(e,e=>{"appAddonDesign"===i(m)?e(o):e(l,!1)},t)};Y(e,e=>{"appChoiceImage"===i(m)?e(o):e(l,!1)},t)};Y(B,e=>{"appChoiceDesign"===i(m)?e(S):e(k,!1)}),u(e,T),g(),n()}var Bp=n("<div> </div>"),Sp=n('<div class="row gx-0 ps-2 py-2 justify-space-between align-items-center"><div class="col"> </div></div>'),kp=n('<div class="container-fluid p-0"></div>'),Op=n("<!> <!>",1),Fp=n("<section></section>"),Rp=n("<!> <!> <!>",1);function Ap(o,r){t(r,!0);let a=h(r,"open",7),n=h(r,"row",7),s=l(e(JSON.parse(JSON.stringify(n().objects.map(({id:e,debugTitle:t,title:o,addons:i})=>({id:e,debugTitle:null!=t?t:"",title:o,addons:i.map(({title:e})=>({title:e}))}))))));function d(e){c(s,e.detail.items,!0)}function p(e){c(s,e.detail.items,!0);const t=i(s).map(e=>e.id);n().objects=t.map(e=>n().objects.find(t=>t.id===e)).filter(Boolean);for(let o=0;o<n().objects.length;o++)n().objects[o].index=o}se(o,{surface$style:"width: 600px; max-width: calc(100vw - 32px);",get onSMUIDialogClosed(){return r.onclose},get open(){return a()},set open(e){a(e)},children:(e,t)=>{var o=Rp(),l=D(o);de(l,{class:"dialog-title",children:(e,t)=>{var o=le("Choices");u(e,o)},$$slots:{default:!0}});var a=X(l,2);ce(a,{class:"p-0",children:(e,t)=>{Gs(e,{multiple:!0,children:(e,t)=>{var o=Fp();Ee(o,23,()=>i(s),e=>e.id,(e,t,o)=>{Es(e,{class:"m-0",get open(){return null!=i(t).open&&i(t).open},set open(e){var o;o=e,i(t).open=o},conditionalRender:!0,children:(e,l)=>{var a=Op(),n=D(a);Xs(n,{icon:e=>{Ye(e,{onclick:e=>{e.preventDefault(),e.stopPropagation(),function(e){const t=co.get(e);if(void 0!==t&&t.choice){const e=t.row.index+1,o=t.choice.index+1,i=r.mainDiv.children[e]?.children[1]?.children[1]?.children;void 0!==i&&void 0!==i[o]&&window.scrollTo({top:i[o].getBoundingClientRect().top+window.scrollY,behavior:"smooth"})}}(i(t).id)},size:"mini",children:(e,t)=>{dt(e,{class:"mdi mdi-target"})},$$slots:{default:!0}})},children:(e,l)=>{var r=Bp();let a;var n=v(r);b(e=>{a=w(r,1,"",null,a,e),re(n,`${i(o)+1}. ${i(t).debugTitle} ${i(t).title} / ${i(t).id}`)},[()=>({"panel--active":i(t).open})]),u(e,r)},$$slots:{icon:!0,default:!0}});var s=X(n,2);Re(s,{class:"py-0 pe-0",children:(e,o)=>{var l=M(),r=D(l),a=e=>{var o=kp();Ee(o,21,()=>i(t).addons,He,(e,t,o)=>{var l=Sp(),r=v(l),a=v(r);b(()=>re(a,`${o+1}. ${i(t).title}`)),u(e,l)}),u(e,o)};Y(r,e=>{void 0!==i(t).addons&&i(t).addons.length>0&&i(t).open&&e(a)}),u(e,l)},$$slots:{default:!0}}),u(e,a)},$$slots:{default:!0}})}),W(o,(e,t)=>mt?.(e,t),()=>({items:i(s),dropFromOthersDisabled:!0})),pe("consider",o,d),pe("finalize",o,p),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var n=X(a,2);ve(n,{children:(e,t)=>{ue(e,{action:"close",children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Close");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),g()}let jp=0;var Mp=n("<div><!></div>");var Dp=n('<span class="title--text">Custom CSS</span> <!>',1),Pp=n('<div class="container-fluid"><div class="row"><div class="col-sm-6 col-12"><!></div> <div class="col-sm-6 col-12"><!></div></div></div>'),qp=n("<!> <!> <!>",1);var Lp=n('<div class="col-12 px-3 mt-0"><!></div>'),Wp=n('<div class="container-fluid p-0"><div class="row gy-3"><div class="col-12"><!></div> <!> <div class="col-12"><!></div> <div class="col-12"><!></div> <div class="col-12"><!></div> <div class="col-12"><!></div></div></div>'),Vp=n('<div class="container-fluid p-0"><div class="row gy-3"><div class="col-12"><!></div> <div class="col-12"><!></div> <div class="col-12"><!></div> <div class="col-12"><!></div> <div class="col-12"><!></div> <div class="col-12"><!></div> <div class="col-12 px-3"><!></div> <div class="col-12 px-3"><!></div> <div class="col-12"><!></div></div></div>'),Np=n('<div class="container-fluid p-0"><div class="row gy-3"><div class="col-12"><!></div> <div class="col-12"><!></div> <div class="col-12"><!></div> <div class="col-12"><!></div> <div class="col-12"><!></div> <div class="col-12"><!></div></div></div>'),zp=n("Enter the URL of the CSS file to import. (e.g. https://yourlink/font.css)<br/>The URL must support cross-origin requests (CORS).",1),Up=n("<!> <!>",1),Gp=n("<!> <!>",1),Ep=n('<i class="mdi mdi-trash-can"></i>'),Hp=n('<div class="col-12"><!></div>'),_p=n('<div class="container-fluid p-0"><div class="row gy-3"><div class="col-12"><!></div> <div class="col-12 px-3"><!></div> <div class="col-12"><!></div> <div class="col-10"><!></div> <div class="col-2 d-flex align-items-center justify-center"><!></div> <!> <div class="col-12"><span>Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry\'s standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum.</span></div></div></div>'),Jp=n("<!> <!>",1),Yp=n("<!> <!> <!>",1),Xp=n("<!> <!>",1);function Zp(o,r){t(r,!0);let a=h(r,"open",7);const n=[{text:"2 Per Row",value:"col-6"},{text:"3 Per Row",value:"col-4"},{text:"4 Per Row",value:"col-3"}];let s=l("General"),w=l(!1),I=l(""),x=l(""),$=l("Times New Roman"),T=l("none"),y=Q(()=>`font-family: ${i($)}`),C=Q(()=>{let e=[];return e.push("transition:opacity 0.1s;"),"none"!==i(T)&&e.push("opacity: 0;"),e.join(" ")});function B(){Ho&&Ho.abort(),Yo()}async function S(){if(i(w)){const t=app.customFonts.indexOf(i(I));if(""!==i(I))if(-1===t)try{const e=await fetch(i(I),{method:"GET",mode:"cors"});if(e.ok){const e=document.createElement("link");e.id=i(I),e.rel="stylesheet",e.href=i(I),e.crossOrigin="anonymous",document.head.appendChild(e),app.customFonts.push(i(I)),Co.labelText="Font imported successfully."}else Co.labelText="Unable to access the URL. Please check the URL.",Co.isOpen=!0,console.log(e.status)}catch(e){Co.labelText="Unable to access the URL. This might be due to a network issue or CORS restriction.",Co.isOpen=!0,console.log(e)}else Co.labelText="This URL has already been added.",Co.isOpen=!0;else Co.labelText="Please enter a URL.",Co.isOpen=!0}else{const t=app.googleFonts.indexOf(i(I));if(""!==i(I))if(-1===t){const t=i(I).replace(/ /g,"+");console.log(t);const o=`https://fonts.googleapis.com/css2?family=${t}&display=swap`;try{const e=await fetch(o,{method:"GET",mode:"cors"});if(e.ok){const e=document.createElement("link");e.id=t,e.rel="stylesheet",e.href=o,e.crossOrigin="anonymous",document.head.appendChild(e),app.googleFonts.push(i(I)),ao.push(i(I)),Co.labelText="Font imported successfully.",Co.isOpen=!0}else Co.labelText="Unable to load the font. Please check the font name.",Co.isOpen=!0,console.log(e.status)}catch(e){Co.labelText="Unable to access the Google Fonts. Please check the font name.",Co.isOpen=!0,console.log(e)}}else Co.labelText="This font has already been added.",Co.isOpen=!0;else Co.labelText="Please enter a Font name.",Co.isOpen=!0}}function k(){if(i(w)){const e=app.customFonts.indexOf(i(x)),t=document.getElementById(i(x));c(x,""),-1!==e&&app.customFonts.splice(e,1),t&&t.remove()}else{const e=i($).replace(/ /g,"+"),t=app.googleFonts.indexOf(i($)),o=ao.indexOf(i($)),l=document.getElementById(e);c($,"Times New Roman"),-1!==t&&app.googleFonts.splice(t,1),-1!==o&&ao.splice(o,1),l&&l.remove()}}var F=Xp(),R=D(F);const A=Q(()=>"none"===i(T)?"close":"");se(R,{surface$style:"width: 600px; max-width: calc(100vw - 32px);",get escapeKeyAction(){return i(A)},get onSMUIDialogClosed(){return r.onclose},get style(){return i(C)},get open(){return a()},set open(e){a(e)},children:(o,r)=>{var a=Yp(),C=D(a);de(C,{class:"text-left dialog-title",tabindex:0,autofocus:!0,children:(e,t)=>{var o=le("Global Settings");u(e,o)},$$slots:{default:!0}});var F=X(C,2);ce(F,{children:(o,r)=>{var a=Jp(),C=D(a);{const e=(e,t=f)=>{Ae(e,{get tab(){return t()},children:(e,o)=>{ge(e,{children:(e,o)=>{var i=le();b(()=>re(i,t())),u(e,i)},$$slots:{default:!0}})},$$slots:{default:!0}})};Oe(C,{tabs:["General","Advanced","Display","Fonts"],get active(){return i(s)},set active(e){c(s,e,!0)},tab:e,$$slots:{tab:!0}})}var F=X(C,2),R=e=>{Fe(e,{role:"tabpanel",variant:"unelevated",children:(e,t)=>{Re(e,{children:(e,t)=>{var o=Wp(),i=v(o),l=v(i),r=v(l);Se(r,{label:e=>{var t=le("Enable Auto Save");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return app.autoSaveIsOn??!1},set checked(e){var t;t=e,app.autoSaveIsOn=t},onSMUISwitchChange:()=>{app.autoSaveIsOn&&B()},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var a=X(l,2),n=e=>{var t=Lp(),o=v(t);Jl(o,{get value(){return app.autoSaveInterval??10},set value(e){var t;t=e,app.autoSaveInterval=t},label:"Auto Save Interval",type:"number",suffix:"min",variant:"standard",style:"max-width: 200px",input$class:"text-right",input$min:"1",onchange:()=>{app.autoSaveInterval<1&&(app.autoSaveInterval=1),B()}}),u(e,t)};Y(a,e=>{app.autoSaveIsOn&&e(n)});var s=X(a,2),d=v(s);Se(d,{label:e=>{var t=le("Enable Mode Switch Shortcuts");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return app.enableShortcut??!1},set checked(e){var t;t=e,app.enableShortcut=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var c=X(s,2),g=v(c);Se(g,{label:e=>{var t=le("Enable the Save/Load Build Feature");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return app.importedChoicesIsOpen??!1},set checked(e){var t;t=e,app.importedChoicesIsOpen=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var h=X(c,2),p=v(h);Se(p,{label:e=>{var t=le("Confirm Before Deleting a Row");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return app.checkDeleteRow??!1},set checked(e){var t;t=e,app.checkDeleteRow=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var m=X(h,2),f=v(m);Se(f,{label:e=>{var t=le("Confirm Before Deleting a Choice");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return app.checkDeleteObject??!1},set checked(e){var t;t=e,app.checkDeleteObject=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},A=(o,r)=>{var a=e=>{Fe(e,{role:"tabpanel",variant:"unelevated",children:(e,t)=>{Re(e,{children:(e,t)=>{var o=Vp(),i=v(o),l=v(i),r=v(l);Se(r,{label:e=>{var t=le("Enable Auto Image Compression");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return app.compressImageAuto??!1},set checked(e){var t;t=e,app.compressImageAuto=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var a=X(l,2),n=v(a);Se(n,{label:e=>{var t=le("Preload Images in Backpack");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return app.preloadImages??!1},set checked(e){var t;t=e,app.preloadImages=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var s=X(a,2),d=v(s);Se(d,{label:e=>{var t=le("Preload External Images in Viewer");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return app.preloadExternalImages??!1},set checked(e){var t;t=e,app.preloadExternalImages=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var g=X(s,2),h=v(g);Se(h,{label:e=>{var t=le("Use Viewport Units for Default Font Size");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return app.useVW??!1},set checked(e){var t;t=e,app.useVW=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var p=X(g,2),m=v(p);Se(m,{label:e=>{var t=le("Use Pointer Cursor on Hover Over Choices");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return app.isPointerCursor??!1},set checked(e){var t;t=e,app.isPointerCursor=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var f=X(p,2),b=v(f);Se(b,{label:e=>{var t=le("Add Prefix to ID on Creation");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return app.addPrefix??!1},set checked(e){var t;t=e,app.addPrefix=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var w=X(f,2),I=v(w);Jl(I,{get value(){return app.rowIdLength??4},set value(e){var t;t=e,app.rowIdLength=t},label:"Length of Row Id to be generated",type:"number",variant:"standard",input$min:"4",onchange:()=>{app.rowIdLength<4&&(app.rowIdLength=4)}});var x=X(w,2),$=v(x);Jl($,{get value(){return app.objectIdLength??4},set value(e){var t;t=e,app.objectIdLength=t},label:"Length of Choice Id to be generated",type:"number",variant:"standard",input$min:"4",onchange:()=>{app.objectIdLength<4&&(app.objectIdLength=4)}});var y=X(x,2),C=v(y);ue(C,{onclick:()=>c(T,"appCustomCss"),variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Open Custom CSS");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},C=(o,r)=>{var a=e=>{Fe(e,{role:"tabpanel",variant:"unelevated",children:(e,t)=>{Re(e,{children:(e,t)=>{var o=Np(),l=v(o),r=v(l);{const e=e=>{var t=le("Maximum Number of Choices per Row for Screens Between 720px and 1280px.");u(e,t)};ia(v(r),{label:"Choices Per Row",variant:"standard",alwaysFloat:!0,get value(){return app.objectsPerRow},set value(e){app.objectsPerRow=e},helperText:e,children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>n,e=>e.text,(e,t)=>{la(e,{get value(){return i(t).value},children:(e,o)=>{var l=le();b(()=>re(l,i(t).text)),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{helperText:!0,default:!0}})}var a=X(r,2),s=v(a);Se(s,{label:e=>{var t=le("Hide 'Scores Updated On' Message");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return app.hideScoresUpdated??!1},set checked(e){var t;t=e,app.hideScoresUpdated=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var d=X(a,2),c=v(d);Se(c,{label:e=>{var t=le("Hide Debug Title of Choices");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return app.hideChoiceDT??!1},set checked(e){var t;t=e,app.hideChoiceDT=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var g=X(d,2),h=v(g);Se(h,{label:e=>{var t=le("Hide Images in the Edit Mode");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return app.hideImages??!1},set checked(e){var t;t=e,app.hideImages=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var p=X(g,2),m=v(p);Se(m,{label:e=>{var t=le("Show Background Music Player");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return app.showMusicPlayer??!1},set checked(e){var t;t=e,app.showMusicPlayer=t},color:"secondary",class:"switch-scale",onSMUISwitchChange:()=>{if(app.showMusicPlayer){const e=O($o);if(e){let t=0,o=0;0!==To.bgmTitleInterval&&(clearInterval(To.bgmTitleInterval),To.bgmTitleInterval=0),To.bgmTitleInterval=window.setInterval(()=>{if(void 0!==e.playerInfo.videoData&&""!==To.bgmObjectId){const t=co.get(To.bgmObjectId);if(void 0!==t){const o=t.choice;e.playerInfo.videoData.video_id===o.bgmId&&void 0!==e.playerInfo.videoData.title&&""!==e.playerInfo.videoData.title&&(To.bgmTitle=e.playerInfo.videoData.title,To.curBgmLength=e.getDuration(),clearInterval(To.bgmTitleInterval),To.bgmTitleInterval=0)}}},1e3),0!==To.bgmPlayInterval&&(clearInterval(To.bgmPlayInterval),To.bgmPlayInterval=0),To.bgmPlayInterval=window.setInterval(()=>{if(void 0!==e.playerInfo.videoData&&!To.isSeeking&&1===e.getPlayerState()){const i=Math.floor(e.getCurrentTime());i!==To.curBgmTime?t!==i?To.curBgmTime=i:(o++,o>To.curBgmLength&&(o=1),To.curBgmTime=o):(t=i,o=i+1,To.curBgmTime=o)}},1e3)}}else To.bgmIsPlaying&&(0!==To.bgmTitleInterval&&(clearInterval(To.bgmTitleInterval),To.bgmTitleInterval=0),0!==To.bgmPlayInterval&&(clearInterval(To.bgmPlayInterval),To.bgmPlayInterval=0))}})},$$slots:{label:!0,default:!0}});var f=X(p,2),w=v(f);Se(w,{label:e=>{var t=le("Use Toolbar Button to Add Row");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return app.useToolbarBtn??!1},set checked(e){var t;t=e,app.useToolbarBtn=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},T=(o,r)=>{var a=o=>{Fe(o,{role:"tabpanel",variant:"unelevated",children:(o,r)=>{Re(o,{children:(o,r)=>{var a=_p(),n=v(a),s=v(n),T=v(s);Se(T,{label:e=>{var t=le("Import Custom Font from URL");u(e,t)},children:(e,t)=>{ke(e,{color:"secondary",class:"switch-scale",get checked(){return i(w)},set checked(e){c(w,e,!0)}})},$$slots:{label:!0,default:!0}});var C=X(s,2),B=v(C);const O=Q(()=>i(w)?"Font URL":"Font Name");{const o=o=>{!function(o,r){t(r,!0);let a,n=h(r,"use",19,()=>[]),s=h(r,"class",3,""),w=h(r,"id",19,()=>"SMUI-textfield-helper-text-"+jp++),I=h(r,"persistent",3,!1),x=h(r,"validationMsg",3,!1),$=P(r,["$$slots","$$events","$$legacy","use","class","id","persistent","validationMsg","children"]),T=l(void 0),y=e({}),C=e({}),B=l(void 0);const S=U("SMUI:textfield:helper-text:id"),k=U("SMUI:textfield:helper-text:mount"),O=U("SMUI:textfield:helper-text:unmount");function F(e){return e in y?y[e]:G().classList.contains(e)}function R(e){y[e]||(y[e]=!0)}function A(e){e in y&&!y[e]||(y[e]=!1)}function j(e){return e in C?C[e]??null:G().getAttribute(e)}function N(e,t){C[e]!==t&&(C[e]=t)}function z(e){e in C&&null==C[e]||(C[e]=void 0)}function G(){return a}p(()=>(c(T,new ft({addClass:R,removeClass:A,hasClass:F,getAttr:j,setAttr:N,removeAttr:z,setContent:e=>{c(B,e,!0)}}),!0),S&&S(w()),k&&k(i(T)),i(T).init(),()=>{O&&i(T)&&O(i(T)),i(T)?.destroy()}));var E=Mp();q(E,e=>({class:e,"aria-hidden":I()?void 0:"true",id:w(),...C,...$}),[()=>L({[s()]:!0,"mdc-text-field-helper-text":!0,"mdc-text-field-helper-text--persistent":I(),"mdc-text-field-helper-text--validation-msg":x(),...y})]);var H=v(E),_=e=>{var t=M(),o=D(t);m(o,()=>r.children??f),u(e,t)},J=e=>{var t=le();b(()=>re(t,i(B))),u(e,t)};Y(H,e=>{null==i(B)?e(_):e(J,!1)}),d(E,e=>a=e,()=>a),W(E,(e,t)=>V?.(e,t),n),u(o,E),g({getElement:G})}(o,{persistent:!0,children:(e,t)=>{var o=M(),l=D(o),r=e=>{var t=zp();u(e,t)},a=e=>{var t=le("Enter the name of a font available on Google Fonts.");u(e,t)};Y(l,e=>{i(w)?e(r):e(a,!1)}),u(e,o)},$$slots:{default:!0}})};Jl(B,{get label(){return i(O)},input$onkeydown:e=>{"Enter"===e.key&&S()},variant:"standard",get value(){return i(I)},set value(e){c(I,e,!0)},helper:o,$$slots:{helper:!0}})}var F=X(C,2),R=v(F);ue(R,{onclick:S,variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Import");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var A=X(F,2),j=v(A),N=e=>{ia(e,{label:"Font URL",variant:"standard",get value(){return i(x)},set value(e){c(x,e,!0)},children:(e,t)=>{var o=Up(),l=D(o);la(l,{value:""});var r=X(l,2);Ee(r,17,()=>app.customFonts,He,(e,t)=>{la(e,{get value(){return i(t)},children:(e,o)=>{var l=le();b(()=>re(l,i(t))),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}})},z=e=>{ia(e,{label:"Google Fonts",variant:"standard",get value(){return i($)},set value(e){c($,e,!0)},children:(e,t)=>{var o=Gp(),l=D(o);la(l,{value:"Times New Roman",children:(e,t)=>{var o=le("Times New Roman");u(e,o)},$$slots:{default:!0}});var r=X(l,2);Ee(r,17,()=>app.googleFonts,He,(e,t)=>{la(e,{get value(){return i(t)},children:(e,o)=>{var l=le();b(()=>re(l,i(t))),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}})};Y(j,e=>{i(w)?e(N):e(z,!1)});var G=X(A,2),E=v(G);const H=Q(()=>!i(w)&&"Times New Roman"===i($)||i(w)&&""===i(x));Ye(E,{onclick:k,get disabled(){return i(H)},children:(e,t)=>{var o=Ep();u(e,o)},$$slots:{default:!0}});var _=X(G,2),J=e=>{var t=Hp();Jl(v(t),{label:"Font Name",variant:"standard",get value(){return i($)},set value(e){c($,e,!0)}}),u(e,t)};Y(_,e=>{i(w)&&e(J)});var Z=X(_,2),K=v(Z);b(()=>we(K,i(y))),u(o,a)},$$slots:{default:!0}})},$$slots:{default:!0}})};Y(o,e=>{"Fonts"===i(s)&&e(a)},r)};Y(o,e=>{"Display"===i(s)?e(a):e(T,!1)},r)};Y(o,e=>{"Advanced"===i(s)?e(a):e(C,!1)},r)};Y(F,e=>{"General"===i(s)?e(R):e(A,!1)}),u(o,a)},$$slots:{default:!0}});var R=X(F,2);ve(R,{children:(e,t)=>{ue(e,{action:"close",children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Close");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),u(o,a)},$$slots:{default:!0}});var j=X(R,2),N=e=>{const o=Q(()=>"appCustomCss"===i(T));!function(e,o){t(o,!0);let r=h(o,"open",7),a=l(""),n=l(!1),s=Q(()=>i(n)?"opacity: 0.2":"");p(()=>{void 0!==app.customCSS&&c(a,app.customCSS,!0)}),se(e,{surface$style:"width: 1200px; max-width: calc(100vw - 32px);",scrimClickAction:"",escapeKeyAction:"",get onSMUIDialogClosed(){return o.onclose},get style(){return i(s)},get open(){return r()},set open(e){r(e)},children:(e,t)=>{var o=qp(),l=D(o);de(l,{class:"dialog-title",children:(e,t)=>{var o=Dp(),l=X(D(o),2);Se(l,{label:e=>{var t=le("Preview Behind Dialog");u(e,t)},children:(e,t)=>{ze(e,{get checked(){return i(n)},set checked(e){c(n,e,!0)}})},$$slots:{label:!0,default:!0}}),u(e,o)},$$slots:{default:!0}});var r=X(l,2);ce(r,{children:(e,t)=>{const o=Q(()=>[bt]);Jl(e,{textarea:!0,label:"CSS",variant:"filled",input$rows:20,get input$use(){return i(o)},get value(){return i(a)},set value(e){c(a,e,!0)}})},$$slots:{default:!0}});var s=X(r,2);ve(s,{children:(e,t)=>{var o=Pp(),l=v(o),r=v(l),n=v(r);ue(n,{action:"",onclick:()=>Ml(i(a)),children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Apply");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var s=X(r,2),d=v(s);ue(d,{action:"accept",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Close");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),g()}(e,{get open(){return i(o)},onclose:()=>c(T,"none")})};Y(j,e=>{"appCustomCss"===i(T)&&e(N)}),u(o,F),g()}var Kp=n("<!> <!>",1),Qp=n("<!> <!>",1),em=n("<!> <!> <!>",1),tm=n("<!> <!>",1),om=n("<!> <!>",1),im=n("<i></i>"),lm=n('<i class="mdi mdi-stop"></i>'),rm=n("<i></i>"),am=n('<!> <!> <!> <div class="px-1" style="max-width: 104px; width: 100%"><!></div> <div class="ps-1" style="max-width:150px; overflow: hidden;"><span class="scrolling-text"> </span></div> <div class="px-1 col"><!></div> <div class="text-center" style="width: 180px"> </div>',1),nm=n('<i class="mdi mdi-format-list-checks"></i>'),sm=n('<div class="py-0 justify-center"><!></div>'),dm=n('<i class="mdi mdi-checkbox-marked-circle-outline"></i>'),cm=n("<!> <!> <!>",1),um=(e,t)=>t(0),gm=n('<div class="p-2 col-12"><button type="button" class="create-box col-12" style="min-height: 100px; font-size: 40px;" aria-label="Create New Row"><i class="mdi mdi-plus-thick"></i></button></div>'),vm=n('<div class="toolbar__title"> </div> <div class="d-row"><!> <!> <!> <!> <!> <!></div>',1),hm=n('<div class="p-2 col-12"><!></div>'),pm=n('<div class="p-2 col-12"><button type="button" class="create-box col-12" style="min-height: 100px; font-size: 40px;" aria-label="Create New Row"><i class="mdi mdi-plus-thick"></i></button></div>'),mm=n("<div><!> <!> <!></div>"),fm=n('<div class="ab-0"><div class="fadeOverlay"></div> <!> <div class="s-main"><!> <!> <div class="container-fluid p-0"><div class="row gx-0"><!> <!></div></div></div></div> <!> <!> <!>',1);function bm(r,a){t(a,!0);const n=[{action:()=>{q(-1)},text:"Create New Row",icon:"mdi mdi-folder-plus"},{action:()=>{c(m,"appRowList")},text:"Open Row List",icon:"mdi mdi-format-list-bulleted"},{action:()=>{c(m,"appFeature")},text:"Open Features",icon:"mdi mdi-tools"},{action:()=>{c(m,"appDesign")},text:"Modify Design",icon:"mdi mdi-pencil"},{action:()=>{c(m,"appSaveLoad")},text:"Save/Load Project",icon:"mdi mdi-content-save"}],p=e([{action:()=>{!function(){const e=localStorage.getItem("theme");Io.value="dark"===e?"light":"dark";let t=document.head.querySelector("#theme-dark"),o=document.head.querySelector("#theme-light"),i=Bl();"dark"===Io.value?i?(t&&(t.media="screen and (prefers-color-scheme: light)"),o&&(o.media="screen and (prefers-color-scheme: dark)")):(t&&(t.media="all"),o&&(o.media="not all")):i?(t&&(t.media="screen and (prefers-color-scheme: dark)"),o&&(o.media="screen and (prefers-color-scheme: light)")):(t&&(t.media="not all"),o&&(o.media="all")),localStorage.setItem("theme",Io.value)}()},text:"Toggle Dark/Light Theme",icon:"mdi mdi-theme-light-dark"},{action:()=>{c(m,"appGlobalSettings")},text:"Global Settings",icon:"mdi mdi-cog"},{action:()=>{Wi()},text:"Clean Selected Choices",icon:"mdi mdi-select-off"},{action:()=>{c(m,"appIdSearch")},text:"See ID/Title List",icon:"mdi mdi-clipboard-list"}]);let m=l("none"),f=Q(()=>`opacity: ${app.fadeTransitionIsOn?1:0}; transition: opacity ${app.fadeTransitionTime}s ease-out; background-color: ${Pl(app.fadeTransitionColor)}; pointer-events: ${app.fadeTransitionIsOn?"auto":"none"}; cursor: ${app.fadeTransitionIsOn?"none":"auto"};`),x=l(0),$=l(void 0),T=Q(()=>app.pointTypes.length>0||app.backpack.length>0||app.importedChoicesIsOpen),y=Q(()=>`max-width: calc(100% - 56px); background-color: ${Pl(app.styling.barBackgroundColor)}; margin:${app.styling.barMargin}px; padding:${app.styling.barPadding}px; bottom:0`),C=Q(()=>`color: ${Pl(app.styling.barTextColor)}; margin: ${app.styling.barTextMargin}px; padding: ${app.styling.barTextPadding}px; font-family: "${app.styling.barTextFont}"; font-size: ${app.styling.barTextSize}px`),B=Q(()=>`color: ${Pl(app.styling.barIconColor)};`),S=Q(()=>{let e=[];return app.styling.backgroundImage&&e.push(`background-image: url('${app.styling.backgroundImage}');`),e.push(`background-color: ${Pl(app.styling.backgroundColor)};`),app.styling.isBackgroundRepeat?e.push("background-repeat: repeat;"):app.styling.isBackgroundFitIn?e.push("background-size: 100% 100%;"):e.push("background-size: cover;"),i(T)&&e.push("padding-bottom: 56px;"),app.useVW&&e.push("font-size: 0.835vw;"),e.join("")}),k=Q(()=>{let e=[];return e.push("margin-left: 56px;"),app.showMusicPlayer&&e.push("padding-top: 32px;"),e.join("")}),F=Q(()=>`${P(To.curBgmTime)} | ${P(To.curBgmLength)}`),R=l(0),A=l(100),j=l(!1);function P(e){const t=Math.floor(e/3600),o=Math.floor(e%3600/60),i=Math.floor(e%60),l=String(o).padStart(2,"0"),r=String(i).padStart(2,"0");return t>0?`${t}:${l}:${r}`:`${l}:${r}`}function q(e){let t=di(0,app.rowIdLength),o=app.rows.length;if(-1===e)app.rows.push({index:o,id:t,title:app.defaultRowTitle,titleText:app.defaultRowText,debugTitle:"",objectWidth:"col-md-3",image:"",template:1,isButtonRow:!1,isResultRow:!1,resultGroupId:"",isInfoRow:!1,defaultAspectWidth:1,defaultAspectHeight:1,allowedChoices:0,currentChoices:0,requireds:[],isEditModeOn:!1,isRequirementOpen:!1,objects:[],rowDesignGroups:[]}),so.set(t,app.rows[o]);else{app.rows.splice(e,0,{index:e,id:t,title:app.defaultRowTitle,titleText:app.defaultRowText,debugTitle:"",objectWidth:"col-md-3",image:"",template:1,isButtonRow:!1,buttonType:!0,buttonId:"",buttonText:"Click",buttonRandom:!1,buttonRandomNumber:1,isResultRow:!1,resultGroupId:"",isInfoRow:!1,defaultAspectWidth:1,defaultAspectHeight:1,allowedChoices:0,currentChoices:0,requireds:[],isEditModeOn:!1,isRequirementOpen:!1,objects:[],rowDesignGroups:[]});for(let t=e+1;t<app.rows.length;t++)app.rows[t].index=t;so.set(t,app.rows[e])}}function L(){if($o&&0!==To.curBgmLength){const e=O($o);if(e)if(To.bgmIsPlaying)e.pauseVideo(),To.bgmIsPlaying=!1,0!==To.bgmPlayInterval&&(clearInterval(To.bgmPlayInterval),To.bgmPlayInterval=0);else{let t=0,o=0;0!==To.bgmPlayInterval&&(clearInterval(To.bgmPlayInterval),To.bgmPlayInterval=0),e.playVideo(),To.bgmIsPlaying=!0,To.bgmPlayInterval=window.setInterval(()=>{if(void 0!==e.playerInfo.videoData&&!To.isSeeking&&1===e.getPlayerState()){const i=Math.floor(e.getCurrentTime());i!==To.curBgmTime?t!==i?To.curBgmTime=i:(o++,o>To.curBgmLength&&(o=1),To.curBgmTime=o):(t=i,o=i+1,To.curBgmTime=o)}},1e3)}}}function W(){if($o&&To.bgmIsPlaying&&0!==To.curBgmLength){const e=O($o);e&&(e.stopVideo(),To.bgmIsPlaying=!1,To.curBgmTime=0,0!==To.bgmPlayInterval&&(clearInterval(To.bgmPlayInterval),To.bgmPlayInterval=0))}}function V(){if(app.isMute=!app.isMute,$o){const e=O($o);e&&(app.isMute?e.mute():e.unMute())}}function N(){$o&&To.bgmIsPlaying&&(To.isSeeking=!0)}function z(){if($o&&To.bgmIsPlaying){const e=O($o);e&&(e.seekTo(i(R),!0),To.curBgmTime=i(R)),To.isSeeking=!1}document.activeElement?.blur()}function U(){c(j,!0)}function G(){if(app.curVolume=i(A),$o){const e=O($o);e&&e.setVolume(i(A))}c(j,!1),document.activeElement?.blur()}o(()=>{To.isSeeking||c(R,To.curBgmTime,!0)}),o(()=>{i(j)||c(A,app.curVolume,!0)});var E=fm(),H=D(E),_=v(H),J=X(_,2);wt(J,{class:"mdc-drawer--mini",children:(e,t)=>{It(e,{class:"navigation-drawer",children:(e,t)=>{var o=om(),i=D(o);qe(i,{children:(e,t)=>{var o=em(),i=D(o);Ne(i,{onSMUIAction:()=>wo.value="appMain",class:"my-0",children:(e,t)=>{var o=Kp(),i=D(o);xt(i,{class:"mdi mdi-chevron-left"});var l=X(i,2);Xe(l,{class:"w-100 list-text text-center",children:(e,t)=>{var o=le("Return To Menu");u(e,o)},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}});var l=X(i,2);$t(l,{class:"my-3"});var r=X(l,2);Ee(r,17,()=>n,He,(e,t,o)=>{Ne(e,{get onSMUIAction(){return n[o].action},class:"my-0",children:(e,t)=>{var i=Qp(),l=D(i);xt(l,{get class(){return n[o].icon}});var r=X(l,2);Xe(r,{class:"w-100 list-text text-center",children:(e,t)=>{var i=le();b(()=>re(i,n[o].text)),u(e,i)},$$slots:{default:!0}}),u(e,i)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}});var l=X(i,2);qe(l,{children:(e,t)=>{var o=M(),i=D(o);Ee(i,17,()=>p,He,(e,t,o)=>{Ne(e,{get onSMUIAction(){return p[o].action},class:"my-0",children:(e,t)=>{var i=tm(),l=D(i);xt(l,{get class(){return p[o].icon}});var r=X(l,2);Xe(r,{class:"w-100 list-text text-center",children:(e,t)=>{var i=le();b(()=>re(i,p[o].text)),u(e,i)},$$slots:{default:!0}}),u(e,i)},$$slots:{default:!0}})}),u(e,o)},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var Z=X(J,2),K=v(Z),ee=e=>{Tt(e,{class:"music-player",style:"max-width: calc(100vw - 56px)",variant:"fixed",children:(e,t)=>{yt(e,{class:"music-player--row",children:(e,t)=>{Ct(e,{class:"px-2 justify-left",children:(e,t)=>{var o=am(),l=D(o);Ye(l,{class:"music-player--button",onclick:L,size:"button","aria-label":"Play",children:(e,t)=>{var o=im();b(()=>w(o,1,I(To.bgmIsPlaying?"mdi mdi-pause":"mdi mdi-play"))),u(e,o)},$$slots:{default:!0}});var r=X(l,2);Ye(r,{class:"music-player--button",onclick:W,size:"button","aria-label":"Stop",children:(e,t)=>{var o=lm();u(e,o)},$$slots:{default:!0}});var a=X(r,2);Ye(a,{class:"music-player--button",onclick:V,size:"button","aria-label":"Mute",children:(e,t)=>{var o=rm();b(()=>w(o,1,I(app.isMute?"mdi mdi-volume-off":"mdi mdi-volume-high"))),u(e,o)},$$slots:{default:!0}});var n=X(a,2),s=v(n);st(s,{min:0,max:100,step:1,class:"mx-2",onpointerdown:U,onpointerup:G,get disabled(){return app.isMute},get value(){return i(A)},set value(e){c(A,e,!0)}});var d=X(n,2),g=v(d),h=v(g),p=X(d,2),m=v(p);const f=Q(()=>To.curBgmLength||1);st(m,{min:0,get max(){return i(f)},step:1,class:"mx-2",onpointerdown:N,onpointerup:z,get value(){return i(R)},set value(e){c(R,e,!0)}});var x=X(p,2),$=v(x);b(()=>{re(h,To.bgmTitle),re($,i(F))}),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})};Y(K,e=>{app.showMusicPlayer&&e(ee)});var te=X(K,2),oe=e=>{Tt(e,{class:"pointBar",get style(){return i(y)},color:"secondary",variant:"fixed",children:(e,o)=>{yt(e,{class:"justify-space-around",children:(e,o)=>{var l=cm(),r=D(l);Ct(r,{class:"py-0 justify-center",children:(e,t)=>{var o=M(),l=D(o),r=e=>{Ye(e,{class:"pointbar-icons",onclick:()=>c(m,"appBuildForm"),"aria-label":"Open Import Window",get style(){return i(B)},children:(e,t)=>{var o=nm();u(e,o)},$$slots:{default:!0}})};Y(l,e=>{app.importedChoicesIsOpen&&e(r)}),u(e,o)},$$slots:{default:!0}});var a=X(r,2);Ct(a,{class:"pointbar-center--creator",children:(e,o)=>{var l=M(),r=D(l);Ee(r,17,()=>app.pointTypes,He,(e,o)=>{var l=M(),r=D(l),a=e=>{var l=sm();!function(e,o){t(o,!0);let l=Q(()=>`color: ${Pl(app.styling.barTextColor)};margin: ${app.styling.barTextMargin}px;padding: ${app.styling.barTextPadding}px;font-family: "${app.styling.barTextFont}";font-size: ${app.styling.barTextSize}px`),r=Q(()=>{if(o.point.startingSum>=0){if(void 0!==app.styling.barPointPos)return`color: ${Pl(app.styling.barPointPos)};`}else if(void 0!==app.styling.barPointNeg)return`color: ${Pl(app.styling.barPointNeg)};`;return""});function a(e,t){const o=t?e.negativeImage:e.image,i=t?e.negativeIconWidth:e.iconWidth,l=t?e.negativeIconHeight:e.iconHeight;return o?`<img src="${o}" style="width: ${i}px; height:${l}px;" alt="">`:""}var n=Oh(),d=v(n),c=v(d),h=e=>{var t=M(),i=D(t),l=e=>{var t=M(),i=D(t),l=e=>{var t=M(),i=D(t);s(i,()=>a(o.point,!0)),u(e,t)};Y(i,e=>{o.point.negativeImageOnSide||o.point.negativeImageSidePlacement||e(l)}),u(e,t)},r=e=>{var t=M(),i=D(t),l=e=>{var t=M(),i=D(t);s(i,()=>a(o.point,!1)),u(e,t)};Y(i,e=>{o.point.imageOnSide||o.point.imageSidePlacement||e(l)}),u(e,t)};Y(i,e=>{o.point.negativeIconIsOn&&o.point.startingSum<0?e(l):e(r,!1)}),u(e,t)};Y(c,e=>{o.point.iconIsOn&&e(h)});var p=X(c),m=X(p),f=e=>{var t=M(),i=D(t),l=e=>{var t=M(),i=D(t),l=e=>{var t=M(),i=D(t);s(i,()=>a(o.point,!0)),u(e,t)};Y(i,e=>{o.point.negativeImageOnSide&&!o.point.negativeImageSidePlacement&&e(l)}),u(e,t)},r=e=>{var t=M(),i=D(t),l=e=>{var t=M(),i=D(t);s(i,()=>a(o.point,!1)),u(e,t)};Y(i,e=>{o.point.imageOnSide&&!o.point.imageSidePlacement&&e(l)}),u(e,t)};Y(i,e=>{o.point.negativeIconIsOn&&o.point.startingSum<0?e(l):e(r,!1)}),u(e,t)};Y(m,e=>{o.point.iconIsOn&&e(f)});var w=X(m,2),I=v(w),x=X(w,2),$=e=>{var t=M(),i=D(t),l=e=>{var t=M(),i=D(t),l=e=>{var t=M(),i=D(t);s(i,()=>a(o.point,!0)),u(e,t)};Y(i,e=>{!o.point.negativeImageOnSide&&o.point.negativeImageSidePlacement&&e(l)}),u(e,t)},r=e=>{var t=M(),i=D(t),l=e=>{var t=M(),i=D(t);s(i,()=>a(o.point,!1)),u(e,t)};Y(i,e=>{!o.point.imageOnSide&&o.point.imageSidePlacement&&e(l)}),u(e,t)};Y(i,e=>{o.point.negativeIconIsOn&&o.point.startingSum<0?e(l):e(r,!1)}),u(e,t)};Y(x,e=>{o.point.iconIsOn&&e($)});var T=X(x),y=X(T),C=e=>{var t=M(),i=D(t),l=e=>{var t=M(),i=D(t),l=e=>{var t=M(),i=D(t);s(i,()=>a(o.point,!0)),u(e,t)};Y(i,e=>{o.point.negativeImageOnSide&&o.point.negativeImageSidePlacement&&e(l)}),u(e,t)},r=e=>{var t=M(),i=D(t),l=e=>{var t=M(),i=D(t);s(i,()=>a(o.point,!1)),u(e,t)};Y(i,e=>{o.point.imageOnSide&&o.point.imageSidePlacement&&e(l)}),u(e,t)};Y(i,e=>{o.point.negativeIconIsOn&&o.point.startingSum<0?e(l):e(r,!1)}),u(e,t)};Y(y,e=>{o.point.iconIsOn&&e(C)}),b((e,t)=>{we(n,i(l)),we(d,e),re(p,` ${o.point.beforeText??""} `),we(w,i(r)),re(I,t),re(T,` ${o.point.afterText??""} `)},[()=>o.point.pointPrivateColorIsOn?`color: ${o.point.startingSum>=0?Pl(o.point.privateColor):Pl(o.point.privateNegativeColor)}`:"",()=>o.point.startingSum%1==0?o.point.startingSum:parseFloat(o.point.startingSum.toFixed(void 0!==o.point.decimalPlaces?o.point.decimalPlaces:2))]),u(e,n),g()}(v(l),{get point(){return i(o)}}),b(()=>we(l,i(C))),u(e,l)};Y(r,e=>{yi(i(o))&&e(a)}),u(e,l)}),u(e,l)},$$slots:{default:!0}});var n=X(a,2);Ct(n,{class:"py-0 justify-center",children:(e,t)=>{var o=M(),l=D(o),r=e=>{Ye(e,{class:"pointbar-icons",onclick:()=>c(m,"dlgBackpack"),"aria-label":"Open Backpack Window",get style(){return i(B)},children:(e,t)=>{var o=dm();u(e,o)},$$slots:{default:!0}})};Y(l,e=>{app.backpack.length>0&&(void 0===app.hideBackpackBtn||0===app.hideBackpackBtn||app.hideBackpackBtn>0&&app.hideBackpackBtn===app.btnBackpackIsOn)&&e(r)}),u(e,o)},$$slots:{default:!0}}),u(e,l)},$$slots:{default:!0}})},$$slots:{default:!0}})};Y(te,e=>{i(T)&&e(oe)});var ie=X(te,2),ae=v(ie),ne=v(ae),he=e=>{var t=gm();v(t).__click=[um,q],u(e,t)};Y(ne,e=>{a.bCreatorMode&&!app.useToolbarBtn&&e(he)});var pe=X(ne,2);Ee(pe,17,()=>app.rows,He,(e,t,o)=>{var l=mm(),r=v(l),n=e=>{var l=hm(),r=v(l);Ue(r,{children:(e,l)=>{Ge(e,{class:"toolbar toolbar--row justify-space-between px-3 py-2",children:(e,l)=>{var r=vm(),a=D(r),n=v(a),s=X(a,2),d=v(s);const c=Q(()=>i(t).isEditModeOn?"Preview":"Edit Row");Dt(d,{get text(){return i(c)},children:(e,o)=>{const l=Q(()=>i(t).isEditModeOn?"mdi mdi-arrow-left":"mdi mdi-wrench");Ye(e,{get class(){return i(l)},onclick:()=>i(t).isEditModeOn=!i(t).isEditModeOn})},$$slots:{default:!0}});var g=X(d,2),h=e=>{Dt(e,{text:"Insert Row Above",children:(e,t)=>{Ye(e,{class:"mdi mdi-folder-arrow-up",onclick:()=>q(o)})},$$slots:{default:!0}})};Y(g,e=>{app.useToolbarBtn&&e(h)});var p=X(g,2);Dt(p,{text:"Delete Row",children:(e,l)=>{Ye(e,{class:"mdi mdi-delete-forever",onclick:()=>function(e,t){function o(){for(let t=0;t<e.objects.length;t++){const o=e.objects[t];if(o.backpackBtnRequirement&&(o.isActive&&(app.btnBackpackIsOn-=1),app.hideBackpackBtn-=1),o.groups)for(let e=0;e<o.groups.length;e++){let t=uo.get(o.groups[e]);if(void 0!==t){let e=t.elements.indexOf(o.id);-1!==e&&t.elements.splice(e,1)}}if(o.objectDesignGroups)for(let e=0;e<o.objectDesignGroups.length;e++){let t=mo.get(o.objectDesignGroups[e]);if(void 0!==t){let e=t.elements.indexOf(o.id);-1!==e&&t.elements.splice(e,1)}}lo.delete(o.id),ro.delete(o.id),co.delete(o.id)}if(e.groups)for(let t=0;t<e.groups.length;t++){let o=uo.get(e.groups[t]);if(void 0!==o){let t=o.rowElements.indexOf(e.id);-1!==t&&o.rowElements.splice(t,1)}}if(e.rowDesignGroups)for(let t=0;t<e.rowDesignGroups.length;t++){let o=po.get(e.rowDesignGroups[t]);if(void 0!==o){let t=o.elements.indexOf(e.id);-1!==t&&o.elements.splice(t,1)}}app.rows.splice(t,1),so.delete(e.id);for(let e=t;e<app.rows.length;e++)app.rows[e].index=e}app.checkDeleteRow?(yo.currentDialog="dlgCommon",yo.row=e,yo.context="Are you sure you want to delete this row?<br>Be sure to deselect all choices before deleting this row.",yo.title="",yo.cFunc=e=>{"accept"===e.detail.action&&o()}):o()}(i(t),o)})},$$slots:{default:!0}});var m=X(p,2);Dt(m,{text:"Clone Row",children:(e,l)=>{Ye(e,{class:"mdi mdi-content-copy",onclick:()=>function(e,t){let o=di(0,app.rowIdLength),i=JSON.parse(JSON.stringify(e));i.id=o,app.rows.splice(t+1,0,i),so.set(o,i);for(let l=0;l<i.objects.length;l++){const e=i.objects[l];e.id=ui(0,app.objectIdLength),console.log(e.id),e.index=l,e.isActive=!1,delete e.forcedActivated;for(let t=0;t<e.scores.length;t++){const o=e.scores[t];o.idx=mi(0,5),fo.add(o.idx),delete o.isActive,delete o.setValue,delete o.discountIsOn,delete o.discountShow,delete o.discountBeforeText,delete o.discountAfterText,delete o.discountScore,delete o.discountScoreCal,delete o.isChangeDiscount,delete o.tmpDisScore,delete o.tmpDiscount,delete o.discountedFrom,delete o.dupTextA,delete o.dupTextB,delete o.discountTextA,delete o.discountTextB,delete o.notStackableDiscount}for(let t=0;t<e.addons.length;t++)e.addons[t].parentId=e.id;if(e.backpackBtnRequirement&&(void 0!==app.hideBackpackBtn?app.hideBackpackBtn+=1:delete e.backpackBtnRequirement),co.set(e.id,{choice:e,row:i}),e.groups)for(let t=0;t<e.groups.length;t++){let o=uo.get(e.groups[t]);void 0!==o&&-1===o.elements.indexOf(e.id)&&o.elements.push(e.id)}if(e.objectDesignGroups)for(let t=0;t<e.objectDesignGroups.length;t++){let o=mo.get(e.objectDesignGroups[t]);void 0!==o&&-1===o.elements.indexOf(e.id)&&o.elements.push(e.id)}}if(i.groups)for(let l=0;l<i.groups.length;l++){let e=uo.get(i.groups[l]);void 0!==e&&-1===e.rowElements.indexOf(i.id)&&e.rowElements.push(i.id)}if(i.rowDesignGroups)for(let l=0;l<i.rowDesignGroups.length;l++){let e=po.get(i.rowDesignGroups[l]);void 0!==e&&-1===e.elements.indexOf(i.id)&&e.elements.push(i.id)}for(let l=t+1;l<app.rows.length;l++)app.rows[l].index=l}(i(t),o)})},$$slots:{default:!0}});var f=X(m,2);Dt(f,{text:"Move Row Up",children:(e,t)=>{Ye(e,{class:"mdi mdi-chevron-up",onclick:()=>{var e;(e=o)>0&&([app.rows[e-1],app.rows[e]]=[app.rows[e],app.rows[e-1]],app.rows[e-1].index-=1,app.rows[e].index+=1)}})},$$slots:{default:!0}});var w=X(f,2);Dt(w,{text:"Move Row Down",children:(e,t)=>{Ye(e,{class:"mdi mdi-chevron-down",onclick:()=>{var e;(e=o)<app.rows.length-1&&([app.rows[e],app.rows[e+1]]=[app.rows[e+1],app.rows[e]],app.rows[e].index-=1,app.rows[e+1].index+=1)}})},$$slots:{default:!0}}),b(()=>re(n,(void 0!==i(t).debugTitle?i(t).debugTitle:"")+i(t).title)),u(e,r)},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,l)};Y(r,e=>{a.bCreatorMode&&e(n)});var s=X(r,2);qg(s,{get row(){return i(t)},get bCreatorMode(){return a.bCreatorMode},get windowWidth(){return i(x)},get mainDiv(){return i($)}});var d=X(s,2),c=e=>{var t=pm();v(t).__click=()=>q(o+1),u(e,t)};Y(d,e=>{a.bCreatorMode&&!app.useToolbarBtn&&e(c)}),b(()=>w(l,1,I(i(t).width?"col-6":"col-12"))),u(e,l)}),d(ae,e=>c($,e),()=>i($));var me=X(H,2),fe=e=>{const t=Q(()=>"appFeature"===i(m));dh(e,{get open(){return i(t)},onclose:()=>c(m,"none")})},be=(e,r)=>{var a=e=>{const r=Q(()=>"appDesign"===i(m));!function(e,r){t(r,!0);let a=h(r,"open",7);const n=[{action:()=>{c(s,"appRowDesign")},name:"Manage Row Design",text:"Here you can change the margin, padding, borders, and drop-shadow on rows."},{action:()=>{c(s,"appRowImage")},name:"Manage Row Image Design",text:"Here you can change the margin and padding of images on rows."},{action:()=>{c(s,"appChoiceDesign")},name:"Manage Choice Design",text:"Here you can change the margin, padding, borders, and drop-shadow on choices."},{action:()=>{c(s,"appChoiceImage")},name:"Manage Choices Image Design",text:"Here you can change the margin and padding of images on objects."},{action:()=>{c(s,"appAddonDesign")},name:"Manage Addon Design",text:"Here you can change the margin,padding, borders, and drop-shadow on Addon."},{action:()=>{c(s,"appAddonImage")},name:"Manage Addon Image Design",text:"Here you can change the margin and padding of images on Addon."},{action:()=>{c(s,"appFilter")},name:"Manage Filter Design",text:"Here you can change the filters for choices that are selectedand the one's you dont have the requirements for."},{action:()=>{c(s,"appBackground")},name:"Manage Background Design",text:"Here you can change the color and place images in the background of rows, choices and the whole project."},{action:()=>{c(s,"appText")},name:"Manage Text Design",text:"Here you can change the size, font andcolor of the text on titles and text."},{action:()=>{c(s,"appPointbar")},name:"Manage Point-Bar Design",text:"Here you can change the color, postition and font of the bar that holds the created points."},{action:()=>{c(s,"appMultiChoice")},name:"Manage Multi Choice Design",text:"Here you can change the color, size and font of the  choices that can be selected multiple times."},{action:()=>{c(s,"appBackpack")},name:"Manage Backpack Design",text:"Here you can change the backpack."}];let s=l("none"),d=l(null),p=Q(()=>{let e=[];return e.push("transition:opacity 0.1s;"),"none"!==i(s)&&e.push("opacity: 0;"),e.join(" ")});function m(){if(app.styling){const e={version:Ut,styling:{}};e.styling=app.styling;const t=JSON.stringify(e),o=new Blob([t],{type:"application/json"}),i=URL.createObjectURL(o),l=document.createElement("a"),r=`design_${ti()}.json`;l.href=i,l.download=r,l.click(),URL.revokeObjectURL(i)}}o(()=>{if(null!==i(d)&&1===i(d).length&&"application/json"===i(d)[0].type){const e=new FileReader;e.onload=()=>{try{const t=JSON.parse(e.result),o=void 0===t.version||"2.0.0-beta"===t.version;let i;i=void 0===t.styling?rl.safeParse(t):rl.safeParse(t.styling),i.success?(Ai(i.data,o),app.styling=i.data,Co.labelText="Data loaded successfully.",Co.isOpen=!0):(Co.labelText="Filed to load data.",Co.isOpen=!0,console.error(i.error))}catch(t){console.log(t)}},e.readAsText(i(d)[0])}});var f=is(),w=D(f);const I=Q(()=>"none"===i(s)?"close":"");se(w,{get escapeKeyAction(){return i(I)},surface$style:"width: 800px; max-width: calc(100vw - 32px);",get onSMUIDialogClosed(){return r.onclose},id:"dialog",get style(){return i(p)},get open(){return a()},set open(e){a(e)},children:(e,t)=>{var o=os(),l=D(o);de(l,{class:"text-left dialog-title",tabindex:0,autofocus:!0,children:(e,t)=>{var o=le("Design");u(e,o)},$$slots:{default:!0}});var r=X(l,2);ce(r,{children:(e,t)=>{var o=ts(),l=X(v(o),2),r=v(l);Jl(v(r),{label:"Import Design",type:"file",input$accept:"application/json",class:"w-100",get files(){return i(d)},set files(e){c(d,e,!0)}});var a=X(l,2),s=v(a);Dt(s,{text:"Here you can export your design.",children:(e,t)=>{ue(e,{onclick:m,variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Export Design");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}});var g=X(a,2);Ee(g,17,()=>n,He,(e,t)=>{var o=es(),l=v(o);Dt(l,{get text(){return i(t).text},children:(e,o)=>{ue(e,{get onclick(){return i(t).action},variant:"raised",children:(e,o)=>{ge(e,{children:(e,o)=>{var l=le();b(()=>re(l,i(t).name)),u(e,l)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)}),u(e,o)},$$slots:{default:!0}});var a=X(r,2);ve(a,{children:(e,t)=>{ue(e,{action:"close",children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Close");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}});var x=X(w,2),$=e=>{const t=Q(()=>"appRowDesign"===i(s));Nn(e,{get open(){return i(t)},onclose:()=>c(s,"none")})},T=(e,t)=>{var o=e=>{const t=Q(()=>"appRowImage"===i(s));_n(e,{get open(){return i(t)},onclose:()=>c(s,"none")})},l=(e,t)=>{var o=e=>{const t=Q(()=>"appChoiceDesign"===i(s));nn(e,{get open(){return i(t)},onclose:()=>c(s,"none")})},l=(e,t)=>{var o=e=>{const t=Q(()=>"appChoiceImage"===i(s));vn(e,{get open(){return i(t)},onclose:()=>c(s,"none")})},l=(e,t)=>{var o=e=>{const t=Q(()=>"appAddonDesign"===i(s));xa(e,{get open(){return i(t)},onclose:()=>c(s,"none")})},l=(e,t)=>{var o=e=>{const t=Q(()=>"appAddonImage"===i(s));ka(e,{get open(){return i(t)},onclose:()=>c(s,"none")})},l=(e,t)=>{var o=e=>{const t=Q(()=>"appFilter"===i(s));wn(e,{get open(){return i(t)},onclose:()=>c(s,"none")})},l=(e,t)=>{var o=e=>{const t=Q(()=>"appBackground"===i(s));Na(e,{get open(){return i(t)},onclose:()=>c(s,"none")})},l=(e,t)=>{var o=e=>{const t=Q(()=>"appText"===i(s));Qn(e,{get open(){return i(t)},onclose:()=>c(s,"none")})},l=(e,t)=>{var o=e=>{const t=Q(()=>"appPointbar"===i(s));On(e,{get open(){return i(t)},onclose:()=>c(s,"none")})},l=(e,t)=>{var o=e=>{const t=Q(()=>"appMultiChoice"===i(s));Cn(e,{get open(){return i(t)},onclose:()=>c(s,"none")})},l=(e,t)=>{var o=e=>{const t=Q(()=>"appBackpack"===i(s));Ja(e,{get open(){return i(t)},onclose:()=>c(s,"none")})};Y(e,e=>{"appBackpack"===i(s)&&e(o)},t)};Y(e,e=>{"appMultiChoice"===i(s)?e(o):e(l,!1)},t)};Y(e,e=>{"appPointbar"===i(s)?e(o):e(l,!1)},t)};Y(e,e=>{"appText"===i(s)?e(o):e(l,!1)},t)};Y(e,e=>{"appBackground"===i(s)?e(o):e(l,!1)},t)};Y(e,e=>{"appFilter"===i(s)?e(o):e(l,!1)},t)};Y(e,e=>{"appAddonImage"===i(s)?e(o):e(l,!1)},t)};Y(e,e=>{"appAddonDesign"===i(s)?e(o):e(l,!1)},t)};Y(e,e=>{"appChoiceImage"===i(s)?e(o):e(l,!1)},t)};Y(e,e=>{"appChoiceDesign"===i(s)?e(o):e(l,!1)},t)};Y(e,e=>{"appRowImage"===i(s)?e(o):e(l,!1)},t)};Y(x,e=>{"appRowDesign"===i(s)?e($):e(T,!1)}),u(e,f),g()}(e,{get open(){return i(r)},onclose:()=>c(m,"none")})},n=(e,o)=>{var r=e=>{const t=Q(()=>"appSaveLoad"===i(m));kh(e,{get open(){return i(t)},onclose:()=>c(m,"none")})},a=(e,o)=>{var r=e=>{const o=Q(()=>"appBuildForm"===i(m));!function(e,o){t(o,!0);let r=h(o,"open",7),a=l(void 0),n=l(void 0),s=l("");function p(){let e=[],t=Array.from(lo.keys());t.sort((e,t)=>{let o=co.get(e),i=co.get(t);return void 0!==o&&void 0!==i?o.row.index!==i.row.index?o.row.index-i.row.index:o.choice.index-i.choice.index:0});for(let o=0;o<t.length;o++){let i=co.get(t[o]);void 0!==i&&e.push(i.choice.title)}return e.join(", ")}se(e,{surface$style:"width: 1920px; max-width: calc(100vw - 32px);",get onSMUIDialogClosed(){return o.onclose},get open(){return r()},set open(e){r(e)},children:(e,t)=>{var o=Xl(),l=D(o);de(l,{class:"px-3 pb-0 toolbar toolbar__dialog",tabindex:0,autofocus:!0,children:(e,t)=>{var o=le("Build Form");u(e,o)},$$slots:{default:!0}});var r=X(l,2);ce(r,{children:(e,t)=>{var o=Yl(),l=v(o),r=v(l);const g=Q(p);d(Jl(r,{textarea:!0,get value(){return i(g)},label:"Current Activated Choices Titles",variant:"filled",input$rows:5}),e=>c(a,e,!0),()=>i(a));var h=X(l,2),m=v(h);const f=Q(ei);d(Jl(m,{textarea:!0,get value(){return i(f)},label:"Current Activated Choices ID's",variant:"filled",input$rows:5}),e=>c(n,e,!0),()=>i(n));var b=X(h,2),w=v(b);Jl(w,{textarea:!0,label:"Area To Import Activated Choices With Lists Of Id's",variant:"filled",input$rows:5,get value(){return i(s)},set value(e){c(s,e,!0)}});var I=X(w,2);ue(I,{onclick:()=>Gi(i(s)),variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Import Choices/Clean if empty");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}});var g=X(r,2);ve(g,{children:(e,t)=>{ue(e,{action:"close",children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Cancel");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),g()}(e,{get open(){return i(o)},onclose:()=>c(m,"none")})},a=(e,o)=>{var r=e=>{const t=Q(()=>"appIdSearch"===i(m));gv(e,{get open(){return i(t)},onclose:()=>c(m,"none")})},a=(e,o)=>{var r=e=>{const o=Q(()=>"dlgBackpack"===i(m));!function(e,o){t(o,!0);let r=h(o,"open",7),a=l(0),n=l(void 0),s=l(void 0),p=Q(()=>{let e=[];return e.push("overflow-wrap: break-word;"),e.push("white-space: normal;"),app.styling.useBackpackDesign?(app.styling.backpackBgImage&&e.push(`background-image: url('${app.styling.backpackBgImage}');`),e.push(`background-color: ${Pl(app.styling.backpackBgColor)};`),app.styling.isBackpackBgRepeat?e.push("background-repeat: repeat;"):app.styling.isBackpackBgFitIn?e.push("background-size: 100% 100%;"):e.push("background-size: cover;")):(app.styling.backgroundImage&&e.push(`background-image: url('${app.styling.backgroundImage}');`),e.push(`background-color: ${Pl(app.styling.backgroundColor)};`),app.styling.isBackgroundRepeat?e.push("background-repeat: repeat;"):app.styling.isBackgroundFitIn?e.push("background-size: 100% 100%;"):e.push("background-size: cover;")),e.join(" ")});const m=Q(()=>"dlgBackpack"!==yo.currentDialog?"close":""),f=Q(()=>"dlgBackpack"!==yo.currentDialog?"close":""),x=Q(()=>void 0!==app.styling.backPackWidth?app.styling.backPackWidth:1200);se(e,{get escapeKeyAction(){return i(m)},get scrimClickAction(){return i(f)},get surface$style(){return`width: ${i(x)??""}px; max-width: 100vw;`},get onSMUIDialogClosed(){return o.onclose},get open(){return r()},set open(e){r(e)},children:(e,t)=>{var o=Mh(),l=D(o);de(l,{class:"p-0 m-0 row",tabindex:0,autofocus:!0,children:(e,t)=>{var o=Rh(),l=v(o);ue(l,{onclick:()=>Cl(i(n)),class:"h-100",children:(e,t)=>{var o=Fh(),i=D(o);dt(i,{class:"mdi mdi-file-image"});var l=X(i,2);ge(l,{children:(e,t)=>{var o=le("Download Image");u(e,o)},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}});var r=X(l,2);ce(r,{id:"backpackDialog",class:"p-0",children:(e,t)=>{var o=jh(),l=v(o);Ee(l,21,()=>app.backpack,He,(e,t)=>{var o=Ah();qg(v(o),{get row(){return i(t)},bCreatorMode:!1,get windowWidth(){return i(a)},get preloadImages(){return app.preloadImages},isBackpack:!0,get mainDiv(){return i(s)}}),b(()=>w(o,1,I(i(t).width?"col-6":"col-12"))),u(e,o)}),d(l,e=>c(s,e),()=>i(s)),d(o,e=>c(n,e),()=>i(n)),b(()=>we(o,i(p))),at(o,"clientWidth",e=>c(a,e)),u(e,o)},$$slots:{default:!0}});var g=X(r,2);ve(g,{class:"p-0",style:"min-height: 36px",children:(e,t)=>{ue(e,{action:"close",children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Close");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),g()}(e,{get open(){return i(o)},onclose:()=>c(m,"none")})},a=(e,t)=>{var o=e=>{const t=Q(()=>"appRowList"===i(m));up(e,{get open(){return i(t)},onclose:()=>c(m,"none"),get mainDiv(){return i($)}})},l=(e,t)=>{var o=e=>{const t=Q(()=>"appGlobalSettings"===i(m));Zp(e,{get open(){return i(t)},onclose:()=>c(m,"none")})};Y(e,e=>{"appGlobalSettings"===i(m)&&e(o)},t)};Y(e,e=>{"appRowList"===i(m)?e(o):e(l,!1)},t)};Y(e,e=>{"dlgBackpack"===i(m)?e(r):e(a,!1)},o)};Y(e,e=>{"appIdSearch"===i(m)?e(r):e(a,!1)},o)};Y(e,e=>{"appBuildForm"===i(m)?e(r):e(a,!1)},o)};Y(e,e=>{"appSaveLoad"===i(m)?e(r):e(a,!1)},o)};Y(e,e=>{"appDesign"===i(m)?e(a):e(n,!1)},r)};Y(me,e=>{"appFeature"===i(m)?e(fe):e(be,!1)});var Ie=X(me,2),xe=e=>{const t=Q(()=>"appImageUpload"===yo.currentDialog);Xr(e,{get open(){return i(t)},onclose:()=>yo.currentDialog="none",get imgObject(){return yo.data},get imgProp(){return yo.imgProp}})},$e=(e,t)=>{var o=e=>{const t=Q(()=>"appPointSettings"===yo.currentDialog);lp(e,{get open(){return i(t)},onclose:()=>yo.currentDialog="none",get currentPoint(){return yo.point}})},l=(e,t)=>{var o=e=>{const t=Q(()=>"appButtonSettings"===yo.currentDialog);Nh(e,{get open(){return i(t)},onclose:()=>yo.currentDialog="none",get row(){return yo.row}})},l=(e,t)=>{var o=e=>{const t=Q(()=>"appCreateMultipleChoices"===yo.currentDialog);Eh(e,{get open(){return i(t)},onclose:()=>yo.currentDialog="none",get submit(){return yo.func}})},l=(e,t)=>{var o=e=>{const t=Q(()=>"appRequirement"===yo.currentDialog);Nv(e,{get open(){return i(t)},onclose:()=>yo.currentDialog="none",get data(){return yo.data}})},l=(e,t)=>{var o=e=>{const t=Q(()=>"appRowSettings"===yo.currentDialog);bp(e,{get open(){return i(t)},onclose:()=>yo.currentDialog="none",get row(){return yo.row}})},l=(e,t)=>{var o=e=>{const t=Q(()=>"appObjectSettings"===yo.currentDialog);Cp(e,{get open(){return i(t)},onclose:()=>yo.currentDialog="none",get choice(){return yo.choice}})},l=(e,t)=>{var o=e=>{const t=Q(()=>"appObjectList"===yo.currentDialog);Ap(e,{get open(){return i(t)},onclose:()=>yo.currentDialog="none",get row(){return yo.row},get mainDiv(){return i($)}})},l=(e,t)=>{var o=e=>{const t=Q(()=>"dlgCommon"===yo.currentDialog);td(e,{get open(){return i(t)},onclose:()=>yo.currentDialog="none",get closeHandler(){return yo.cFunc},get title(){return yo.title},get context(){return yo.context},get isWord(){return yo.isWord}})};Y(e,e=>{"dlgCommon"===yo.currentDialog&&void 0!==yo.cFunc&&void 0!==yo.title&&void 0!==yo.context&&e(o)},t)};Y(e,e=>{"appObjectList"===yo.currentDialog&&void 0!==yo.row?e(o):e(l,!1)},t)};Y(e,e=>{"appObjectSettings"===yo.currentDialog&&void 0!==yo.row&&void 0!==yo.choice?e(o):e(l,!1)},t)};Y(e,e=>{"appRowSettings"===yo.currentDialog&&void 0!==yo.row?e(o):e(l,!1)},t)};Y(e,e=>{"appRequirement"===yo.currentDialog&&void 0!==yo.data?e(o):e(l,!1)},t)};Y(e,e=>{"appCreateMultipleChoices"===yo.currentDialog&&void 0!==yo.func?e(o):e(l,!1)},t)};Y(e,e=>{"appButtonSettings"===yo.currentDialog&&void 0!==yo.row?e(o):e(l,!1)},t)};Y(e,e=>{"appPointSettings"===yo.currentDialog&&void 0!==yo.point?e(o):e(l,!1)},t)};Y(Ie,e=>{"appImageUpload"===yo.currentDialog&&void 0!==yo.data&&void 0!==yo.imgProp?e(xe):e($e,!1)}),jt(X(Ie,2),{}),b(()=>{we(H,i(S)),we(_,i(f)),we(Z,i(k))}),at(H,"clientWidth",e=>c(x,e)),u(r,E),g()}he(["click"]);var wm=n('<div class="col-12"><!></div>'),Im=n('<div class="row pt-4"><div class="col-12"><!></div> <!></div>'),xm=n('<div class="container-fluid"><div class="row"><div class="col-6"><!></div> <div class="col-6"><!></div></div></div>'),$m=n("<!> <!> <!>",1);function Tm(o,r){t(r,!0);let a=h(r,"open",7),n=l(e(r.isWord&&r.prevText?r.prevText:""));se(o,{surface$style:"width: 400px; max-width: calc(100vw - 32px);",onSMUIDialogClosed:function(e){r.isWord?r.closeHandler(e,i(n)):r.closeHandler(e),r.onclose()},get open(){return a()},set open(e){a(e)},children:(e,t)=>{var o=$m(),l=D(o);de(l,{class:"px-3 pb-0 toolbar toolbar__dialog",children:(e,t)=>{var o=M(),i=D(o);s(i,()=>r.title),u(e,o)},$$slots:{default:!0}});var a=X(l,2);ce(a,{children:(e,t)=>{var o=Im(),l=v(o),a=v(l);s(a,()=>r.context);var d=X(l,2),g=e=>{var t=wm();Jl(v(t),{textarea:!0,label:"",variant:"filled",input$rows:5,get value(){return i(n)},set value(e){c(n,e,!0)}}),u(e,t)};Y(d,e=>{r.isWord&&e(g)}),u(e,o)},$$slots:{default:!0}});var d=X(a,2);ve(d,{children:(e,t)=>{var o=xm(),i=v(o),l=v(i),r=v(l);ue(r,{action:"close",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Cancel");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var a=X(l,2),n=v(a);ue(n,{action:"accept",children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("OK");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),g()}var ym=n('<div class="row gy-4"><div class="col-sm-6 col-12"><!></div> <div class="col-sm-6 col-12"><!></div> <div class="col-12"><!> <!></div></div>'),Cm=n("<!> <!> <!>",1);var Bm=n('<i class="mdi mdi-play"></i>'),Sm=n('<i class="mdi mdi-clipboard-outline"></i>'),km=n('<div class="row gx-0" style="border-bottom: 1px solid"><div class="col-sm-1 col-2 d-flex align-items-center justify-center"><!></div> <div class="col-sm-10 col-8"><div class="col-12 pt-1"><div> </div> <div> </div></div></div> <div class="col-sm-1 col-2 d-flex align-items-center justify-center"><!></div></div>'),Om=n('<div class="row gx-0" style="border-bottom: 1px solid"><div class="col-12" style="height: 48px">Empty</div></div>'),Fm=n('<i class="mdi mdi-alpha-a-box-outline"></i>'),Rm=n('<div class="row gx-0" style="border-bottom: 1px solid"><div class="col-sm-1 col-2 d-flex align-items-center justify-center"><!></div> <div class="col-sm-11 col-10"><div class="col-12 pt-1"><div> </div> <div> </div></div></div></div>'),Am=n('<i class="mdi mdi-play"></i>'),jm=n('<i class="mdi mdi-trash-can"></i>'),Mm=n('<div class="row gx-0" style="border-bottom: 1px solid"><div class="col-sm-1 col-2 d-flex align-items-center justify-center"><!></div> <div class="col-sm-10 col-8"><div class="col-12 pt-1"><div> </div> <div> </div></div></div> <div class="col-sm-1 col-2 d-flex align-items-center justify-center"><!></div></div>'),Dm=n('<i class="mdi mdi-content-save"></i>'),Pm=n('<div class="row gx-0" style="border-bottom: 1px solid"><div class="col-sm-1 col-2 d-flex align-items-center justify-center"><!></div> <div class="col-sm-11 col-10"><div class="col-12"><!></div></div></div>'),qm=n("<!> <!>",1),Lm=n('<i class="mdi mdi-menu-left"></i>'),Wm=n('<i class="mdi mdi-menu-right"></i>'),Vm=n('<div class="container-fluid pb-2 mb-2" style="border: 1px solid"><!></div> <div class="row gy-2"><div class="col pb-2"><!></div> <div class="col pb-2"><div class="d-row align-items-center justify-end"><!> <span class="list-text px-2"> </span> <!></div></div></div> <div class="row gy-2"><div class="col-12"><!></div></div>',1),Nm=n("<!> <!> <!>",1),zm=n("<!> <!>",1);function Um(e,o){t(o,!0);let r=h(o,"open",7);const a={action:()=>{},title:"Warning",context:""};let n=l("none"),s=l(1),p=Q(()=>9*(i(s)-1)),m=Q(()=>Math.min(i(p)+9-1,99)),f=Q(()=>Array.from({length:i(m)-i(p)+1},(e,t)=>Fo[i(p)+t])),w=Q(()=>Array.from({length:i(m)-i(p)+1},(e,t)=>Ro[i(p)+t])),I=l(!1);function x(e){const t=`${location.pathname.replace(/\/index\.html$/,"/")}slot-${e}`,o=navigator.language,i=new Date,l=new Intl.DateTimeFormat(o,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(i);Zo({stored:!0,name:Fo[e].name,time:l,app:ei()},t,e,"buildStore",!0)}var $=zm(),T=D($);se(T,{surface$style:"width: 700px; max-width: calc(100vw - 32px);",get onSMUIDialogClosed(){return o.onclose},id:"dialog",get open(){return r()},set open(e){r(e)},children:(e,t)=>{var o=Nm(),l=D(o);de(l,{class:"text-left dialog-title",tabindex:0,autofocus:!0,children:(e,t)=>{var o=le("Save/Load Project");u(e,o)},$$slots:{default:!0}});var r=X(l,2);ce(r,{class:"pt-3",children:(e,t)=>{var o=Vm(),l=D(o),r=v(l),d=e=>{var t=M(),o=D(t);Ee(o,17,()=>i(w),He,(e,t,o)=>{var l=M(),r=D(l),s=e=>{var l=km(),r=v(l),s=v(r);Ye(s,{onclick:()=>{a.action=()=>{return e=o,void Gi(i(w)[e].app);var e},a.context="Are you sure you want to load this build?<br>Any unsaved changes will be lost.",c(n,"dlgCommon")},children:(e,t)=>{var o=Bm();u(e,o)},$$slots:{default:!0}});var d=X(r,2),g=v(d),h=v(g),p=v(h),m=X(h,2),f=v(m),I=X(d,2),x=v(I);Ye(x,{onclick:()=>function(e){const t=i(w)[e].app;navigator.clipboard.writeText(t).then(()=>{Co.labelText="Build code copied to clipboard.",Co.isOpen=!0}).catch(e=>{Co.labelText="Failed to copy build code to clipboard.",Co.isOpen=!0,console.error(e)})}(o),children:(e,t)=>{var o=Sm();u(e,o)},$$slots:{default:!0}}),b(()=>{re(p,i(t).name),re(f,i(t).time)}),u(e,l)},d=e=>{var t=Om();u(e,t)};Y(r,e=>{i(t).stored?e(s):e(d,!1)}),u(e,l)}),u(e,t)},g=e=>{var t=qm(),o=D(t),l=e=>{var t=Rm(),o=v(t),i=v(o);Ye(i,{onclick:()=>{a.action=()=>{Gi(Oo.app)},a.context="Are you sure you want to load this build?<br>Any unsaved changes will be lost.",c(n,"dlgCommon")},children:(e,t)=>{var o=Fm();u(e,o)},$$slots:{default:!0}});var l=X(o,2),r=v(l),s=v(r),d=v(s),g=X(s,2),h=v(g);b(()=>{re(d,Oo.name),re(h,Oo.time)}),u(e,t)};Y(o,e=>{Oo.stored&&e(l)});var r=X(o,2);Ee(r,17,()=>i(f),He,(e,t,o)=>{var l=M(),r=D(l),s=e=>{var l=Mm(),r=v(l),s=v(r);Ye(s,{onclick:()=>{a.action=()=>{Gi(Fo[o].app)},a.context="Are you sure you want to load this build?<br>Any unsaved changes will be lost.",c(n,"dlgCommon")},children:(e,t)=>{var o=Am();u(e,o)},$$slots:{default:!0}});var d=X(r,2),g=v(d),h=v(g),p=v(h),m=X(h,2),f=v(m),w=X(d,2),I=v(w);Ye(I,{onclick:()=>{a.action=()=>{return e=o,void Ko(`${location.pathname.replace(/\/index\.html$/,"/")}slot-${e}`,e,"buildStore",!0);var e},a.context="Are you sure you want to delete this build?<br>This action cannot be undone.",c(n,"dlgCommon")},children:(e,t)=>{var o=jm();u(e,o)},$$slots:{default:!0}}),b(()=>{re(p,i(t).name),re(f,i(t).time)}),u(e,l)},d=e=>{var l=Pm(),r=v(l),a=v(r);Ye(a,{onclick:()=>x(o),children:(e,t)=>{var o=Dm();u(e,o)},$$slots:{default:!0}});var n=X(r,2),s=v(n);Jl(v(s),{onclick:()=>i(t).name="",onblur:()=>{""===i(t).name&&(i(t).name=`Slot ${o+1}`)},input$onkeydown:e=>{"Enter"===e.key&&x(o)},class:"textbox-mini",variant:"standard",get value(){return i(t).name},set value(e){i(t).name=e}}),u(e,l)};Y(r,e=>{i(t).stored?e(s):e(d,!1)}),u(e,l)}),u(e,t)};Y(r,e=>{i(I)?e(d):e(g,!1)});var h=X(l,2),p=v(h),m=v(p);Se(m,{style:"height: 48px",label:e=>{var t=le("Load from Legacy Version");u(e,t)},children:(e,t)=>{ke(e,{onSMUISwitchChange:()=>c(s,1),color:"secondary",class:"switch-scale",get checked(){return i(I)},set checked(e){c(I,e,!0)}})},$$slots:{label:!0,default:!0}});var $=X(p,2),T=v($),y=v(T);Ye(y,{onclick:()=>i(s)>1?c(s,i(s)-1):c(s,11),children:(e,t)=>{var o=Lm();u(e,o)},$$slots:{default:!0}});var C=X(y,2),B=v(C),S=X(C,2);Ye(S,{onclick:()=>i(s)<11?c(s,i(s)+1):c(s,1),children:(e,t)=>{var o=Wm();u(e,o)},$$slots:{default:!0}});var k=X(h,2),O=v(k),F=v(O);ue(F,{onclick:()=>c(n,"appBuildForm"),variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Open Build Form");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}}),b(()=>re(B,`Page ${i(s)??""}`)),u(e,o)},$$slots:{default:!0}});var d=X(r,2);ve(d,{children:(e,t)=>{ue(e,{action:"close",children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Close");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}});var y=X(T,2),C=e=>{const t=Q(()=>"dlgCommon"===i(n));Tm(e,{get open(){return i(t)},onclose:()=>c(n,"none"),get title(){return a.title},get context(){return a.context},closeHandler:e=>{"accept"===e.detail.action&&a.action()}})},B=(e,o)=>{var r=e=>{const o=Q(()=>"appBuildForm"===i(n));!function(e,o){t(o,!0);let r=h(o,"open",7),a=l(void 0),n=l(void 0),s=l("");function p(){let e=[],t=Array.from(lo.keys());t.sort((e,t)=>{let o=co.get(e),i=co.get(t);return void 0!==o&&void 0!==i?o.row.index!==i.row.index?o.row.index-i.row.index:o.choice.index-i.choice.index:0});for(let o=0;o<t.length;o++){let i=co.get(t[o]);void 0!==i&&e.push(i.choice.title)}return e.join(", ")}se(e,{surface$style:"width: 1920px; max-width: calc(100vw - 32px);",get onSMUIDialogClosed(){return o.onclose},get open(){return r()},set open(e){r(e)},children:(e,t)=>{var o=Cm(),l=D(o);de(l,{class:"px-3 pb-0 toolbar toolbar__dialog",tabindex:0,autofocus:!0,children:(e,t)=>{var o=le("Build Form");u(e,o)},$$slots:{default:!0}});var r=X(l,2);ce(r,{children:(e,t)=>{var o=ym(),l=v(o),r=v(l);const g=Q(p);d(Jl(r,{textarea:!0,get value(){return i(g)},label:"Current Activated Choices Titles",variant:"filled",input$rows:5}),e=>c(a,e,!0),()=>i(a));var h=X(l,2),m=v(h);const f=Q(ei);d(Jl(m,{textarea:!0,get value(){return i(f)},label:"Current Activated Choices ID's",variant:"filled",input$rows:5}),e=>c(n,e,!0),()=>i(n));var b=X(h,2),w=v(b);Jl(w,{textarea:!0,label:"Area To Import Activated Choices With Lists Of Id's",variant:"filled",input$rows:5,get value(){return i(s)},set value(e){c(s,e,!0)}});var I=X(w,2);ue(I,{onclick:()=>Gi(i(s)),variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=le("Import Choices/Clean if empty");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}});var g=X(r,2);ve(g,{children:(e,t)=>{ue(e,{action:"close",children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Cancel");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),g()}(e,{get open(){return i(o)},onclose:()=>c(n,"none")})};Y(e,e=>{"appBuildForm"===i(n)&&e(r)},o)};Y(y,e=>{"dlgCommon"===i(n)?e(C):e(B,!1)}),u(e,$),g()}var Gm=n('<div class="col"><!></div>'),Em=n('<div class="col"><!></div>');function Hm(e,o){t(o,!0);let l=Q(()=>{let e=go.get(o.required.reqId);return void 0!==e&&void 0!==app.globalRequirements?e.requireds:[]}),r=Q(()=>!!o.required.showRequired&&(!o.required.hideRequired||(o.required.requireds.length>0?Si(o.required.requireds)&&!Bi(o.required):!Bi(o.required))));var a=M(),n=D(a),d=e=>{var t=M(),r=D(t),a=e=>{var t=M(),r=D(t);Ee(r,17,()=>i(l),He,(e,t)=>{var l=M(),r=D(l),a=e=>{var l=Gm(),r=v(l);s(r,()=>nt.sanitize(xi(ni(i(t))),xo)),b(()=>we(l,o.scoreText)),u(e,l)};Y(r,e=>{i(t).showRequired&&e(a)}),u(e,l)}),u(e,t)},n=e=>{var t=Em(),i=v(t);s(i,()=>nt.sanitize(xi(ni(o.required)),xo)),b(()=>we(t,o.scoreText)),u(e,t)};Y(r,e=>{"gid"===o.required.type?e(a):e(n,!1)}),u(e,t)};Y(n,e=>{i(r)&&e(d)}),u(e,a),g()}var _m=n('<img alt=""/>'),Jm=n('<img alt=""/>'),Ym=n('<h3 class="m-0"><!></h3>'),Xm=n('<img alt=""/>'),Zm=n('<img alt=""/>'),Km=n('<p class="mb-0"><!></p>'),Qm=n('<img alt=""/>'),ef=n('<img alt=""/>'),tf=n('<span class="m-0"><!> <!> <!> <!> <!> <!></span>'),of=n('<img alt=""/>'),lf=n('<img alt=""/>'),rf=n('<h2 class="mb-0"><!></h2>'),af=n('<p class="mb-0"><!></p>'),nf=n('<div class="col p-0 text-center"><!></div> <div class="col p-0 text-center"><!> <!> <!></div>',1),sf=n('<h2 class="mb-0"><!></h2>'),df=n('<p class="mb-0"><!></p>'),cf=n('<img alt=""/>'),uf=n('<img alt=""/>'),gf=n('<div class="col p-0 text-center"><!> <!> <!></div> <div class="col p-0 text-center"><!></div>',1),vf=n('<div class="row m-0 p-0 w-100"><!></div>'),hf=n('<div class="text-center"><!></div>');function pf(e,o){t(o,!0);let l=h(o,"windowWidth",3,0),r=h(o,"preloadImages",3,!1),a=Q(()=>void 0!==o.choice&&o.choice.isActive),n=Q(()=>$i("privateAddonImageIsOn",o.row,o.choice)),d=Q(()=>$i("privateAddonIsOn",o.row,o.choice)),c=Q(()=>$i("privateFilterIsOn",o.row,o.choice)),p=Q(()=>$i("privateObjectImageIsOn",o.row,o.choice)),m=Q(()=>$i("privateObjectIsOn",o.row,o.choice)),f=Q(()=>$i("privateTextIsOn",o.row,o.choice)),w=Q(()=>Si(o.addon.requireds)),I=Q(()=>void 0!==i(n).addonImageBoxWidth?i(n).addonImageBoxWidth:50),x=Q(()=>{let e=i(d).useAddonDesign,t=(e?i(d).addonBorderRadiusIsPixels:i(m).objectBorderRadiusIsPixels)?"px":"%",l=0,r=0,n=0,s=[];if(e){if(i(d).addonBorderImage&&s.push(`border-image: url('${i(d).addonBorderImage}') ${i(d).addonBorderImageSliceTop} ${i(d).addonBorderImageSliceRight} ${i(d).addonBorderImageSliceBottom} ${i(d).addonBorderImageSliceLeft} / ${i(d).addonBorderImageWidth}px ${i(d).addonBorderImageRepeat}; border-style: solid; padding: ${i(d).addonBorderImageWidth}px;`),i(d).useAddonBackgroundImage&&i(d).addonBackgroundImage&&(s.push(`background-image: url('${i(d).addonBackgroundImage}'); ${i(d).isObjectBackgroundRepeat?"background-repeat: repeat;":i(d).isObjectBackgroundFitIn?"background-size: 100% 100%;":"background-size: cover;"}`),l=s.length),i(d).addonBgColorIsOn&&(s.push(`background-color: ${Pl(i(d).addonBgColor)};`),r=s.length),s.push(`margin: ${i(d).addonMargin}px;`),s.push(`border-radius: ${i(d).addonBorderRadiusTopLeft}${t} ${i(d).addonBorderRadiusTopRight}${t} ${i(d).addonBorderRadiusBottomRight}${t} ${i(d).addonBorderRadiusBottomLeft}${t};`),i(d).addonOverflowIsOn&&s.push("overflow: hidden;"),i(d).addonBorderIsOn||i(a)&&i(c).selBorderColorIsOn||!o.isEnabled&&i(c).reqBorderColorIsOn){let e=i(d).addonBorderColor;!o.isEnabled&&i(c).reqBorderColorIsOn?e=i(c).reqFilterBorderColor:i(a)&&i(c).selBorderColorIsOn&&(e=i(c).selFilterBorderColor),s.push(`border: ${i(d).addonBorderWidth}px ${i(d).addonBorderStyle} ${Pl(e)};`)}i(d).addonDropShadowIsOn&&(i(d).addonUseBoxShadowIsOn?s.push(`box-shadow: ${i(d).addonDropShadowH}px ${i(d).addonDropShadowV}px ${i(d).addonDropShadowBlur}px ${Pl(i(d).addonDropShadowColor)};`):(n=s.length,s.push(`filter: drop-shadow(${i(d).addonDropShadowH}px ${i(d).addonDropShadowV}px ${i(d).addonDropShadowBlur}px ${Pl(i(d).addonDropShadowColor)})`))),0===n&&(s.push("filter:"),n=s.length),o.isEnabled&&i(w)&&(i(a)?(i(c).selFilterBlurIsOn&&s.push(` blur(${i(c).selFilterBlur}px)`),i(c).selFilterBrightIsOn&&s.push(` brightness(${i(c).selFilterBright}%)`),i(c).selFilterContIsOn&&s.push(` contrast(${i(c).selFilterCont}%)`),i(c).selFilterGrayIsOn&&s.push(` grayscale(${i(c).selFilterGray}%)`),i(c).selFilterHueIsOn&&s.push(` hue-rotate(${i(c).selFilterHue}deg)`),i(c).selFilterInvertIsOn&&s.push(` invert(${i(c).selFilterInvert}%)`),i(c).selFilterOpacIsOn&&s.push(` opacity(${i(c).selFilterOpac}%)`),i(c).selFilterSaturIsOn&&s.push(` saturate(${i(c).selFilterSatur})`),i(c).selFilterSepiaIsOn&&s.push(` sepia(${i(c).selFilterGray}%)`)):(i(c).unselFilterBlurIsOn&&s.push(` blur(${i(c).unselFilterBlur}px)`),i(c).unselFilterBrightIsOn&&s.push(` brightness(${i(c).unselFilterBright}%)`),i(c).unselFilterContIsOn&&s.push(` contrast(${i(c).unselFilterCont}%)`),i(c).unselFilterGrayIsOn&&s.push(` grayscale(${i(c).unselFilterGray}%)`),i(c).unselFilterHueIsOn&&s.push(` hue-rotate(${i(c).unselFilterHue}deg)`),i(c).unselFilterInvertIsOn&&s.push(` invert(${i(c).unselFilterInvert}%)`),i(c).unselFilterOpacIsOn&&s.push(` opacity(${i(c).unselFilterOpac}%)`),i(c).unselFilterSaturIsOn&&s.push(` saturate(${i(c).unselFilterSatur})`),i(c).unselFilterSepiaIsOn&&s.push(` sepia(${i(c).unselFilterGray}%)`)),s.length===n?s.splice(n-1,1):s.push(";")),i(d).addonGradientIsOn&&s.push(`background-image: linear-gradient(${i(d).addonGradient});`)}return(app.showAllAddons>0||o.addon.showAddon)&&o.isEnabled&&!i(w)&&(0===n&&(s.push("filter:"),n=s.length),i(c).reqFilterBlurIsOn&&s.push(` blur(${i(c).reqFilterBlur}px)`),i(c).reqFilterBrightIsOn&&s.push(` brightness(${i(c).reqFilterBright}%)`),i(c).reqFilterContIsOn&&s.push(` contrast(${i(c).reqFilterCont}%)`),i(c).reqFilterGrayIsOn&&s.push(` grayscale(${i(c).reqFilterGray}%)`),i(c).reqFilterHueIsOn&&s.push(` hue-rotate(${i(c).reqFilterHue}deg)`),i(c).reqFilterInvertIsOn&&s.push(` invert(${i(c).reqFilterInvert}%)`),i(c).reqFilterOpacIsOn&&s.push(` opacity(${i(c).reqFilterOpac}%)`),i(c).reqFilterSaturIsOn&&s.push(` saturate(${i(c).reqFilterSatur})`),i(c).reqFilterSepiaIsOn&&s.push(` sepia(${i(c).reqFilterGray}%)`),s.length===n?s.splice(n-1,1):s.push(";"),i(c).reqBgColorIsOn&&(i(c).reqOverlayOnImage||(0!==r&&s.splice(r-1,1),0!==l&&s.splice(l-1,1)),s.push(`background-color: ${Pl(i(c).reqFilterBgColor)};`)),i(d).addonGradientIsOn&&s.push(`background-image: linear-gradient(${i(d).addonGradientOnReq});`)),s.join(" ")}),$=Q(()=>{let e=[];return e.push(`font-family: ${i(f).addonTitle}; font-size: ${i(f).addonTitleTextSize}%; text-align: ${i(f).addonTitleAlign};`),!o.isEnabled&&i(c).reqATitleColorIsOn?e.push(`color: ${Pl(i(c).reqFilterATitleColor)};`):i(a)&&i(c).selATitleColorIsOn?e.push(`color: ${Pl(i(c).selFilterATitleColor)};`):e.push(`color: ${Pl(i(f).addonTitleColor)};`),i(d).useAddonDesign?i(d).titlePaddingIsOn&&e.push(`padding: ${i(d).addonTextPadding}px;`):i(m).titlePaddingIsOn&&e.push(`padding: ${i(m).objectTextPadding}px;`),e.join(" ")}),T=Q(()=>{let e=[];return e.push(`font-family: ${i(f).addonText}; text-align: ${i(f).addonTextAlign}; font-size: ${i(f).addonTextTextSize}%; white-space: pre-line;`),!o.isEnabled&&i(c).reqATextColorIsOn?e.push(`color: ${Pl(i(c).reqFilterATextColor)};`):i(a)&&i(c).selATextColorIsOn?e.push(`color: ${Pl(i(c).selFilterATextColor)};`):e.push(`color: ${Pl(i(f).addonTextColor)};`),i(d).useAddonDesign?e.push(`padding: ${i(d).addonTextPadding}px;`):e.push(`padding: ${i(m).objectTextPadding}px;`),e.join(" ")}),y=Q(()=>{let e=[],t=i(n).useAddonImage,l=(t?i(n).addonImgBorderRadiusIsPixels:i(p).objectImgBorderRadiusIsPixels)?"px":"%";return t?(e.push(`width: ${i(n).addonImageWidth}%; margin-top: ${i(n).addonImageMarginTop}%; margin-bottom: ${i(n).addonImageMarginBottom}%;`),i(n).addonImgObjectFillIsOn&&o.choice?.addonImgObjectFillHeight&&e.push(`object-fit: ${i(n).addonImgObjectFillStyle}; height: ${o.choice?.addonImgObjectFillHeight}px;`),e.push(`border-radius: ${i(n).addonImgBorderRadiusTopLeft}${l} ${i(n).addonImgBorderRadiusTopRight}${l} ${i(n).addonImgBorderRadiusBottomRight}${l} ${i(n).addonImgBorderRadiusBottomLeft}${l};`),i(n).addonImgOverflowIsOn&&e.push("overflow: hidden;"),i(n).addonImgBorderIsOn&&e.push(`border: ${i(n).addonImgBorderWidth}px ${i(n).addonImgBorderStyle} ${Pl(i(n).addonImgBorderColor)};`)):(e.push(`width: ${i(p).objectImageWidth}%; margin-top: ${i(p).objectImageMarginTop}%; margin-bottom: ${i(p).objectImageMarginBottom}%;`),i(p).objectImgObjectFillIsOn&&o.row?.objectImgObjectFillHeight&&e.push(`object-fit: ${i(p).objectImgObjectFillStyle}; height: ${o.row?.objectImgObjectFillHeight}px;`),e.push(`border-radius: ${i(p).objectImgBorderRadiusTopLeft}${l} ${i(p).objectImgBorderRadiusTopRight}${l} ${i(p).objectImgBorderRadiusBottomRight}${l} ${i(p).objectImgBorderRadiusBottomLeft}${l};`),i(p).objectImgOverflowIsOn&&e.push("overflow: hidden;"),i(p).objectImgBorderIsOn&&e.push(`border: ${i(p).objectImgBorderWidth}px ${i(p).objectImgBorderStyle} ${Pl(i(p).objectImgBorderColor)};`)),e.join(" ")}),C=Q(()=>`font-family: ${i(f).scoreText}; font-size: ${i(f).scoreTextSize}%; text-align: ${i(f).scoreTextAlign}; color: ${Pl(i(f).scoreTextColor)};`);var B=M(),S=D(B),k=e=>{var t=hf(),a=v(t),n=e=>{var t=tf(),a=v(t),n=e=>{var t=M(),l=D(t),a=e=>{Dt(e,{innerClass:"w-100",get text(){return o.addon.imageSourceTooltip},children:(e,t)=>{var l=_m();b(()=>{xe(l,"src",o.addon.image),we(l,i(y)),xe(l,"loading",r()?"eager":"lazy")}),u(e,l)},$$slots:{default:!0}})},n=e=>{var t=Jm();b(()=>{xe(t,"src",o.addon.image),we(t,i(y)),xe(t,"loading",r()?"eager":"lazy")}),u(e,t)};Y(l,e=>{o.addon.imageSourceTooltip?e(a):e(n,!1)}),u(e,t)};Y(a,e=>{(1===o.addon.template||l()<=960)&&o.addon.image&&!o.row?.addonImageRemoved&&e(n)});var d=X(a,2),c=e=>{var t=Ym(),l=v(t);s(l,()=>nt.sanitize(xi(o.addon.title),xo)),b(()=>we(t,i($))),u(e,t)};Y(d,e=>{""===o.addon.title||o.row?.addonTitleRemoved||e(c)});var g=X(d,2),h=e=>{var t=M(),l=D(t);Ee(l,17,()=>o.addon.requireds,He,(e,t)=>{Hm(e,{get required(){return i(t)},get scoreText(){return i(C)}})}),u(e,t)};Y(g,e=>{o.row?.objectRequirementRemoved||e(h)});var p=X(g,2),m=e=>{var t=M(),l=D(t),a=e=>{Dt(e,{innerClass:"w-100",get text(){return o.addon.imageSourceTooltip},children:(e,t)=>{var l=Xm();b(()=>{xe(l,"src",o.addon.image),we(l,i(y)),xe(l,"loading",r()?"eager":"lazy")}),u(e,l)},$$slots:{default:!0}})},n=e=>{var t=Zm();b(()=>{xe(t,"src",o.addon.image),we(t,i(y)),xe(t,"loading",r()?"eager":"lazy")}),u(e,t)};Y(l,e=>{o.addon.imageSourceTooltip?e(a):e(n,!1)}),u(e,t)};Y(p,e=>{5===o.addon.template&&o.addon.image&&!o.row?.addonImageRemoved&&e(m)});var f=X(p,2),w=e=>{var t=Km(),l=v(t);s(l,()=>nt.sanitize(xi(o.addon.text),xo)),b(()=>we(t,i(T))),u(e,t)};Y(f,e=>{""===o.addon.text||o.row?.addonTextRemoved||e(w)});var I=X(f,2),x=e=>{var t=M(),l=D(t),a=e=>{Dt(e,{innerClass:"w-100",get text(){return o.addon.imageSourceTooltip},children:(e,t)=>{var l=Qm();b(()=>{xe(l,"src",o.addon.image),we(l,i(y)),xe(l,"loading",r()?"eager":"lazy")}),u(e,l)},$$slots:{default:!0}})},n=e=>{var t=ef();b(()=>{xe(t,"src",o.addon.image),we(t,i(y)),xe(t,"loading",r()?"eager":"lazy")}),u(e,t)};Y(l,e=>{o.addon.imageSourceTooltip?e(a):e(n,!1)}),u(e,t)};Y(I,e=>{4===o.addon.template&&o.addon.image&&!o.row?.addonImageRemoved&&e(x)}),u(e,t)},d=e=>{var t=vf(),l=v(t),a=e=>{var t=nf(),l=D(t),a=v(l),n=e=>{var t=M(),l=D(t),a=e=>{Dt(e,{innerClass:"w-100",get text(){return o.addon.imageSourceTooltip},children:(e,t)=>{var l=of();b(()=>{xe(l,"src",o.addon.image),we(l,i(y)),xe(l,"loading",r()?"eager":"lazy")}),u(e,l)},$$slots:{default:!0}})},n=e=>{var t=lf();b(()=>{xe(t,"src",o.addon.image),we(t,i(y)),xe(t,"loading",r()?"eager":"lazy")}),u(e,t)};Y(l,e=>{o.addon.imageSourceTooltip?e(a):e(n,!1)}),u(e,t)};Y(a,e=>{o.addon.image&&!o.row?.addonImageRemoved&&e(n)});var d=X(l,2),c=v(d),g=e=>{var t=rf(),l=v(t);s(l,()=>nt.sanitize(xi(o.addon.title),xo)),b(()=>we(t,i($))),u(e,t)};Y(c,e=>{""===o.addon.title||o.row?.addonTitleRemoved||e(g)});var h=X(c,2),p=e=>{var t=M(),l=D(t);Ee(l,17,()=>o.addon.requireds,He,(e,t)=>{Hm(e,{get required(){return i(t)},get scoreText(){return i(C)}})}),u(e,t)};Y(h,e=>{o.row?.objectRequirementRemoved||e(p)});var m=X(h,2),f=e=>{var t=af(),l=v(t);s(l,()=>nt.sanitize(xi(o.addon.text),xo)),b(()=>we(t,i(T))),u(e,t)};Y(m,e=>{""===o.addon.text||o.row?.addonTextRemoved||e(f)}),b(()=>{we(l,`max-width: ${i(I)??""}%`),we(d,`max-width: ${100-i(I)}%`)}),u(e,t)},n=(e,t)=>{var l=e=>{var t=gf(),l=D(t),a=v(l),n=e=>{var t=sf(),l=v(t);s(l,()=>nt.sanitize(xi(o.addon.title),xo)),b(()=>we(t,i($))),u(e,t)};Y(a,e=>{""===o.addon.title||o.row?.addonTitleRemoved||e(n)});var d=X(a,2),c=e=>{var t=M(),l=D(t);Ee(l,17,()=>o.addon.requireds,He,(e,t)=>{Hm(e,{get required(){return i(t)},get scoreText(){return i(C)}})}),u(e,t)};Y(d,e=>{o.row?.objectRequirementRemoved||e(c)});var g=X(d,2),h=e=>{var t=df(),l=v(t);s(l,()=>nt.sanitize(xi(o.addon.text),xo)),b(()=>we(t,i(T))),u(e,t)};Y(g,e=>{""===o.addon.text||o.row?.addonTextRemoved||e(h)});var p=X(l,2),m=v(p),f=e=>{var t=M(),l=D(t),a=e=>{Dt(e,{innerClass:"w-100",get text(){return o.addon.imageSourceTooltip},children:(e,t)=>{var l=cf();b(()=>{xe(l,"src",o.addon.image),we(l,i(y)),xe(l,"loading",r()?"eager":"lazy")}),u(e,l)},$$slots:{default:!0}})},n=e=>{var t=uf();b(()=>{xe(t,"src",o.addon.image),we(t,i(y)),xe(t,"loading",r()?"eager":"lazy")}),u(e,t)};Y(l,e=>{o.addon.imageSourceTooltip?e(a):e(n,!1)}),u(e,t)};Y(m,e=>{o.addon.image&&!o.row?.addonImageRemoved&&e(f)}),b(()=>{we(l,`max-width: ${100-i(I)}%`),we(p,`max-width: ${i(I)??""}%`)}),u(e,t)};Y(e,e=>{3===o.addon.template&&e(l)},t)};Y(l,e=>{2===o.addon.template?e(a):e(n,!1)}),u(e,t)};Y(a,e=>{o.addon.template>=4||1===o.addon.template||l()<=960?e(n):e(d,!1)}),b(()=>we(t,i(x))),u(e,t)};Y(S,e=>{(app.showAllAddons>0||o.addon.showAddon||Si(o.addon.requireds))&&e(k)}),u(e,B),g()}var mf=n('<i class="mdi mdi-minus"></i>'),ff=n('<i class="mdi mdi-plus"></i>'),bf=n('<div class="d-row justify-space-around w-100"><!> <div translate="no"> </div> <!></div>');function wf(e,o){t(o,!0);let l=Q(()=>{if(o.choice.isMultipleUseVariable)return o.choice.multipleUseVariable;if(void 0!==o.choice.multipleScoreId){let e=no.get(o.choice.multipleScoreId);if(void 0!==e)return e.startingSum}return 0});function r(e){e.stopPropagation(),o.selectedOneMore()}function a(e){e.stopPropagation(),o.selectedOneLess()}var n=M(),s=D(n),d=e=>{var t=bf(),n=v(t);const s=Q(()=>!o.isEnabled);Ye(n,{class:"counter-icons",get disabled(){return i(s)},onclick:a,children:(e,t)=>{var i=mf();b(()=>we(i,o.multiChoiceButton)),u(e,i)},$$slots:{default:!0}});var d=X(n,2),c=v(d),g=X(d,2);const h=Q(()=>!o.isEnabled);Ye(g,{class:"counter-icons",get disabled(){return i(h)},onclick:r,children:(e,t)=>{var i=ff();b(()=>we(i,o.multiChoiceButton)),u(e,i)},$$slots:{default:!0}}),b(()=>{we(d,o.multiChoiceText),re(c,i(l))}),u(e,t)};Y(s,e=>{o.choice.hideCounterUntilSelect&&0===o.choice.multipleUseVariable||e(d)}),u(e,n),g()}var If=n('<img class="me-1" alt=""/>'),xf=n('<img class="mx-1" alt=""/>'),$f=n('<img class="mx-1" alt=""/>'),Tf=n('<img class="ms-1" alt=""/>'),yf=n("<!> <!> <!> <!> <!> <!> <!>",1),Cf=n('<div class="row m-0"><div class="col-12 p-0 m-0 d-flex align-items-center justify-center"><p class="m-0 d-flex align-items-center"><!></p></div></div>');function Bf(e,o){t(o,!0);let l=Q(()=>$i("privateTextIsOn",o.row,o.choice)),r=Q(()=>$i("privateFilterIsOn",o.row,o.choice)),a=Q(()=>no.get(o.score.id)),n=Q(()=>Si(o.choice.requireds)),d=Q(()=>{let e=[];return e.push(`${o.score.afterText}`),o.score.discountIsOn&&o.score.discountShow&&void 0!==o.score.discountAfterText&&e.push(`${o.score.discountAfterText}`),e.join(" ")}),c=Q(()=>{let e=[];return e.push(`${o.score.beforeText}`),o.score.discountIsOn&&o.score.discountShow&&void 0!==o.score.discountBeforeText&&e.push(`${o.score.discountBeforeText}`),e.join(" ")}),h=Q(()=>o.score.hideValue?"":o.score.isRandom&&!o.score.setValue&&void 0!==o.score.maxValue?o.score.maxValue<0?`${i(m)} ~ ${i(f)}`:`${i(f)} ~ ${i(m)}`:`${i(p)}`),p=Q(()=>{let e=o.score.discountShow&&void 0!==o.score.discountScore?o.score.discountScore:o.score.value;if(e=Math.abs(e),e=i(a)?.allowFloat?e%1==0?e:parseFloat(e.toFixed(void 0!==i(a).decimalPlaces?i(a).decimalPlaces:2)):Math.floor(e),i(a)?.plussOrMinusAdded){return`${i(a).plussOrMinusInverted?i(w)?"-":"+":i(w)?"+":"-"}${e}`}return`${e}`}),m=Q(()=>{if(void 0!==o.score.maxValue){let e=o.score.maxValue<0,t=Math.abs(o.score.maxValue);if(t=i(a)?.allowFloat?t%1==0?t:parseFloat(t.toFixed(void 0!==i(a).decimalPlaces?i(a).decimalPlaces:2)):Math.floor(t),i(a)?.plussOrMinusAdded){return`${i(a).plussOrMinusInverted?e?"-":"+":e?"+":"-"}${t}`}return`${t}`}return""}),f=Q(()=>{if(void 0!==o.score.minValue){let e=o.score.minValue<0,t=Math.abs(o.score.minValue);if(t=i(a)?.allowFloat?t%1==0?t:parseFloat(t.toFixed(void 0!==i(a).decimalPlaces?i(a).decimalPlaces:2)):Math.floor(t),i(a)?.plussOrMinusAdded){return`${i(a).plussOrMinusInverted?e?"-":"+":e?"+":"-"}${t}`}return`${t}`}return""}),w=Q(()=>o.score.discountShow?(void 0!==o.score.discountScore?o.score.discountScore:o.score.value)<0:o.score.value<0),I=Q(()=>{let e=[];return e.push(`font-family: ${i(l).scoreText}; font-size: ${i(l).scoreTextSize}%; text-align: ${i(l).scoreTextAlign};`),i(a)?.pointColorsIsOn?i(w)?e.push(`color: ${Pl(i(a).positiveColor)};`):e.push(`color: ${Pl(i(a).negativeColor)};`):e.push(`color: ${Pl(i(l).scoreTextColor)};`),i(n)?o.choice.isActive&&i(r).selScoreTextColorIsOn&&e.push(`color: ${Pl(i(r).selFilterSTextColor)}`):i(r).reqScoreTextColorIsOn&&e.push(`color: ${Pl(i(r).reqFilterSTextColor)}`),e.join(" ")}),x=Q(()=>i(a)?.negativeIconIsOn&&i(w)),$=Q(()=>i(x)?i(a)?.negativeImageSidePlacement:i(a)?.imageSidePlacement),T=Q(()=>i(x)?i(a)?.negativeImageOnSide:i(a)?.imageOnSide),y=Q(()=>(i(x)?i(a)?.negativeImage:i(a)?.image)||""),C=Q(()=>(i(x)?i(a)?.negativeIconWidth:i(a)?.iconWidth)||0),B=Q(()=>(i(x)?i(a)?.negativeIconHeight:i(a)?.iconHeight)||0),S=Q(()=>!i($)&&!i(T)),k=Q(()=>!i($)&&i(T)),O=Q(()=>i($)&&!i(T)),F=Q(()=>i($)&&i(T));var R=M(),A=D(R),j=e=>{var t=Cf(),o=v(t),l=v(o),r=v(l),n=e=>{var t=yf(),o=D(t),l=e=>{var t=If();b(()=>{xe(t,"src",i(y)),we(t,`width: ${i(C)??""}px; height: ${i(B)??""}px;`)}),u(e,t)};Y(o,e=>{i(S)&&e(l)});var r=X(o,2);s(r,()=>nt.sanitize(i(c),xo));var a=X(r,2),n=e=>{var t=xf();b(()=>{xe(t,"src",i(y)),we(t,`width: ${i(C)??""}px; height: ${i(B)??""}px;`)}),u(e,t)};Y(a,e=>{i(k)&&e(n)});var g=X(a,2);s(g,()=>nt.sanitize(i(h),xo));var v=X(g,2),p=e=>{var t=$f();b(()=>{xe(t,"src",i(y)),we(t,`width: ${i(C)??""}px; height: ${i(B)??""}px;`)}),u(e,t)};Y(v,e=>{i(O)&&e(p)});var m=X(v,2);s(m,()=>nt.sanitize(i(d),xo));var f=X(m,2),w=e=>{var t=Tf();b(()=>{xe(t,"src",i(y)),we(t,`width: ${i(C)??""}px; height: ${i(B)??""}px;`)}),u(e,t)};Y(f,e=>{i(F)&&e(w)}),u(e,t)},g=e=>{var t=M(),o=D(t);s(o,()=>nt.sanitize(`${i(c)} ${i(h)} ${i(d)}`,xo)),u(e,t)};Y(r,e=>{i(a)?.iconIsOn?e(n):e(g,!1)}),b(()=>we(o,i(I))),u(e,t)};Y(A,e=>{(function(){if(o.score.showScore){if(void 0!==i(a)&&i(a).isNotShownObjects){if(void 0!==i(a).activatedId&&""!==i(a).activatedId){let e=go.get(i(a).activatedId),t=ho.get(i(a).activatedId);return void 0!==e?Si(e.requireds):void 0!==t?t.isTrue:Ci(i(a).activatedId)}return!1}return!0}return!1})()&&Si(o.score.requireds)&&e(j)}),u(e,R),g()}var Sf=n('<div class="col-12"><!></div>'),kf=n('<img alt=""/>'),Of=n('<img alt=""/>'),Ff=n('<h3 class="m-0"><!></h3>'),Rf=n('<img alt=""/>'),Af=n('<img alt=""/>'),jf=n('<p class="mb-0"><!></p>'),Mf=n('<img alt=""/>'),Df=n('<img alt=""/>'),Pf=n('<span class="d-column w-100 p-0 align-items-center"><!> <!> <span class="w-100"><!> <!> <!> <!> <!> <!> <!> <!> <!> <!></span> <div></div> <!></span>'),qf=n('<img alt=""/>'),Lf=n('<img alt=""/>'),Wf=n('<h2 class="mb-0"><!></h2>'),Vf=n('<p class="mb-0"><!></p>'),Nf=n("<div></div> <!>",1),zf=n('<div class="col-12 text-center"><div></div> <!></div>'),Uf=n('<div class="col p-0 text-center"><!></div> <div class="col p-0 text-center"><!> <!> <!> <!> <!> <!> <!> <!> <!></div> <!>',1),Gf=n('<h2 class="mb-0"><!></h2>'),Ef=n('<p class="mb-0"><!></p>'),Hf=n("<div></div> <!>",1),_f=n('<img alt=""/>'),Jf=n('<img alt=""/>'),Yf=n('<div class="col-12 text-center"><div></div> <!></div>'),Xf=n('<div class="col p-0 text-center"><!> <!> <!> <!> <!> <!> <!> <!> <!></div> <div class="col p-0 text-center"><!></div> <!>',1),Zf=n("<div><span><span><!></span></span></div>"),Kf=n("<!> <!>",1);function Qf(e,o){t(o,!0);const[r,a]=Ve(),n=()=>We(Ao,"$winWidth",r),d=h(o,"preloadImages",3,!1),p=[],m={choice:null,row:null,context:"",prevText:"",isWord:!0};let f=Q(()=>$i("privateBackgroundIsOn",o.row,o.choice)),$=Q(()=>$i("privateFilterIsOn",o.row,o.choice)),T=Q(()=>$i("privateMultiChoiceIsOn",o.row,o.choice)),y=Q(()=>$i("privateObjectImageIsOn",o.row,o.choice)),C=Q(()=>$i("privateObjectIsOn",o.row,o.choice)),B=Q(()=>$i("privateTextIsOn",o.row,o.choice)),S=Q(()=>void 0!==i(y).objectImageBoxWidth?i(y).objectImageBoxWidth:50),k=l("none"),F=!1,R=Q(()=>Si(o.choice.requireds)),A=Q(()=>o.choice.addonJustify?`justify-${o.choice.addonJustify}`:""),j=Q(()=>o.choice.isActive),P=Q(()=>i(C).objectHeight),q=Q(()=>{if(o.row.isResultRow){const e=co.get(o.choice.id);if(void 0!==e)return e.row}return o.row}),L=Q(()=>{let e=[];return e.push(`font-family: ${i(B).objectTitle};font-size: ${i(B).objectTitleTextSize}%;text-align: ${i(B).objectTitleAlign};`),!i(R)&&i($).reqCTitleColorIsOn?e.push(`color: ${Pl(i($).reqFilterCTitleColor)};`):i(j)&&i($).selCTitleColorIsOn?e.push(`color: ${Pl(i($).selFilterCTitleColor)};`):e.push(`color: ${Pl(i(B).objectTitleColor)};`),i(C).titlePaddingIsOn&&e.push(`padding: ${i(C).objectTextPadding}px;`),e.join(" ")}),W=Q(()=>`font-family: ${i(T).multiChoiceTextFont}; color: ${Pl(i(B).scoreTextColor)}; font-size: ${i(T).multiChoiceTextSize}%; align-content: center;`),V=Q(()=>`font-size: ${i(T).multiChoiceCounterSize}%; color: ${Pl(i(B).scoreTextColor)};`),N=Q(()=>!o.choice.hideMultipleCounter||i(R)),z=Q(()=>{let e=[];return e.push(`font-family: ${i(B).objectText};text-align: ${i(B).objectTextAlign};font-size: ${i(B).objectTextTextSize}%;white-space: pre-line;`),!i(R)&&i($).reqCTextColorIsOn?e.push(`color: ${Pl(i($).reqFilterCTextColor)};`):i(j)&&i($).selCTextColorIsOn?e.push(`color: ${Pl(i($).selFilterCTextColor)};`):e.push(`color: ${Pl(i(B).objectTextColor)};`),e.push(`padding: ${i(C).objectTextPadding}px;`),e.join(" ")}),U=Q(()=>{const e=i(C).objectBorderRadiusIsPixels?"px":"%";let t=0,l=0,r=0,a=[];if(i(C).objectBorderImage&&a.push(`border-image: url('${i(C).objectBorderImage}') ${i(C).objectBorderImageSliceTop} ${i(C).objectBorderImageSliceRight} ${i(C).objectBorderImageSliceBottom} ${i(C).objectBorderImageSliceLeft} / ${i(C).objectBorderImageWidth}px ${i(C).objectBorderImageRepeat}; border-style: solid; padding: ${i(C).objectBorderImageWidth}px;`),i(f).objectBackgroundImage&&(a.push(`background-image: url('${i(f).objectBackgroundImage}'); ${i(f).isObjectBackgroundRepeat?"background-repeat: repeat;":i(f).isObjectBackgroundFitIn?"background-size: 100% 100%;":"background-size: cover;"}`),t=a.length),i(f).objectBgColorIsOn&&(a.push(`background-color: ${Pl(i(f).objectBgColor)};`),l=a.length),a.push(`margin: ${i(C).objectMargin}px;`),a.push(`border-radius: ${i(C).objectBorderRadiusTopLeft}${e} ${i(C).objectBorderRadiusTopRight}${e} ${i(C).objectBorderRadiusBottomRight}${e} ${i(C).objectBorderRadiusBottomLeft}${e};`),i(C).objectOverflowIsOn&&a.push("overflow: hidden;"),i(C).objectBorderIsOn||i(j)&&i($).selBorderColorIsOn||!i(R)&&i($).reqBorderColorIsOn){let e=i(C).objectBorderColor;!i(R)&&i($).reqBorderColorIsOn?e=i($).reqFilterBorderColor:i(j)&&i($).selBorderColorIsOn&&(e=i($).selFilterBorderColor),a.push(`border: ${i(C).objectBorderWidth}px ${i(C).objectBorderStyle} ${Pl(e)};`)}return i(C).objectDropShadowIsOn&&(i(C).objectUseBoxShadowIsOn?a.push(`box-shadow: ${i(C).objectDropShadowH}px ${i(C).objectDropShadowV}px ${i(C).objectDropShadowBlur}px ${Pl(i(C).objectDropShadowColor)};`):(r=a.length,a.push(`filter: drop-shadow(${i(C).objectDropShadowH}px ${i(C).objectDropShadowV}px ${i(C).objectDropShadowBlur}px ${Pl(i(C).objectDropShadowColor)})`))),0===r&&(a.push("filter:"),r=a.length),i(R)?(i(j)?(i($).selFilterBlurIsOn&&a.push(` blur(${i($).selFilterBlur}px)`),i($).selFilterBrightIsOn&&a.push(` brightness(${i($).selFilterBright}%)`),i($).selFilterContIsOn&&a.push(` contrast(${i($).selFilterCont}%)`),i($).selFilterGrayIsOn&&a.push(` grayscale(${i($).selFilterGray}%)`),i($).selFilterHueIsOn&&a.push(` hue-rotate(${i($).selFilterHue}deg)`),i($).selFilterInvertIsOn&&a.push(` invert(${i($).selFilterInvert}%)`),i($).selFilterOpacIsOn&&a.push(` opacity(${i($).selFilterOpac}%)`),i($).selFilterSaturIsOn&&a.push(` saturate(${i($).selFilterSatur})`),i($).selFilterSepiaIsOn&&a.push(` sepia(${i($).selFilterGray}%)`),a.length===r?a.splice(r-1,1):a.push(";"),i($).selBgColorIsOn&&(0!==l&&a.splice(l-1,1),i($).selOverlayOnImage||0!==t&&a.splice(t-1,1),a.push(`background-color: ${Pl(i($).selFilterBgColor)};`)),i(C).objectGradientIsOn&&a.push(`background-image: linear-gradient(${i(C).objectGradientOnSelect});`)):(i($).unselFilterBlurIsOn&&a.push(` blur(${i($).unselFilterBlur}px)`),i($).unselFilterBrightIsOn&&a.push(` brightness(${i($).unselFilterBright}%)`),i($).unselFilterContIsOn&&a.push(` contrast(${i($).unselFilterCont}%)`),i($).unselFilterGrayIsOn&&a.push(` grayscale(${i($).unselFilterGray}%)`),i($).unselFilterHueIsOn&&a.push(` hue-rotate(${i($).unselFilterHue}deg)`),i($).unselFilterInvertIsOn&&a.push(` invert(${i($).unselFilterInvert}%)`),i($).unselFilterOpacIsOn&&a.push(` opacity(${i($).unselFilterOpac}%)`),i($).unselFilterSaturIsOn&&a.push(` saturate(${i($).unselFilterSatur})`),i($).unselFilterSepiaIsOn&&a.push(` sepia(${i($).unselFilterGray}%)`),a.length===r?a.splice(r-1,1):a.push(";"),i(C).objectGradientIsOn&&a.push(`background-image: linear-gradient(${i(C).objectGradient});`)),app.isPointerCursor&&!o.choice.isNotSelectable&&(!o.choice.isSelectableMultiple||o.choice.allowSelectByClick&&0===o.choice.multipleUseVariable)&&a.push("cursor: pointer;")):(i($).reqFilterBlurIsOn&&a.push(` blur(${i($).reqFilterBlur}px)`),i($).reqFilterBrightIsOn&&a.push(` brightness(${i($).reqFilterBright}%)`),i($).reqFilterContIsOn&&a.push(` contrast(${i($).reqFilterCont}%)`),i($).reqFilterGrayIsOn&&a.push(` grayscale(${i($).reqFilterGray}%)`),i($).reqFilterHueIsOn&&a.push(` hue-rotate(${i($).reqFilterHue}deg)`),i($).reqFilterInvertIsOn&&a.push(` invert(${i($).reqFilterInvert}%)`),i($).reqFilterOpacIsOn&&a.push(` opacity(${i($).reqFilterOpac}%)`),i($).reqFilterSaturIsOn&&a.push(` saturate(${i($).reqFilterSatur})`),i($).reqFilterSepiaIsOn&&a.push(` sepia(${i($).reqFilterGray}%)`),a.length===r?a.splice(r-1,1):a.push(";"),i($).reqBgColorIsOn&&(0!==l&&a.splice(l-1,1),i($).reqOverlayOnImage||0!==t&&a.splice(t-1,1),a.push(`background-color: ${Pl(i($).reqFilterBgColor)};`)),i(C).objectGradientIsOn&&a.push(`background-image: linear-gradient(${i(C).objectGradientOnReq});`)),a.join(" ")}),G=Q(()=>{let e=[];const t=i(y).objectImgBorderRadiusIsPixels?"px":"%";return e.push(`width: ${i(y).objectImageWidth}%; margin-top: ${i(y).objectImageMarginTop}%; margin-bottom: ${i(y).objectImageMarginBottom}%;`),i(y).objectImgObjectFillIsOn&&e.push(`object-fit: ${i(y).objectImgObjectFillStyle}; height: ${o.row.objectImgObjectFillHeight}px;`),e.push(`border-radius: ${i(y).objectImgBorderRadiusTopLeft}${t} ${i(y).objectImgBorderRadiusTopRight}${t} ${i(y).objectImgBorderRadiusBottomRight}${t} ${i(y).objectImgBorderRadiusBottomLeft}${t};`),i(y).objectImgOverflowIsOn&&e.push("overflow: hidden;"),i(y).objectImgBorderIsOn&&e.push(`border: ${i(y).objectImgBorderWidth}px ${i(y).objectImgBorderStyle} ${Pl(i(y).objectImgBorderColor)};`),e.join(" ")}),E=Q(()=>{let e=[];return e.push(`font-family: ${i(B).scoreText}; font-size: ${i(B).scoreTextSize}%; text-align: ${i(B).scoreTextAlign};`),e.push(`color: ${Pl(i(B).scoreTextColor)};`),i(R)?o.choice.isActive&&i($).selScoreTextColorIsOn&&e.push(`color: ${Pl(i($).selFilterSTextColor)}`):i($).reqScoreTextColorIsOn&&e.push(`color: ${Pl(i($).reqFilterSTextColor)}`),e.join(" ")}),H=[];function _(e,t,o,i){let l=!1;if(t.activateOtherChoice&&void 0!==t.activateThisChoice&&-1===p.indexOf(e.id)&&t.activateThisChoice.split(",").some(t=>t.split("/ON#")[0]===e.id)&&(p.push(e.id),l=!0),t.isSelectableMultiple){if(t.isMultipleUseVariable&&void 0!==t.numMultipleTimesMinus&&void 0!==t.numMultipleTimesPluss){let l=t.multipleUseVariable;if(i>0)for(let r=0;r<i;r++)ae(t,o),l++,e.isAllowDeselect||(t.numMultipleTimesMinus+=1);else if(i<0)for(let r=0;r>-1*i;r++)ne(t,o),l--,e.isAllowDeselect||(t.numMultipleTimesPluss-=1);if(t.multipleUseVariable!==l){const o=Math.abs(t.numMultipleTimesMinus-t.numMultipleTimesPluss);if(t.numMultipleTimesMinus>t.numMultipleTimePluss){const l=ro.get(t.id);i>0?(t.numMultipleTimesMinus-=o,void 0!==l?l.multiple+=o:ro.set(t.id,{multiple:o,isAllowDeselect:e.isAllowDeselect||!1})):i<0&&(void 0!==l?l.multiple-=o:ro.set(t.id,{multiple:-o,isAllowDeselect:e.isAllowDeselect||!1}))}}}}else t.isActive||ie(t,o),e.isAllowDeselect||(t.forcedActivated=!0),void 0===t.activatedFrom&&(t.activatedFrom=0),l||t.activatedFrom++;t.isActive||(delete t.forcedActivated,ro.set(t.id,{multiple:i,isAllowDeselect:e.isAllowDeselect||!1}))}function Z(e,t,o,i){if(t.activateOtherChoice&&void 0!==t.activateThisChoice&&-1===p.indexOf(e.id)&&t.activateThisChoice.split(",").some(t=>t.split("/ON#")[0]===e.id)&&p.push(e.id),t.isSelectableMultiple){if(t.isMultipleUseVariable&&void 0!==t.numMultipleTimesMinus&&void 0!==t.numMultipleTimesPluss)if(t.isActive){if(i>0)for(let l=0;l<i;l++)e.isAllowDeselect||(t.numMultipleTimesMinus-=1),e.isNotDeactivate||ne(t,o);else if(i<0)for(let l=0;l>-1*i;l++)e.isAllowDeselect||(t.numMultipleTimesPluss+=1),e.isNotDeactivate||ae(t,o)}else{const o=ro.get(t.id);let l=0;void 0!==o?(l=o.multiple-i,0===l?ro.delete(t.id):ro.set(t.id,{multiple:l,isAllowDeselect:e.isAllowDeselect||!1})):ro.delete(t.id)}}else void 0!==t.activatedFrom?(t.activatedFrom--,t.activatedFrom<=0&&(t.isActive?(delete t.activatedFrom,delete t.forcedActivated,e.isNotDeactivate||le(t,o)):ro.delete(t.id))):(delete t.forcedActivated,!e.isNotDeactivate&&t.isActive&&le(t,o))}function K(e){if(void 0!==e.activateThisChoice){let t=e.activateThisChoice.split(","),o=new Map;for(let e=0;e<t.length;e++){let[i,l="0"]=t[e].split("/ON#"),r=parseInt(l),a=uo.get(i);if(void 0!==a)for(let e=0;e<a.elements.length;e++)lo.has(a.elements[e])||o.set(a.elements[e],r);else lo.has(i)||o.set(i,r)}let i=[...o.keys()],l=Math.min(i.length,e.numActivateRandom||0),r=l;for(let e=i.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1));[i[e],i[t]]=[i[t],i[e]]}let a=[];for(let n=0;n<l;){let t=i[n],s=co.get(t);if(void 0!==s){let d=s.row,c=s.choice;if(_(e,c,d,o.get(t)||0),!c.isActive){if(a.length<l&&i.length>r){i[n]=i[r++],void 0!==c.activatedFrom&&(c.activatedFrom--,0===c.activatedFrom&&ro.delete(c.id));continue}break}a.push(t)}n++}e.isSelectableMultiple?(void 0===e.activatedRandomMul&&(e.activatedRandomMul=[]),e.activatedRandomMul[e.multipleUseVariable-1]=[...a]):e.activatedRandom=[...a]}}function ee(e,t,o,i=new Set){Array.from(lo.entries()).forEach(([l])=>{const r=co.get(l);if(void 0!==r){const l=r.row,a=r.choice,n=new x;let s=!1;for(let o=0;o<a.scores.length;o++){const r=a.scores[o];if(!r.isNotRecalculatable){const o=no.get(r.id);if(void 0!==o){if(e.discountOther&&r.isChangeDiscount&&void 0!==r.tmpDisScore){const t=a.multipleUseVariable;if(a.isSelectableMultiple&&a.isMultipleUseVariable&&void 0!==a.numMultipleTimesMinus){for(let e=t-1;e>=0;e--)a.isActive&&(o.belowZeroNotAllowed&&o.startingSum+r.tmpDisScore<0?a.forcedActivated&&a.isActive?(a.forcedActivated=!1,a.numMultipleTimesMinus--,ne(a,l),a.forcedActivated=!0):ne(a,l):o.startingSum+=r.tmpDisScore);a.isActive&&(n.set(r.id,r.tmpDisScore),delete r.isChangeDiscount,delete r.tmpDisScore)}else if(!a.isSelectableMultiple)if(o.belowZeroNotAllowed&&o.startingSum+r.tmpDisScore<0)if(a.forcedActivated&&(delete a.forcedActivated,a.isAllowDeselect||ro.set(a.id,{multiple:a.multipleUseVariable})),a.isSelectableMultiple&&a.isMultipleUseVariable)for(let e=0;e<a.multipleUseVariable;e++)a.isActive&&ne(a,l);else a.isActive&&le(a,l);else o.startingSum+=r.tmpDisScore,n.set(r.id,r.tmpDisScore),delete r.isChangeDiscount,delete r.tmpDisScore;0===H.length?H.push(`Scores Updated On: ${a.title}`):H.push(`, ${a.title}`),s=e.id!==a.id}if(!i.has(r.idx)){const d=e.scores.length>0,c=e.scores.length||1;for(let u=0;u<c;u++){const c=d?e.scores[u]:null,g=c&&t.get(c.id)||0,v=c?no.get(c.id):null;if((!d||d&&v)&&a.isActive){const t=Si(r.requireds),d=new x(JSON.parse(JSON.stringify([...lo])));d.set(e.id,{multiple:e.multipleUseVariable}),l.currentChoices+=1,v&&(v.startingSum+=g);const c=Si(r.requireds,d);if(l.currentChoices-=1,v&&(v.startingSum-=g),c!==t){let e=r.discountIsOn&&void 0!==r.discountScore?r.discountScore:r.value;if(e=o.allowFloat?e:Math.floor(e),c)if(a.isSelectableMultiple&&a.isMultipleUseVariable&&void 0!==a.numMultipleTimesMinus){for(let t=a.multipleUseVariable-1;t>=0;t--)void 0!==r.isActiveMul&&r.isActiveMul[t]&&(o.belowZeroNotAllowed&&o.startingSum+e<0?a.forcedActivated&&a.isActive?(a.forcedActivated=!1,a.numMultipleTimesMinus--,ne(a,l),a.forcedActivated=!0):ne(a,l):(o.startingSum+=e,n.set(r.id,e),r.isActiveMul[t]=!1))}else a.isSelectableMultiple||r.isActive&&(o.belowZeroNotAllowed&&o.startingSum+e<0?(a.forcedActivated&&delete a.forcedActivated,le(a,l)):(o.startingSum+=e,n.set(r.id,e),delete r.isActive));else if(a.isSelectableMultiple&&a.isMultipleUseVariable&&void 0!==a.numMultipleTimesMinus){const t=a.multipleUseVariable;void 0===r.isActiveMul&&(r.isActiveMul=[]);for(let i=t-1;i>=0;i--)r.isActiveMul[i]||(o.belowZeroNotAllowed&&o.startingSum+e<0?a.forcedActivated&&a.isActive?(a.forcedActivated=!1,a.numMultipleTimesMinus--,ne(a,l),a.forcedActivated=!0):ne(a,l):(o.startingSum-=e,n.set(r.id,e),r.isActiveMul[i]=!0))}else a.isSelectableMultiple||r.isActive||(o.belowZeroNotAllowed&&o.startingSum-e<0?(a.forcedActivated&&delete a.forcedActivated,le(a,l)):(o.startingSum-=e,n.set(r.id,e),r.isActive=!0));s||(0===H.length?H.push(`Scores Updated On: ${a.title}`):H.push(`, ${a.title}`),s=!0),i.add(r.idx)}}}}}}}s&&ee(a,n,++o,i)}}),H.length>0&&!app.hideScoresUpdated&&(Co.labelText=H.join(""),Co.isOpen=!0),H.splice(0)}function te(e,t,o,i=new Set){Array.from(lo.entries()).forEach(([l])=>{const r=co.get(l);if(void 0!==r){const l=r.row,a=r.choice,n=new x;let s=!1;for(let o=0;o<a.scores.length;o++){const r=a.scores[o];if(!r.isNotRecalculatable){const o=no.get(r.id);if(void 0!==o){if(e.discountOther&&r.isChangeDiscount&&void 0!==r.tmpDisScore&&a.id!==e.id){const e=a.multipleUseVariable;if(a.isSelectableMultiple&&a.isMultipleUseVariable&&void 0!==a.numMultipleTimesMinus){for(let t=e-1;t>=0;t--)a.isActive&&(o.belowZeroNotAllowed&&o.startingSum+r.tmpDisScore<0?a.forcedActivated&&a.isActive?(a.forcedActivated=!1,a.numMultipleTimesMinus--,ne(a,l),a.forcedActivated=!0):ne(a,l):o.startingSum+=r.tmpDisScore);a.isActive&&(n.set(r.id,r.tmpDisScore),delete r.isChangeDiscount,delete r.tmpDisScore)}else a.isSelectableMultiple||(o.belowZeroNotAllowed&&o.startingSum+r.tmpDisScore<0?(a.forcedActivated&&delete a.forcedActivated,le(a,l)):(o.startingSum+=r.tmpDisScore,n.set(r.id,r.tmpDisScore),delete r.isChangeDiscount,delete r.tmpDisScore));0===H.length?H.push(`Scores Updated On: ${a.title}`):H.push(`, ${a.title}`),s=!0}if(!i.has(r.idx)){const d=e.scores.length>0,c=e.scores.length||1;for(let u=0;u<c;u++){const c=d?e.scores[u]:null,g=c&&t.get(c.id)||0,v=c?no.get(c.id):null;if((!d||d&&v)&&a.isActive&&!r.isChanged){const t=Si(r.requireds),d=new x(JSON.parse(JSON.stringify([...lo])));d.delete(e.id),l.currentChoices-=1,v&&(v.startingSum+=g);const c=Si(r.requireds,d);if(l.currentChoices+=1,v&&(v.startingSum-=g),c!==t){let e=r.discountIsOn&&void 0!==r.discountScore?r.discountScore:r.value;if(e=o.allowFloat?e:Math.floor(e),c)if(a.isSelectableMultiple&&a.isMultipleUseVariable&&void 0!==a.numMultipleTimesMinus){for(let t=a.multipleUseVariable-1;t>=0;t--)void 0!==r.isActiveMul&&r.isActiveMul[t]&&(o.belowZeroNotAllowed&&o.startingSum+e<0?a.forcedActivated&&a.isActive?(a.forcedActivated=!1,a.numMultipleTimesMinus--,ne(a,l),a.forcedActivated=!0):ne(a,l):(o.startingSum+=e,n.set(r.id,e),r.isActiveMul[t]=!1))}else a.isSelectableMultiple||r.isActive&&(o.belowZeroNotAllowed&&o.startingSum+e<0?(a.forcedActivated&&delete a.forcedActivated,le(a,l)):(o.startingSum+=e,n.set(r.id,e),delete r.isActive));else if(a.isSelectableMultiple&&a.isMultipleUseVariable&&void 0!==a.numMultipleTimesMinus){const t=a.multipleUseVariable;void 0===r.isActiveMul&&(r.isActiveMul=[]);for(let i=t-1;i>=0;i--)r.isActiveMul[i]||(o.belowZeroNotAllowed&&o.startingSum+e<0?a.forcedActivated&&a.isActive?(a.forcedActivated=!1,a.numMultipleTimesMinus--,ne(a,l),a.forcedActivated=!0):ne(a,l):(o.startingSum-=e,n.set(r.id,e),r.isActiveMul[i]=!0))}else a.isSelectableMultiple||r.isActive||(o.belowZeroNotAllowed&&o.startingSum-e<0?(a.forcedActivated&&delete a.forcedActivated,le(a,l)):(o.startingSum-=e,n.set(r.id,e),r.isActive=!0));s||(0===H.length?H.push(`Scores Updated On: ${a.title}`):H.push(`, ${a.title}`),s=!0),i.add(r.idx)}}}}}}}s&&te(a,n,++o,i)}}),H.length>0&&!app.hideScoresUpdated&&(Co.labelText=H.join(""),Co.isOpen=!0),H.splice(0)}function oe(){let e=!1;Array.from(ro.entries()).forEach(([t,o])=>{const i=co.get(t);if(void 0!==i){const l=i.row,r=i.choice;r.isActive||(ie(r,l),r.isActive&&(ro.delete(t),e=!0,o.isAllowDeselect||(r.forcedActivated=!0)))}}),e&&oe()}function ie(e,t){let i=t;if(t.isResultRow){const t=co.get(e.id);void 0!==t&&(i=t.row)}e.isSelectableMultiple?e.id===o.choice.id&&e.allowSelectByClick&&0===e.multipleUseVariable&&ae(e,i):!Si(e.requireds)||t.isInfoRow||e.isNotSelectable||e.forcedActivated||(e.isActive?e.selectOnce||le(e,i):re(e,i))}function le(e,t){if(Li(e,!1)){const o=()=>{const o=new x;for(let t=0;t<e.scores.length;t++){const i=e.scores[t];if(Si(i.requireds)&&i.isActive||i.isActive){const e=no.get(i.id);if(void 0!==e){let t=i.discountIsOn&&void 0!==i.discountScore?i.discountScore:i.value;t=e.allowFloat?t:Math.floor(t),e.startingSum+=t;let l=o.get(i.id);void 0!==l?o.set(i.id,-t+l):o.set(i.id,-t),delete i.isActive,delete i.setValue}}}if(e.activateOtherChoice&&void 0!==e.activateThisChoice)if(e.isActivateRandom&&void 0!==e.activatedRandom){for(let t=0;t<e.activatedRandom.length;t++){const o=co.get(e.activatedRandom[t]);if(void 0!==o){const t=o.row,i=o.choice;Z(e,i,t,0)}}delete e.activatedRandom}else{const t=e.activateThisChoice.split(",");for(let o=0;o<t.length;o++){const i=t[o].split("/ON#"),l=i.length>1?parseInt(i[1]):0,r=co.get(i[0]);if(void 0!==r){const t=r.row,o=r.choice;Z(e,o,t,l)}else{const t=uo.get(i[0]);if(void 0!==t){const o=t.elements;for(let t=0;t<o.length;t++){const i=co.get(o[t]);if(void 0!==i){const t=i.row,o=i.choice;Z(e,o,t,l)}}}}}}if(e.discountOther&&void 0!==e.discountOperator&&void 0!==e.discountValue)if(void 0===e.discountPointTypes&&(e.discountPointTypes=[]),e.isDisChoices){const t=new Set;if(void 0!==e.discountRows)for(let o=0;o<e.discountRows.length;o++){const i=so.get(e.discountRows[o]);if(void 0!==i)for(let o=0;o<i.objects.length;o++){const l=i.objects[o];for(let t=0;t<l.scores.length;t++){const o=l.scores[t];o.isNotDiscountable||0!==e.discountPointTypes.length&&-1===e.discountPointTypes.indexOf(o.id)||Di(e,o)}t.add(l.id)}}if(void 0!==e.discountChoices)for(let o=0;o<e.discountChoices.length;o++)if(!t.has(e.discountChoices[o])){const i=co.get(e.discountChoices[o]);if(void 0!==i){const o=i.choice;for(let l=0;l<o.scores.length;l++){const o=i.choice.scores[l];o.isNotDiscountable||0!==e.discountPointTypes.length&&-1===e.discountPointTypes.indexOf(o.id)||t.has(o.idx)||Di(e,o)}}}}else if(void 0!==e.discountGroups)for(let t=0;t<e.discountGroups.length;t++){const o=uo.get(e.discountGroups[t]);if(void 0!==o)for(let t=0;t<o.elements.length;t++){const i=co.get(o.elements[t]);if(void 0!==i)for(let t=0;t<i.choice.scores.length;t++){const o=i.choice.scores[t];o.isNotDiscountable||0!==e.discountPointTypes.length&&-1===e.discountPointTypes.indexOf(o.id)||Di(e,o)}}}if(e.isActive=!1,t.currentChoices-=1,lo.delete(e.id),Array.from(lo.entries()).forEach(([t,o])=>{const i=co.get(t);if(void 0!==i){const t=i.row,l=i.choice;if(l.id!==e.id&&!Si(l.requireds))if(l.forcedActivated&&(delete l.forcedActivated,l.isAllowDeselect||ro.set(l.id,{multiple:o.multiple})),0===o.multiple)l.isActive&&le(l,t);else if(o.multiple>0)for(let e=0;e<o.multiple;e++)l.isActive&&ne(l,t)}}),e.multiplyPointtypeIsOnCheck&&void 0!==e.pointTypeToMultiply){let t=0;for(let o=0;o<e.pointTypeToMultiply.length;o++){let i=no.get(e.pointTypeToMultiply[o]);if(void 0!==i){for(let l=bo.length-1;l>=0;l--){let r=bo[l];if(r.multiplyPointtypeIsOnCheck&&void 0!==r.startingSumAtMultiply){let e=r.startingSumAtMultiply[o].value*r.startingSumAtMultiply[o].calcVal;e=i.allowFloat?e:Math.floor(e),i.startingSum-=e,i.startingSum+=r.startingSumAtMultiply[o].value}if(r.dividePointtypeIsOnCheck&&void 0!==r.startingSumAtDivide){let e=r.startingSumAtDivide[o].value/r.startingSumAtDivide[o].calcVal;e=i.allowFloat?e:Math.floor(e),i.startingSum-=e,i.startingSum+=r.startingSumAtDivide[o].value}if(r.id===e.id){t=l;break}}for(let e=t+1;e<bo.length;e++){let t=bo[e];t.multiplyPointtypeIsOnCheck&&void 0!==t.startingSumAtMultiply&&(t.startingSumAtMultiply[o].value=i.startingSum,i.startingSum*=t.startingSumAtMultiply[o].calcVal,i.startingSum=i.allowFloat?i.startingSum:Math.floor(i.startingSum)),t.dividePointtypeIsOnCheck&&void 0!==t.startingSumAtDivide&&(t.startingSumAtDivide[o].value=i.startingSum,i.startingSum/=t.startingSumAtDivide[o].calcVal,i.startingSum=i.allowFloat?i.startingSum:Math.floor(i.startingSum))}}}delete e.multiplyPointtypeIsOnCheck,delete e.startingSumAtMultiply,e.dividePointtypeIsOnCheck||bo.splice(t,1)}if(e.dividePointtypeIsOnCheck&&void 0!==e.pointTypeToDivide){let t=0;for(let o=0;o<e.pointTypeToDivide.length;o++){let i=no.get(e.pointTypeToDivide[o]);if(void 0!==i){for(let l=bo.length-1;l>=0;l--){let r=bo[l];if(r.multiplyPointtypeIsOnCheck&&void 0!==r.startingSumAtMultiply){let e=r.startingSumAtMultiply[o].value*r.startingSumAtMultiply[o].calcVal;e=i.allowFloat?e:Math.floor(e),i.startingSum-=e,i.startingSum+=r.startingSumAtMultiply[o].value}if(r.dividePointtypeIsOnCheck&&void 0!==r.startingSumAtDivide){let e=r.startingSumAtDivide[o].value/r.startingSumAtDivide[o].calcVal;e=i.allowFloat?e:Math.floor(e),i.startingSum-=e,i.startingSum+=r.startingSumAtDivide[o].value}if(r.id===e.id){t=l;break}}for(let e=t+1;e<bo.length;e++){let t=bo[e];t.multiplyPointtypeIsOnCheck&&void 0!==t.startingSumAtMultiply&&(t.startingSumAtMultiply[o].value=i.startingSum,i.startingSum*=t.startingSumAtMultiply[o].calcVal,i.startingSum=i.allowFloat?i.startingSum:Math.floor(i.startingSum)),t.dividePointtypeIsOnCheck&&void 0!==t.startingSumAtDivide&&(t.startingSumAtDivide[o].value=i.startingSum,i.startingSum/=t.startingSumAtDivide[o].calcVal,i.startingSum=i.allowFloat?i.startingSum:Math.floor(i.startingSum))}}}delete e.dividePointtypeIsOnCheck,delete e.startingSumAtDivide,bo.splice(t,1)}if(e.isChangeVariables&&void 0!==e.changedVariables)for(let t=0;t<e.changedVariables.length;t++){const o=ho.get(e.changedVariables[t]);void 0!==o&&("1"===e.changeType?o.isTrue=!1:"2"===e.changeType?o.isTrue=!0:"3"===e.changeType&&(o.isTrue=!o.isTrue))}if(e.addToAllowChoice&&void 0!==e.idOfAllowChoice&&void 0!==e.numbAddToAllowChoice)for(let t=0;t<e.idOfAllowChoice.length;t++){const o=so.get(e.idOfAllowChoice[t]);if(void 0!==o&&(o.allowedChoices-=e.numbAddToAllowChoice,o.allowedChoices>0&&o.currentChoices>=o.allowedChoices))for(let e=0;e<o.objects.length;e++){const t=o.objects[e];if(t.isActive&&!t.forcedActivated)if(t.isSelectableMultiple){let e=t.multipleUseVariable;for(let i=0;i<e;i++)ne(t,o)}else le(t,o);if(o.allowedChoices>=o.currentChoices)break}}if(e.textfieldIsOn&&void 0!==e.idOfTheTextfieldWord&&void 0!==e.wordChangeSelect){const t=vo.get(e.idOfTheTextfieldWord);void 0!==t&&(t.replaceText=void 0===e.wordChangeDeselect?"":e.wordChangeDeselect)}if(e.isImageUpload&&void 0!==e.defaultImage&&(e.image=e.defaultImage),e.backpackBtnRequirement&&void 0!==app.btnBackpackIsOn&&(app.btnBackpackIsOn-=1),e.showAllAddons&&void 0!==app.showAllAddons&&(app.showAllAddons-=1),e.changeBackground)if(e.changeBgImage){if(void 0!==app.bgImageStack){const t=app.bgImageStack.findIndex(t=>t.id===e.id);-1!==t&&app.bgImageStack.splice(t,1);const o=app.bgImageStack.length;o>0?app.styling.backgroundImage=app.bgImageStack[o-1].data:(app.styling.backgroundImage=void 0!==app.defaultBgImage?app.defaultBgImage:"",delete app.bgImageStack)}}else if(void 0!==e.changedBgColorCode&&void 0!==app.bgColorStack){const t=app.bgColorStack.findIndex(t=>t.id===e.id);-1!==t&&app.bgColorStack.splice(t,1);const o=app.bgColorStack.length;o>0?app.styling.backgroundColor=app.bgColorStack[o-1].data:(app.styling.backgroundColor=void 0!==app.defaultBgColor?app.defaultBgColor:"#FFFFFFFF",delete app.bgColorStack)}if(e.changePointBar){if(e.changeBarBgColorIsOn&&void 0!==e.changedBarBgColor&&void 0!==app.barBgColorStack){const t=app.barBgColorStack.findIndex(t=>t.id===e.id);-1!==t&&app.barBgColorStack.splice(t,1);const o=app.barBgColorStack.length;o>0?app.styling.barBackgroundColor=app.barBgColorStack[o-1].data:(app.styling.barBackgroundColor=void 0!==app.defaultBarBgColor?app.defaultBarBgColor:"#FFFFFFFF",delete app.barBgColorStack)}if(e.changeBarIconColorIsOn&&void 0!==e.changedBarIconColor&&void 0!==app.barIconColorStack){const t=app.barIconColorStack.findIndex(t=>t.id===e.id);-1!==t&&app.barIconColorStack.splice(t,1);const o=app.barIconColorStack.length;o>0?app.styling.barIconColor=app.barIconColorStack[o-1].data:(app.styling.barIconColor=void 0!==app.defaultBarIconColor?app.defaultBarIconColor:"#0000008A",delete app.barIconColorStack)}if(e.changeBarTextColorIsOn&&void 0!==e.changedBarTextColor&&void 0!==app.barTextColorStack){const t=app.barTextColorStack.findIndex(t=>t.id===e.id);-1!==t&&app.barTextColorStack.splice(t,1);const o=app.barTextColorStack.length;o>0?app.styling.barTextColor=app.barTextColorStack[o-1].data:(app.styling.barTextColor=void 0!==app.defaultBarIconColor?app.defaultBarIconColor:"#000000",delete app.barTextColorStack)}}if(e.changeTemplates&&e.changeTemplatesList&&e.changeToThisTemplate){const t=e.changeTemplatesList.split(",");for(let o=0;o<t.length;o++){const i=t[o],l=co.get(i);if(void 0!==l){const t=l.choice;if(Ol(t,e.id),e.changeAddonTemplate)for(let o=0;o<t.addons.length;o++){Ol(t.addons[o],e.id)}continue}const r=so.get(i);if(void 0!==r){Ol(r,e.id);continue}const a=uo.get(i[0]);if(void 0!==a){const t=a.rowElements;for(let i=0;i<t.length;i++){const o=so.get(t[i]);void 0!==o&&Ol(o,e.id)}const o=a.elements;for(let i=0;i<o.length;i++){const t=co.get(o[i]);if(void 0!==t){Ol(t.choice,e.id)}}continue}}}if(e.changeWidth&&e.changeWidthList&&e.changeToThisWidth){const t=e.changeWidthList.split(",");for(let o=0;o<t.length;o++){const i=t[o],l=co.get(i);if(void 0!==l){Rl(l.choice,e.id);continue}const r=so.get(i);if(void 0!==r){Rl(r,e.id);continue}const a=uo.get(i[0]);if(void 0!==a){const t=a.rowElements;for(let i=0;i<t.length;i++){const o=so.get(t[i]);void 0!==o&&Rl(o,e.id)}const o=a.elements;for(let i=0;i<o.length;i++){const t=co.get(o[i]);if(void 0!==t){Rl(t.choice,e.id)}}continue}}}if(e.setBgmIsOn&&$o&&e.bgmId&&(To.bgmIsPlaying=!1,Fi(e,e.bgmId,0)),e.muteBgm&&$o){const e=O($o);app.isMute=!1,e&&"function"==typeof e.unMute&&e.unMute()}if(e.isContentHidden&&void 0!==e.hiddenContentsRow&&void 0!==e.hiddenContentsType)for(let t=0;t<e.hiddenContentsRow.length;t++){const o=so.get(e.hiddenContentsRow[t]);if(void 0!==o)for(let t=0;t<e.hiddenContentsType.length;t++)switch(e.hiddenContentsType[t]){case"1":delete o.objectTitleRemoved;break;case"2":delete o.objectImageRemoved;break;case"3":delete o.objectTextRemoved;break;case"4":delete o.objectScoreRemoved;break;case"5":delete o.objectRequirementRemoved;break;case"6":delete o.addonTitleRemoved;break;case"7":delete o.addonImageRemoved;break;case"8":delete o.addonTextRemoved}}delete e.tempSlots,ee(e,o,0),oe()};-1===p.indexOf(e.id)&&(e.isFadeTransition?(void 0===e.fadeTransitionColor||""===e.fadeTransitionColor?app.fadeTransitionColor="000000FF":app.fadeTransitionColor=e.fadeTransitionColor,void 0===e.fadeInTransitionTime?app.fadeTransitionTime=.25:app.fadeTransitionTime=e.fadeInTransitionTime/1e3,app.fadeTransitionIsOn=!0,window.setTimeout(()=>{void 0!==e.fadeOutTransitionTime&&(app.fadeTransitionTime=e.fadeOutTransitionTime/1e3),app.fadeTransitionIsOn=!1,o()},1e3*app.fadeTransitionTime)):o()),0===p.indexOf(e.id)&&p.splice(0)}}function re(e,t){let i=!0;if(t.allowedChoices>0&&t.currentChoices>=t.allowedChoices){let e=0;for(let o=0;o<t.objects.length;o++){const i=t.objects[o];if(i.isActive){if(!i.forcedActivated){if(i.isSelectableMultiple){let e=i.multipleUseVariable;for(let o=0;o<e;o++)ie(i,t)}else ie(i,t);break}e++}}e>=t.allowedChoices&&(i=!1)}if(i){for(let t=0;t<e.scores.length;t++){const o=e.scores[t],i=no.get(o.id);void 0!==i&&o.isRandom&&!o.setValue&&void 0!==o.maxValue&&void 0!==o.minValue&&(o.value=Math.floor(Math.random()*(o.maxValue-o.minValue+1))+o.minValue,o.value=i.allowFloat?o.value:Math.floor(o.value),o.setValue=!0)}if(Li(e,!0)){const i=()=>{const i=new x;if(e.isActive=!0,lo.set(e.id,{multiple:0}),t.currentChoices+=1,e.discountOther&&void 0!==e.discountOperator&&void 0!==e.discountValue)if(e.isDisChoices){const t=new Set;if(void 0!==e.discountRows)for(let o=0;o<e.discountRows.length;o++){const i=so.get(e.discountRows[o]);if(void 0!==i)for(let o=0;o<i.objects.length;o++){const l=i.objects[o];for(let t=0;t<l.scores.length;t++){const o=l.scores[t];o.isNotDiscountable||0!==e.discountPointTypes?.length&&-1===e.discountPointTypes?.indexOf(o.id)||Pi(e,o)}t.add(l.id)}}if(void 0!==e.discountChoices)for(let o=0;o<e.discountChoices.length;o++)if(!t.has(e.discountChoices[o])){const t=co.get(e.discountChoices[o]);if(void 0!==t){const o=t.choice;for(let t=0;t<o.scores.length;t++){const i=o.scores[t];i.isNotDiscountable||0!==e.discountPointTypes?.length&&-1===e.discountPointTypes?.indexOf(i.id)||Pi(e,i)}}}}else if(void 0!==e.discountGroups)for(let t=0;t<e.discountGroups.length;t++){const o=uo.get(e.discountGroups[t]);if(void 0!==o)for(let t=0;t<o.elements.length;t++){const i=co.get(o.elements[t]);if(void 0!==i)for(let t=0;t<i.choice.scores.length;t++){const o=i.choice.scores[t];o.isNotDiscountable||0!==e.discountPointTypes?.length&&-1===e.discountPointTypes?.indexOf(o.id)||Pi(e,o)}}}for(let t=0;t<e.scores.length;t++){const o=e.scores[t];if(Si(o.requireds)&&!o.isActive){const e=no.get(o.id);if(void 0!==e){let t=o.discountIsOn&&void 0!==o.discountScore?o.discountScore:o.value;t=e.allowFloat?t:Math.floor(t),e.startingSum-=t,o.isActive=!0;let l=i.get(o.id);void 0!==l?i.set(o.id,t+l):i.set(o.id,t)}}}if(e.duplicateRow&&void 0!==e.duplicateRowId&&void 0!==e.duplicateRowPlace&&Ei(e),e.activateOtherChoice&&void 0!==e.activateThisChoice)if(e.isActivateRandom)K(e);else{const t=e.activateThisChoice.split(",");for(let o=0;o<t.length;o++){const i=t[o].split("/ON#"),l=i.length>1?parseInt(i[1]):0,r=co.get(i[0]);if(void 0!==r){const t=r.row,o=r.choice;_(e,o,t,l)}else{const t=uo.get(i[0]);if(void 0!==t){const o=t.elements;for(let t=0;t<o.length;t++){const i=co.get(o[t]);if(void 0!==i){const t=i.row,o=i.choice;_(e,o,t,l)}}}}}}if(e.deactivateOtherChoice&&void 0!==e.deactivateThisChoice){const t=e.deactivateThisChoice.split(",");for(let e=0;e<t.length;e++){const o=t[e].split("/ON#"),i=o.length>1?parseInt(o[1]):0,l=co.get(o[0]);if(void 0!==l){const e=l.row,t=l.choice;if(t.isActive)if(t.isSelectableMultiple&&t.isMultipleUseVariable)for(let o=0;o<i;o++)ne(t,e);else le(t,e)}else{const e=uo.get(o[0]);if(void 0!==e){const t=e.elements;for(let e=0;e<t.length;e++){const o=co.get(t[e]);if(void 0!==o){const e=o.row,t=o.choice;if(t.isActive)if(t.isSelectableMultiple&&t.isMultipleUseVariable)for(let o=0;o<i;o++)ne(t,e);else le(t,e)}}}}}}if(Array.from(lo.entries()).forEach(([t,o])=>{const i=co.get(t);if(void 0!==i){const t=i.row,l=i.choice;if(l.id!==e.id&&!Si(l.requireds))if(l.forcedActivated&&(delete l.forcedActivated,l.isAllowDeselect||ro.set(l.id,{multiple:o.multiple})),0===o.multiple)l.isActive&&le(l,t);else if(o.multiple>0)for(let e=0;e<o.multiple;e++)l.isActive&&ne(l,t)}}),e.multiplyPointtypeIsOn&&void 0!==e.pointTypeToMultiply&&void 0!==e.multiplyWithThis){let t=0;e.multiplyPointtypeIsOnCheck=!0,"object"!=typeof e.startingSumAtMultiply&&(e.startingSumAtMultiply=[]);for(let o=0;o<e.pointTypeToMultiply.length;o++){let i=no.get(e.pointTypeToMultiply[o]);if(void 0!==i)if(e.multiplyPointtypeIsId&&"string"==typeof e.multiplyWithThis){let l=no.get(e.multiplyWithThis);void 0!==l?(e.startingSumAtMultiply[o]={value:i.startingSum,calcVal:l.startingSum},i.startingSum*=l.startingSum,i.startingSum=i.allowFloat?i.startingSum:Math.floor(i.startingSum)):t++}else"number"==typeof e.multiplyWithThis&&(e.startingSumAtMultiply[o]={value:i.startingSum,calcVal:e.multiplyWithThis},i.startingSum*=e.multiplyWithThis,i.startingSum=i.allowFloat?i.startingSum:Math.floor(i.startingSum));else t++}t===e.pointTypeToMultiply.length&&delete e.multiplyPointtypeIsOnCheck,e.multiplyPointtypeIsOnCheck&&bo.push(e)}if(e.dividePointtypeIsOn&&void 0!==e.pointTypeToDivide&&void 0!==e.divideWithThis){let t=0;e.dividePointtypeIsOnCheck=!0,"object"!=typeof e.startingSumAtDivide&&(e.startingSumAtDivide=[]);for(let o=0;o<e.pointTypeToDivide.length;o++){let i=no.get(e.pointTypeToDivide[o]);if(void 0!==i)if(e.dividePointtypeIsId&&"string"==typeof e.divideWithThis){let l=no.get(e.divideWithThis);void 0!==l?0===l.startingSum?t++:(e.startingSumAtDivide[o]={value:i.startingSum,calcVal:l.startingSum},i.startingSum/=l.startingSum,i.startingSum=i.allowFloat?i.startingSum:Math.floor(i.startingSum)):t++}else"number"==typeof e.divideWithThis&&(0===e.dividedWithThis?t++:(e.startingSumAtDivide[o]={value:i.startingSum,calcVal:e.divideWithThis},i.startingSum/=e.divideWithThis,i.startingSum=i.allowFloat?i.startingSum:Math.floor(i.startingSum)));else t++}t===e.pointTypeToDivide.length&&delete e.dividePointtypeIsOnCheck,!e.multiplyPointtypeIsOnCheck&&e.dividePointtypeIsOnCheck&&bo.push(e)}if(e.isChangeVariables&&void 0!==e.changedVariables)for(let t=0;t<e.changedVariables.length;t++){const o=ho.get(e.changedVariables[t]);void 0!==o&&("1"===e.changeType?o.isTrue=!0:"2"===e.changeType?o.isTrue=!1:"3"===e.changeType&&(o.isTrue=!o.isTrue))}if(e.addToAllowChoice&&void 0!==e.idOfAllowChoice&&void 0!==e.numbAddToAllowChoice)for(let t=0;t<e.idOfAllowChoice.length;t++){const o=so.get(e.idOfAllowChoice[t]);if(void 0!==o&&(o.allowedChoices+=e.numbAddToAllowChoice,o.allowedChoices>0&&o.currentChoices>=o.allowedChoices))for(let e=0;e<o.objects.length;e++){const t=o.objects[e];if(t.isActive&&!t.forcedActivated)if(t.isSelectableMultiple){let e=t.multipleUseVariable;for(let i=0;i<e;i++)ne(t,o)}else le(t,o);if(o.allowedChoices>=o.currentChoices)break}}if(e.textfieldIsOn&&void 0!==e.idOfTheTextfieldWord&&void 0!==e.wordChangeSelect){const t=vo.get(e.idOfTheTextfieldWord);void 0!==t&&(t.replaceText=e.wordChangeSelect)}if(e.isImageUpload&&(e.defaultImage=e.image,yo.currentDialog="appImageUpload",yo.data=e,yo.imgProp="image"),e.backpackBtnRequirement&&(app.btnBackpackIsOn+=1),e.showAllAddons&&(app.showAllAddons+=1),e.changeBackground&&(e.changeBgImage?void 0!==e.bgImage&&(void 0===app.bgImageStack&&(app.bgImageStack=[],app.defaultBgImage=void 0!==app.styling.backgroundImage?app.styling.backgroundImage:""),app.bgImageStack.push({id:e.id,data:e.bgImage}),app.styling.backgroundImage=e.bgImage):void 0!==e.changedBgColorCode&&(void 0===app.bgColorStack&&(app.bgColorStack=[],app.defaultBgColor=void 0!==app.styling.backgroundColor?app.styling.backgroundColor:""),app.bgColorStack.push({id:e.id,data:e.changedBgColorCode}),app.styling.backgroundColor=e.changedBgColorCode)),e.changePointBar&&(e.changeBarBgColorIsOn&&void 0!==e.changedBarBgColor&&(void 0===app.barBgColorStack&&(app.barBgColorStack=[],app.defaultBarBgColor=void 0!==app.styling.barBackgroundColor?app.styling.barBackgroundColor:"#FFFFFFFF"),app.barBgColorStack.push({id:e.id,data:e.changedBarBgColor}),app.styling.barBackgroundColor=e.changedBarBgColor),e.changeBarIconColorIsOn&&void 0!==e.changedBarIconColor&&(void 0===app.barIconColorStack&&(app.barIconColorStack=[],app.defaultBarIconColor=void 0!==app.styling.barIconColor?app.styling.barIconColor:"#0000008A"),app.barIconColorStack.push({id:e.id,data:e.changedBarIconColor}),app.styling.barIconColor=e.changedBarIconColor),e.changeBarTextColorIsOn&&void 0!==e.changedBarTextColor&&(void 0===app.barTextColorStack&&(app.barTextColorStack=[],app.defaultBarTextColor=void 0!==app.styling.barTextColor?app.styling.barTextColor:"#000000"),app.barTextColorStack.push({id:e.id,data:e.changedBarTextColor}),app.styling.barTextColor=e.changedBarTextColor)),e.changeTemplates&&e.changeTemplatesList&&e.changeToThisTemplate){const t=e.changeTemplatesList.split(",");for(let o=0;o<t.length;o++){const i=t[o],l=co.get(i);if(void 0!==l){const t=l.choice;if(kl(t,e.id,e.changeToThisTemplate),e.changeAddonTemplate)for(let o=0;o<t.addons.length;o++){kl(t.addons[o],e.id,e.changeToThisTemplate)}continue}const r=so.get(i);if(void 0!==r){kl(r,e.id,e.changeToThisTemplate);continue}const a=uo.get(i[0]);if(void 0!==a){const t=a.rowElements;for(let i=0;i<t.length;i++){const o=so.get(t[i]);void 0!==o&&kl(o,e.id,e.changeToThisTemplate)}const o=a.elements;for(let i=0;i<o.length;i++){const t=co.get(o[i]);if(void 0!==t){kl(t.choice,e.id,e.changeToThisTemplate)}}continue}}}if(e.changeWidth&&e.changeWidthList&&e.changeToThisWidth){const t=e.changeWidthList.split(",");for(let o=0;o<t.length;o++){const i=t[o],l=co.get(i);if(void 0!==l){Fl(l.choice,e.id,e.changeToThisWidth);continue}const r=so.get(i);if(void 0!==r){Fl(r,e.id,e.changeToThisWidth);continue}const a=uo.get(i[0]);if(void 0!==a){const t=a.rowElements;for(let i=0;i<t.length;i++){const o=so.get(t[i]);void 0!==o&&Fl(o,e.id,e.changeToThisWidth)}const o=a.elements;for(let i=0;i<o.length;i++){const t=co.get(o[i]);if(void 0!==t){Fl(t.choice,e.id,e.changeToThisWidth)}}continue}}}if(e.setBgmIsOn&&e.bgmId&&(To.bgmIsPlaying=!0,To.isBgmInit?Fi(e,e.bgmId,0):(Ri(e),To.isBgmInit=!0)),e.muteBgm&&$o){const e=O($o);app.isMute=!0,e&&"function"==typeof e.mute&&e.mute()}if(e.isContentHidden&&void 0!==e.hiddenContentsRow&&void 0!==e.hiddenContentsType)for(let t=0;t<e.hiddenContentsRow.length;t++){const o=so.get(e.hiddenContentsRow[t]);if(void 0!==o){o.textIsRemoved||(o.textIsRemoved=!0);for(let t=0;t<e.hiddenContentsType.length;t++)switch(e.hiddenContentsType[t]){case"1":o.objectTitleRemoved=!0;break;case"2":o.objectImageRemoved=!0;break;case"3":o.objectTextRemoved=!0;break;case"4":o.objectScoreRemoved=!0;break;case"5":o.objectRequirementRemoved=!0;break;case"6":o.addonTitleRemoved=!0;break;case"7":o.addonImageRemoved=!0;break;case"8":o.addonTextRemoved=!0}}}e.scrollToRow&&J().then(()=>{setTimeout(()=>{if(e.scrollToObject){if(e.scrollObjectId){const t=co.get(e.scrollObjectId);if(void 0!==t){const e=t.choice,i=t.row,l=o.mainDiv?.children[i.index]?.children[0]?.children[1]?.children;if(void 0!==l)if(o.isBackpack){const t=document.getElementById("backpackDialog");t?.scrollTo({top:l[e.index].getBoundingClientRect().top+window.scrollY,behavior:"smooth"})}else window.scrollTo({top:l[e.index].getBoundingClientRect().top+window.scrollY,behavior:"smooth"})}}}else if(e.scrollRowId){const t=so.get(e.scrollRowId);if(void 0!==t){const e=o.mainDiv?.children;if(void 0!==e)if(o.isBackpack){const o=document.getElementById("backpackDialog");o?.scrollTo({top:e[t.index].getBoundingClientRect().top+window.scrollY,behavior:"smooth"})}else window.scrollTo({top:e[t.index].getBoundingClientRect().top+window.scrollY,behavior:"smooth"})}}},10)}),e.cleanACtivatedOnSelect&&Wi(),te(e,i,0),oe(),!Si(e.requireds)&&e.isActive&&le(e,t)};if(e.customTextfieldIsOn&&!F)return m.choice=e,m.row=t,m.context=void 0!==e.wordPromptText?e.wordPromptText:"",m.prevText=void 0!==e.wordChangeSelect?e.wordChangeSelect:"",m.isWord=!0,void c(k,"dlgCommon");if(e.confirmIsOn&&!F)return m.choice=e,m.row=t,m.context=void 0!==e.wordPromptText?e.wordPromptText:"",m.isWord=!1,void c(k,"dlgCommon");-1===p.indexOf(e.id)&&(e.isFadeTransition?(void 0===e.fadeTransitionColor||""===e.fadeTransitionColor?app.fadeTransitionColor="000000FF":app.fadeTransitionColor=e.fadeTransitionColor,void 0===e.fadeInTransitionTime?app.fadeTransitionTime=.25:app.fadeTransitionTime=e.fadeInTransitionTime/1e3,app.fadeTransitionIsOn=!0,window.setTimeout(()=>{void 0!==e.fadeOutTransitionTime&&(app.fadeTransitionTime=e.fadeOutTransitionTime/1e3),app.fadeTransitionIsOn=!1,i()},1e3*app.fadeTransitionTime)):i()),0===p.indexOf(e.id)&&p.splice(0)}}}function ae(e,t){const i=Si(e.requireds)&&!t.isInfoRow&&!e.isNotSelectable;let l=!0,r=t;if(t.isResultRow){const t=co.get(e.id);void 0!==t&&(r=t.row)}if(i&&e.isMultipleUseVariable&&r.allowedChoices>0&&r.currentChoices>=r.allowedChoices){let e=0;for(let t=0;t<r.objects.length;t++){const o=r.objects[t];if(o.isActive){if(!o.forcedActivated){if(o.isSelectableMultiple){let e=o.multipleUseVariable;for(let t=0;t<e;t++)ne(o,r)}else ie(o,r);break}e++}}e>=r.allowedChoices&&(l=!1)}if(l){for(let t=0;t<e.scores.length;t++){const o=e.scores[t],i=no.get(o.id);void 0!==i&&o.isRandom&&!o.setValue&&void 0!==o.maxValue&&void 0!==o.minValue&&(o.value=Math.floor(Math.random()*(o.maxValue-o.minValue+1))+o.minValue,o.value=i.allowFloat?o.value:Math.floor(o.value),o.setValue=!0)}if(Li(e,!0)){const l=()=>{const i=new x,l=e.isActive,a=e.multipleUseVariable>=0,n=Math.abs(e.multipleUseVariable);if(e.multipleUseVariable+=1,0===e.multipleUseVariable?(lo.delete(e.id),e.isActive=!1,r.currentChoices-=1):(1===e.multipleUseVariable&&(e.isActive=!0,r.currentChoices+=1),lo.set(e.id,{multiple:e.multipleUseVariable})),a){if(e.discountOther&&void 0!==e.discountOperator&&void 0!==e.discountValue&&(e.stackableDiscount||!e.stackableDiscount&&1===e.multipleUseVariable))if(e.isDisChoices){const t=new Set;if(void 0!==e.discountRows)for(let o=0;o<e.discountRows.length;o++){const i=so.get(e.discountRows[o]);if(void 0!==i)for(let o=0;o<i.objects.length;o++){const l=i.objects[o];for(let t=0;t<l.scores.length;t++){const o=l.scores[t];o.isNotDiscountable||0!==e.discountPointTypes?.length&&-1===e.discountPointTypes?.indexOf(o.id)||Pi(e,o)}t.add(l.id)}}if(void 0!==e.discountChoices)for(let o=0;o<e.discountChoices.length;o++)if(!t.has(e.discountChoices[o])){const t=co.get(e.discountChoices[o]);if(void 0!==t){const o=t.choice;for(let t=0;t<o.scores.length;t++){const i=o.scores[t];i.isNotDiscountable||0!==e.discountPointTypes?.length&&-1===e.discountPointTypes?.indexOf(i.id)||Pi(e,i)}}}}else if(void 0!==e.discountGroups)for(let t=0;t<e.discountGroups.length;t++){const o=uo.get(e.discountGroups[t]);if(void 0!==o)for(let t=0;t<o.elements.length;t++){const i=co.get(o.elements[t]);if(void 0!==i)for(let t=0;t<i.choice.scores.length;t++){const o=i.choice.scores[t];o.isNotDiscountable||0!==e.discountPointTypes?.length&&-1===e.discountPointTypes?.indexOf(o.id)||Pi(e,o)}}}for(let t=0;t<e.scores.length;t++){const o=e.scores[t];if(void 0===o.isActiveMul&&(o.isActiveMul=[]),Si(o.requireds)&&!o.isActiveMul[n]){const e=no.get(o.id);if(void 0!==e){let t=o.discountIsOn&&void 0!==o.discountScore?o.discountScore:o.value;t=e.allowFloat?t:Math.floor(t),o.multiplyByTimes&&(t*=n+1),e.startingSum-=t,o.isActiveMul[n]=!0;let l=i.get(o.id);void 0!==l?i.set(o.id,t+l):i.set(o.id,t)}}}}else for(let t=0;t<e.scores.length;t++){const o=e.scores[t];if(void 0===o.isActiveMulMinus&&(o.isActiveMulMinus=[]),Si(o.requireds)&&o.isActiveMulMinus[n]||o.isActiveMulMinus[n]){const e=no.get(o.id);if(void 0!==e){let t=o.discountIsOn&&void 0!==o.discountScore?o.discountScore:o.value;t=e.allowFloat?t:Math.floor(t),o.multiplyByTimes&&(t*=Math.abs(n)),e.startingSum-=t;let l=i.get(o.id);void 0!==l?i.set(o.id,t+l):i.set(o.id,t),delete o.isActiveMulMinus[n]}}}if(a&&(e.duplicateRow&&void 0!==e.duplicateRowId&&void 0!==e.duplicateRowPlace&&Ei(e),e.activateOtherChoice&&void 0!==e.activateThisChoice))if(e.isActivateRandom)K(e);else{const t=e.activateThisChoice.split(",");for(let o=0;o<t.length;o++){const i=t[o].split("/ON#"),r=i.length>1?parseInt(i[1]):0,a=co.get(i[0]);if(void 0!==a){const t=a.row,o=a.choice;!o.isSelectableMultiple&&l||_(e,o,t,r)}else{const t=uo.get(i[0]);if(void 0!==t){const o=t.elements;for(let t=0;t<o.length;t++){const i=co.get(o[t]);if(void 0!==i){const t=i.row,o=i.choice;!o.isSelectableMultiple&&l||_(e,o,t,r)}}}}}}if(Array.from(lo.entries()).forEach(([t,o])=>{const i=co.get(t);if(void 0!==i){const t=i.row,l=i.choice;if(l.id!==e.id&&!Si(l.requireds))if(l.forcedActivated&&(delete l.forcedActivated,l.isAllowDeselect||ro.set(l.id,{multiple:o.multiple})),0===o.multiple)l.isActive&&le(l,t);else if(o.multiple>0)for(let e=0;e<o.multiple;e++)l.isActive&&ne(l,t)}}),e.addToAllowChoice&&void 0!==e.idOfAllowChoice&&void 0!==e.numbAddToAllowChoice)for(let t=0;t<e.idOfAllowChoice.length;t++){const o=so.get(e.idOfAllowChoice[t]);if(void 0!==o&&(o.allowedChoices+=e.numbAddToAllowChoice,o.allowedChoices>0&&o.currentChoices>=o.allowedChoices))for(let e=0;e<o.objects.length;e++){const t=o.objects[e];if(t.isActive&&!t.forcedActivated)if(t.isSelectableMultiple){let e=t.multipleUseVariable;for(let i=0;i<e;i++)ne(t,o)}else t.isActive&&le(t,o);if(o.allowedChoices>=o.currentChoices)break}}if(!l){if(e.isChangeVariables&&void 0!==e.changedVariables)for(let t=0;t<e.changedVariables.length;t++){const o=ho.get(e.changedVariables[t]);void 0!==o&&("1"===e.changeType?o.isTrue=!0:"2"===e.changeType?o.isTrue=!1:"3"===e.changeType&&(o.isTrue=!o.isTrue))}if(e.backpackBtnRequirement&&(app.btnBackpackIsOn+=1),e.showAllAddons&&(app.showAllAddons+=1),e.changeBackground&&(e.changeBgImage?void 0!==e.bgImage&&(void 0===app.bgImageStack&&(app.bgImageStack=[],app.defaultBgImage=void 0!==app.styling.backgroundImage?app.styling.backgroundImage:""),app.bgImageStack.push({id:e.id,data:e.bgImage}),app.styling.backgroundImage=e.bgImage):void 0!==e.changedBgColorCode&&(void 0===app.bgColorStack&&(app.bgColorStack=[],app.defaultBgColor=void 0!==app.styling.backgroundColor?app.styling.backgroundColor:""),app.bgColorStack.push({id:e.id,data:e.changedBgColorCode}),app.styling.backgroundColor=e.changedBgColorCode)),e.changePointBar&&(e.changeBarBgColorIsOn&&void 0!==e.changedBarBgColor&&(void 0===app.barBgColorStack&&(app.barBgColorStack=[],app.defaultBarBgColor=void 0!==app.styling.barBackgroundColor?app.styling.barBackgroundColor:"#FFFFFFFF"),app.barBgColorStack.push({id:e.id,data:e.changedBarBgColor}),app.styling.barBackgroundColor=e.changedBarBgColor),e.changeBarIconColorIsOn&&void 0!==e.changedBarIconColor&&(void 0===app.barIconColorStack&&(app.barIconColorStack=[],app.defaultBarIconColor=void 0!==app.styling.barIconColor?app.styling.barIconColor:"#0000008A"),app.barIconColorStack.push({id:e.id,data:e.changedBarIconColor}),app.styling.barIconColor=e.changedBarIconColor),e.changeBarTextColorIsOn&&void 0!==e.changedBarTextColor&&(void 0===app.barTextColorStack&&(app.barTextColorStack=[],app.defaultBarTextColor=void 0!==app.styling.barTextColor?app.styling.barTextColor:"#000000"),app.barTextColorStack.push({id:e.id,data:e.changedBarTextColor}),app.styling.barTextColor=e.changedBarTextColor)),e.changeTemplates&&e.changeTemplatesList&&e.changeToThisTemplate){const t=e.changeTemplatesList.split(",");for(let o=0;o<t.length;o++){const i=t[o],l=co.get(i);if(void 0!==l){const t=l.choice;if(kl(t,e.id,e.changeToThisTemplate),e.changeAddonTemplate)for(let o=0;o<t.addons.length;o++){kl(t.addons[o],e.id,e.changeToThisTemplate)}continue}const r=so.get(i);if(void 0!==r){kl(r,e.id,e.changeToThisTemplate);continue}const a=uo.get(i[0]);if(void 0!==a){const t=a.rowElements;for(let i=0;i<t.length;i++){const o=so.get(t[i]);void 0!==o&&kl(o,e.id,e.changeToThisTemplate)}const o=a.elements;for(let i=0;i<o.length;i++){const t=co.get(o[i]);if(void 0!==t){kl(t.choice,e.id,e.changeToThisTemplate)}}continue}}}if(e.changeWidth&&e.changeWidthList&&e.changeToThisWidth){const t=e.changeWidthList.split(",");for(let o=0;o<t.length;o++){const i=t[o],l=co.get(i);if(void 0!==l){Fl(l.choice,e.id,e.changeToThisWidth);continue}const r=so.get(i);if(void 0!==r){Fl(r,e.id,e.changeToThisWidth);continue}const a=uo.get(i[0]);if(void 0!==a){const t=a.rowElements;for(let i=0;i<t.length;i++){const o=so.get(t[i]);void 0!==o&&Fl(o,e.id,e.changeToThisWidth)}const o=a.elements;for(let i=0;i<o.length;i++){const t=co.get(o[i]);if(void 0!==t){Fl(t.choice,e.id,e.changeToThisWidth)}}continue}}}if(e.setBgmIsOn&&e.bgmId&&(To.bgmIsPlaying=!0,To.isBgmInit?Fi(e,e.bgmId,0):(Ri(e),To.isBgmInit=!0)),e.muteBgm&&$o){const e=O($o);app.isMute=!0,e&&"function"==typeof e.mute&&e.mute()}if(e.isContentHidden&&void 0!==e.hiddenContentsRow&&void 0!==e.hiddenContentsType)for(let t=0;t<e.hiddenContentsRow.length;t++){const o=so.get(e.hiddenContentsRow[t]);if(void 0!==o){o.textIsRemoved||(o.textIsRemoved=!0);for(let t=0;t<e.hiddenContentsType.length;t++)switch(e.hiddenContentsType[t]){case"1":o.objectTitleRemoved=!0;break;case"2":o.objectImageRemoved=!0;break;case"3":o.objectTextRemoved=!0;break;case"4":o.objectScoreRemoved=!0;break;case"5":o.objectRequirementRemoved=!0;break;case"6":o.addonTitleRemoved=!0;break;case"7":o.addonImageRemoved=!0;break;case"8":o.addonTextRemoved=!0}}}if(e.changeTemplates&&e.changeTemplatesList&&e.changeToThisTemplate){const t=e.changeTemplatesList.split(",");for(let o=0;o<t.length;o++){const i=t[o],l=co.get(i);if(void 0!==l){const t=l.choice;t.defaultTemplate&&(t.defaultTemplate=t.template),t.template=e.changeToThisTemplate,e.changeAddonTemplate}else{const t=so.get(i);if(void 0!==t)t.defaultTemplate=t.template,t.template=e.changeToThisTemplate;else{const t=uo.get(i[0]);if(void 0!==t){const o=t.rowElements;for(let t=0;t<o.length;t++){const i=so.get(o[t]);void 0!==i&&(i.defaultTemplate=i.template,i.template=e.changeToThisTemplate)}const i=t.elements;for(let t=0;t<i.length;t++){const o=co.get(i[t]);if(void 0!==o){const t=o.choice;t.defaultTemplate=t.template,t.template=e.changeToThisTemplate}}}}}}}e.scrollToRow&&J().then(()=>{setTimeout(()=>{if(e.scrollToObject){if(e.scrollObjectId){const t=co.get(e.scrollObjectId);if(void 0!==t){const e=t.choice,i=t.row,l=o.mainDiv?.children[i.index]?.children[0]?.children[1]?.children;if(void 0!==l)if(o.isBackpack){const t=document.getElementById("backpackDialog");t?.scrollTo({top:l[e.index].getBoundingClientRect().top+window.scrollY,behavior:"smooth"})}else window.scrollTo({top:l[e.index].getBoundingClientRect().top+window.scrollY,behavior:"smooth"})}}}else if(e.scrollRowId){const t=so.get(e.scrollRowId);if(void 0!==t){const e=o.mainDiv?.children;if(void 0!==e)if(o.isBackpack){const o=document.getElementById("backpackDialog");o?.scrollTo({top:e[t.index].getBoundingClientRect().top+window.scrollY,behavior:"smooth"})}else window.scrollTo({top:e[t.index].getBoundingClientRect().top+window.scrollY,behavior:"smooth"})}}},10)})}te(e,i,0),oe(),!Si(e.requireds)&&e.isActive&&ne(e,t)};if(i)if(e.isMultipleUseVariable)void 0===e.multipleUseVariable&&(e.multipleUseVariable=0),void 0===e.numMultipleTimesPluss&&(e.numMultipleTimesPluss=0),e.numMultipleTimesPluss>e.multipleUseVariable&&(-1===p.indexOf(e.id)&&(e.isFadeTransition?(void 0===e.fadeTransitionColor||""===e.fadeTransitionColor?app.fadeTransitionColor="000000FF":app.fadeTransitionColor=e.fadeTransitionColor,void 0===e.fadeInTransitionTime?app.fadeTransitionTime=.25:app.fadeTransitionTime=e.fadeInTransitionTime/1e3,app.fadeTransitionIsOn=!0,window.setTimeout(()=>{void 0!==e.fadeOutTransitionTime&&(app.fadeTransitionTime=e.fadeOutTransitionTime/1e3),app.fadeTransitionIsOn=!1,l()},1e3*app.fadeTransitionTime)):l()),0===p.indexOf(e.id)&&p.splice(0));else if(void 0!==e.multipleScoreId){const t=no.get(e.multipleScoreId);void 0!==t&&(void 0===e.numMultipleTimesPluss&&(e.numMultipleTimesPluss=0),e.numMultipleTimesPluss>t.startingSum&&(t.startingSum+=1))}}}}function ne(e,t){const o=Li(e,!1);let i=t;if(t.isResultRow){const t=co.get(e.id);void 0!==t&&(i=t.row)}if(o){const o=()=>{const t=new x,o=e.multipleUseVariable>0,l=Math.abs(e.multipleUseVariable-1);if(o){for(let o=0;o<e.scores.length;o++){const i=e.scores[o];if(void 0!==i.isActiveMul&&(Si(i.requireds)&&i.isActiveMul[l]||i.isActiveMul[l])){const e=no.get(i.id);if(void 0!==e){let o=i.discountIsOn&&void 0!==i.discountScore?i.discountScore:i.value;o=e.allowFloat?o:Math.floor(o),i.multiplyByTimes&&(o*=l+1),e.startingSum+=o;let r=t.get(i.id);void 0!==r?t.set(i.id,-o+r):t.set(i.id,-o),delete i.isActiveMul[l],0===l&&delete i.setValue}}}if(e.activateOtherChoice&&void 0!==e.activateThisChoice)if(e.isActivateRandom&&void 0!==e.activatedRandomMul&&void 0!==e.activatedRandomMul[l]){for(let t=0;t<e.activatedRandomMul[l].length;t++){const o=co.get(e.activatedRandomMul[l][t]);if(void 0!==o){const t=o.row,i=o.choice;Z(e,i,t,0)}}e.activatedRandomMul.splice(l,1)}else{const t=e.activateThisChoice.split(",");for(let o=0;o<t.length;o++){const i=t[o].split("/ON#"),r=i.length>1?parseInt(i[1]):0,a=co.get(i[0]);if(void 0!==a){const t=a.row,o=a.choice;(0===l||o.isSelectableMultiple)&&Z(e,o,t,r)}else{const t=uo.get(i[0]);if(void 0!==t){const o=t.elements;for(let t=0;t<o.length;t++){const i=co.get(o[t]);if(void 0!==i){const t=i.row,o=i.choice;(0===l||o.isSelectableMultiple)&&Z(e,o,t,r)}}}}}}if(e.discountOther&&void 0!==e.discountOperator&&void 0!==e.discountValue&&(e.stackableDiscount||!e.stackableDiscount&&1===e.multipleUseVariable))if(void 0===e.discountPointTypes&&(e.discountPointTypes=[]),e.isDisChoices){const t=new Set;if(void 0!==e.discountRows)for(let o=0;o<e.discountRows.length;o++){const i=so.get(e.discountRows[o]);if(void 0!==i)for(let o=0;o<i.objects.length;o++){const l=i.objects[o];for(let t=0;t<l.scores.length;t++){const o=l.scores[t];o.isNotDiscountable||0!==e.discountPointTypes.length&&-1===e.discountPointTypes.indexOf(o.id)||Di(e,o)}t.add(l.id)}}if(void 0!==e.discountChoices)for(let o=0;o<e.discountChoices.length;o++)if(!t.has(e.discountChoices[o])){const i=co.get(e.discountChoices[o]);if(void 0!==i){const o=i.choice;for(let l=0;l<o.scores.length;l++){const o=i.choice.scores[l];o.isNotDiscountable||0!==e.discountPointTypes.length&&-1===e.discountPointTypes.indexOf(o.id)||t.has(o.idx)||Di(e,o)}}}}else if(void 0!==e.discountGroups)for(let t=0;t<e.discountGroups.length;t++){const o=uo.get(e.discountGroups[t]);if(void 0!==o)for(let t=0;t<o.elements.length;t++){const i=co.get(o.elements[t]);if(void 0!==i)for(let t=0;t<i.choice.scores.length;t++){const o=i.choice.scores[t];o.isNotDiscountable||0!==e.discountPointTypes.length&&-1===e.discountPointTypes.indexOf(o.id)||Di(e,o)}}}}else for(let i=0;i<e.scores.length;i++){const o=e.scores[i];if(void 0===o.isActiveMulMinus&&(o.isActiveMulMinus=[]),Si(o.requireds)&&!o.isActiveMulMinus[l]){const e=no.get(o.id);if(void 0!==e){let i=o.discountIsOn&&void 0!==o.discountScore?o.discountScore:o.value;i=e.allowFloat?i:Math.floor(i),o.multiplyByTimes&&(i*=l),e.startingSum+=i;let r=t.get(o.id);void 0!==r?t.set(o.id,-i+r):t.set(o.id,-i),o.isActiveMulMinus[l]=!0}}}if(e.multipleUseVariable-=1,0===e.multipleUseVariable?(e.isActive=!1,i.currentChoices-=1,lo.delete(e.id)):(-1===e.multipleUseVariable&&(e.isActive=!0,i.currentChoices+=1),lo.set(e.id,{multiple:e.multipleUseVariable})),Array.from(lo.entries()).forEach(([t,o])=>{const i=co.get(t);if(void 0!==i){const t=i.row,l=i.choice;if(l.id!==e.id&&!Si(l.requireds))if(l.forcedActivated&&(delete l.forcedActivated,l.isAllowDeselect||ro.set(l.id,{multiple:o.multiple})),0===o.multiple)l.forcedActivated&&delete l.forcedActivated,l.isActive&&le(l,t);else if(o.multiple>0)for(let e=0;e<o.multiple;e++)l.isActive&&ne(l,t)}}),e.addToAllowChoice&&void 0!==e.idOfAllowChoice&&void 0!==e.numbAddToAllowChoice)for(let i=0;i<e.idOfAllowChoice.length;i++){const t=so.get(e.idOfAllowChoice[i]);if(void 0!==t&&(t.allowedChoices-=e.numbAddToAllowChoice,t.allowedChoices>0&&t.currentChoices>=t.allowedChoices))for(let e=0;e<t.objects.length;e++){const o=t.objects[e];if(o.isActive&&!o.forcedActivated)if(o.isSelectableMultiple){let e=o.multipleUseVariable;for(let i=0;i<e;i++)ne(o,t)}else o.isActive&&le(o,t);if(t.allowedChoices>=t.currentChoices)break}}if(0===l){if(e.isChangeVariables&&void 0!==e.changedVariables)for(let t=0;t<e.changedVariables.length;t++){const o=ho.get(e.changedVariables[t]);void 0!==o&&("1"===e.changeType?o.isTrue=!1:"2"===e.changeType?o.isTrue=!0:"3"===e.changeType&&(o.isTrue=!o.isTrue))}if(e.backpackBtnRequirement&&void 0!==app.btnBackpackIsOn&&(app.btnBackpackIsOn-=1),e.showAllAddons&&void 0!==app.showAllAddons&&(app.showAllAddons-=1),e.changeBackground)if(e.changeBgImage){if(void 0!==app.bgImageStack){const t=app.bgImageStack.findIndex(t=>t.id===e.id);-1!==t&&app.bgImageStack.splice(t,1);const o=app.bgImageStack.length;o>0?app.styling.backgroundImage=app.bgImageStack[o-1].data:(app.styling.backgroundImage=void 0!==app.defaultBgImage?app.defaultBgImage:"",delete app.bgImageStack)}}else if(void 0!==e.changedBgColorCode&&void 0!==app.bgColorStack){const t=app.bgColorStack.findIndex(t=>t.id===e.id);-1!==t&&app.bgColorStack.splice(t,1);const o=app.bgColorStack.length;o>0?app.styling.backgroundColor=app.bgColorStack[o-1].data:(app.styling.backgroundColor=void 0!==app.defaultBgColor?app.defaultBgColor:"#FFFFFFFF",delete app.bgColorStack)}if(e.changePointBar){if(e.changeBarBgColorIsOn&&void 0!==e.changedBarBgColor&&void 0!==app.barBgColorStack){const t=app.barBgColorStack.findIndex(t=>t.id===e.id);-1!==t&&app.barBgColorStack.splice(t,1);const o=app.barBgColorStack.length;o>0?app.styling.barBackgroundColor=app.barBgColorStack[o-1].data:(app.styling.barBackgroundColor=void 0!==app.defaultBarBgColor?app.defaultBarBgColor:"#FFFFFFFF",delete app.barBgColorStack)}if(e.changeBarIconColorIsOn&&void 0!==e.changedBarIconColor&&void 0!==app.barIconColorStack){const t=app.barIconColorStack.findIndex(t=>t.id===e.id);-1!==t&&app.barIconColorStack.splice(t,1);const o=app.barIconColorStack.length;o>0?app.styling.barIconColor=app.barIconColorStack[o-1].data:(app.styling.barIconColor=void 0!==app.defaultBarIconColor?app.defaultBarIconColor:"#0000008A",delete app.barIconColorStack)}if(e.changeBarTextColorIsOn&&void 0!==e.changedBarTextColor&&void 0!==app.barTextColorStack){const t=app.barTextColorStack.findIndex(t=>t.id===e.id);-1!==t&&app.barTextColorStack.splice(t,1);const o=app.barTextColorStack.length;o>0?app.styling.barTextColor=app.barTextColorStack[o-1].data:(app.styling.barTextColor=void 0!==app.defaultBarIconColor?app.defaultBarIconColor:"#000000",delete app.barTextColorStack)}}if(e.changeTemplates&&e.changeTemplatesList&&e.changeToThisTemplate){const t=e.changeTemplatesList.split(",");for(let o=0;o<t.length;o++){const i=t[o],l=co.get(i);if(void 0!==l){const t=l.choice;if(Ol(t,e.id),e.changeAddonTemplate)for(let o=0;o<t.addons.length;o++){Ol(t.addons[o],e.id)}continue}const r=so.get(i);if(void 0!==r){Ol(r,e.id);continue}const a=uo.get(i[0]);if(void 0!==a){const t=a.rowElements;for(let i=0;i<t.length;i++){const o=so.get(t[i]);void 0!==o&&Ol(o,e.id)}const o=a.elements;for(let i=0;i<o.length;i++){const t=co.get(o[i]);if(void 0!==t){Ol(t.choice,e.id)}}continue}}}if(e.changeWidth&&e.changeWidthList&&e.changeToThisWidth){const t=e.changeWidthList.split(",");for(let o=0;o<t.length;o++){const i=t[o],l=co.get(i);if(void 0!==l){Rl(l.choice,e.id);continue}const r=so.get(i);if(void 0!==r){Rl(r,e.id);continue}const a=uo.get(i[0]);if(void 0!==a){const t=a.rowElements;for(let i=0;i<t.length;i++){const o=so.get(t[i]);void 0!==o&&Rl(o,e.id)}const o=a.elements;for(let i=0;i<o.length;i++){const t=co.get(o[i]);if(void 0!==t){Rl(t.choice,e.id)}}continue}}}if(e.setBgmIsOn&&$o&&e.bgmId&&(To.bgmIsPlaying=!1,Fi(e,e.bgmId,0)),e.muteBgm&&$o){const e=O($o);app.isMute=!1,e&&"function"==typeof e.unMute&&e.unMute()}if(e.isContentHidden&&void 0!==e.hiddenContentsRow&&void 0!==e.hiddenContentsType)for(let t=0;t<e.hiddenContentsRow.length;t++){const o=so.get(e.hiddenContentsRow[t]);if(void 0!==o)for(let t=0;t<e.hiddenContentsType.length;t++)switch(e.hiddenContentsType[t]){case"1":o.objectTitleRemoved=!1;break;case"2":o.objectImageRemoved=!1;break;case"3":o.objectTextRemoved=!1;break;case"4":o.objectScoreRemoved=!1;break;case"5":o.objectRequirementRemoved=!1;break;case"6":o.addonTitleRemoved=!1;break;case"7":o.addonImageRemoved=!1;break;case"8":o.addonTextRemoved=!1}}}ee(e,t,0),oe()};if(!t.isInfoRow&&!e.isNotSelectable&&!e.selectOnce)if(e.isMultipleUseVariable)void 0===e.numMultipleTimesMinus&&(e.numMultipleTimesMinus=0),e.multipleUseVariable>e.numMultipleTimesMinus&&(-1===p.indexOf(e.id)&&(e.isFadeTransition?(void 0===e.fadeTransitionColor||""===e.fadeTransitionColor?app.fadeTransitionColor="000000FF":app.fadeTransitionColor=e.fadeTransitionColor,void 0===e.fadeInTransitionTime?app.fadeTransitionTime=.25:app.fadeTransitionTime=e.fadeInTransitionTime/1e3,app.fadeTransitionIsOn=!0,window.setTimeout(()=>{void 0!==e.fadeOutTransitionTime&&(app.fadeTransitionTime=e.fadeOutTransitionTime/1e3),app.fadeTransitionIsOn=!1,o()},1e3*app.fadeTransitionTime)):o()),0===p.indexOf(e.id)&&p.splice(0));else if(void 0!==e.multipleScoreId){const t=no.get(e.multipleScoreId);void 0!==t&&(void 0===e.numMultipleTimesMinus&&(e.numMultipleTimesMinus=0),t.startingSum>e.numMultipleTimesMinus&&(t.startingSum-=1))}}}var se=Kf(),de=D(se),ce=e=>{var t=Zf(),l=v(t);let r;var a=v(l);a.__click=()=>ie(o.choice,o.row);var c=v(a),g=e=>{var t=Pf(),l=v(t),r=e=>{var t=Sf(),o=v(t);s(o,()=>nt.sanitize(xi(i(q).title),xo)),b(()=>we(t,i(E))),u(e,t)};Y(l,e=>{o.row.resultShowRowTitle&&e(r)});var a=X(l,2),n=e=>{var t=M(),l=D(t),r=e=>{Dt(e,{innerClass:"w-100",get text(){return o.choice.imageSourceTooltip},children:(e,t)=>{var l=kf();b(()=>{xe(l,"src",o.choice.image),we(l,i(G)),xe(l,"loading",d()?"eager":"lazy")}),u(e,l)},$$slots:{default:!0}})},a=e=>{var t=Of();b(()=>{xe(t,"src",o.choice.image),we(t,i(G)),xe(t,"loading",d()?"eager":"lazy")}),u(e,t)};Y(l,e=>{o.choice.imageSourceTooltip?e(r):e(a,!1)}),u(e,t)};Y(a,e=>{(1===o.choice.template||o.windowWidth<=960||o.row.choicesShareTemplate)&&o.choice.image&&!o.row.objectImageRemoved&&e(n)});var c=X(a,2),g=v(c),h=e=>{var t=Ff(),l=v(t);s(l,()=>nt.sanitize(xi(o.choice.title),xo)),b(()=>we(t,i(L))),u(e,t)};Y(g,e=>{""===o.choice.title||o.row.objectTitleRemoved||e(h)});var p=X(g,2),m=e=>{const t=Q(()=>i(R)&&!o.row.isInfoRow&&!o.choice.isNotSelectable);wf(e,{get isEnabled(){return i(t)},get multiChoiceButton(){return i(V)},get multiChoiceText(){return i(W)},get choice(){return o.choice},selectedOneMore:()=>ae(o.choice,o.row),selectedOneLess:()=>ne(o.choice,o.row)})};Y(p,e=>{o.choice.isSelectableMultiple&&i(N)&&0===i(T).multiChoiceCounterPosition&&e(m)});var f=X(p,2),I=e=>{var t=M(),l=D(t);Ee(l,17,()=>o.choice.scores,He,(e,t)=>{Bf(e,{get score(){return i(t)},get row(){return o.row},get choice(){return o.choice}})}),u(e,t)};Y(f,e=>{o.row.objectScoreRemoved||e(I)});var x=X(f,2),$=e=>{const t=Q(()=>i(R)&&!o.row.isInfoRow&&!o.choice.isNotSelectable);wf(e,{get isEnabled(){return i(t)},get multiChoiceButton(){return i(V)},get multiChoiceText(){return i(W)},get choice(){return o.choice},selectedOneMore:()=>ae(o.choice,o.row),selectedOneLess:()=>ne(o.choice,o.row)})};Y(x,e=>{o.choice.isSelectableMultiple&&i(N)&&1===i(T).multiChoiceCounterPosition&&e($)});var y=X(x,2),C=e=>{var t=M(),l=D(t);Ee(l,17,()=>o.choice.requireds,He,(e,t)=>{Hm(e,{get required(){return i(t)},get scoreText(){return i(E)}})}),u(e,t)};Y(y,e=>{o.row.objectRequirementRemoved||e(C)});var B=X(y,2),S=e=>{const t=Q(()=>i(R)&&!o.row.isInfoRow&&!o.choice.isNotSelectable);wf(e,{get isEnabled(){return i(t)},get multiChoiceButton(){return i(V)},get multiChoiceText(){return i(W)},get choice(){return o.choice},selectedOneMore:()=>ae(o.choice,o.row),selectedOneLess:()=>ne(o.choice,o.row)})};Y(B,e=>{o.choice.isSelectableMultiple&&i(N)&&2===i(T).multiChoiceCounterPosition&&e(S)});var k=X(B,2),O=e=>{var t=M(),l=D(t),r=e=>{Dt(e,{innerClass:"w-100",get text(){return o.choice.imageSourceTooltip},children:(e,t)=>{var l=Rf();b(()=>{xe(l,"src",o.choice.image),we(l,i(G)),xe(l,"loading",d()?"eager":"lazy")}),u(e,l)},$$slots:{default:!0}})},a=e=>{var t=Af();b(()=>{xe(t,"src",o.choice.image),we(t,i(G)),xe(t,"loading",d()?"eager":"lazy")}),u(e,t)};Y(l,e=>{o.choice.imageSourceTooltip?e(r):e(a,!1)}),u(e,t)};Y(k,e=>{5===o.choice.template&&o.choice.image&&!o.row.objectImageRemoved&&e(O)});var F=X(k,2),j=e=>{var t=jf(),l=v(t);s(l,()=>nt.sanitize(xi(o.choice.text),xo)),b(()=>we(t,i(z))),u(e,t)};Y(F,e=>{""===o.choice.text||o.row.objectTextRemoved||e(j)});var P=X(F,2),U=e=>{const t=Q(()=>i(R)&&!o.row.isInfoRow&&!o.choice.isNotSelectable);wf(e,{get isEnabled(){return i(t)},get multiChoiceButton(){return i(V)},get multiChoiceText(){return i(W)},get choice(){return o.choice},selectedOneMore:()=>ae(o.choice,o.row),selectedOneLess:()=>ne(o.choice,o.row)})};Y(P,e=>{o.choice.isSelectableMultiple&&i(N)&&3===i(T).multiChoiceCounterPosition&&e(U)});var H=X(P,2),_=e=>{var t=M(),l=D(t),r=e=>{Dt(e,{innerClass:"w-100",get text(){return o.choice.imageSourceTooltip},children:(e,t)=>{var l=Mf();b(()=>{xe(l,"src",o.choice.image),we(l,i(G)),xe(l,"loading",d()?"eager":"lazy")}),u(e,l)},$$slots:{default:!0}})},a=e=>{var t=Df();b(()=>{xe(t,"src",o.choice.image),we(t,i(G)),xe(t,"loading",d()?"eager":"lazy")}),u(e,t)};Y(l,e=>{o.choice.imageSourceTooltip?e(r):e(a,!1)}),u(e,t)};Y(H,e=>{4===o.choice.template&&o.choice.image&&!o.row.objectImageRemoved&&e(_)});var J=X(c,2);Ee(J,21,()=>o.choice.addons,He,(e,t)=>{pf(e,{get row(){return o.row},get choice(){return o.choice},get addon(){return i(t)},get isEnabled(){return i(R)},get windowWidth(){return o.windowWidth},get preloadImages(){return d()}})});var Z=X(J,2),K=e=>{const t=Q(()=>i(R)&&!o.row.isInfoRow&&!o.choice.isNotSelectable);wf(e,{get isEnabled(){return i(t)},get multiChoiceButton(){return i(V)},get multiChoiceText(){return i(W)},get choice(){return o.choice},selectedOneMore:()=>ae(o.choice,o.row),selectedOneLess:()=>ne(o.choice,o.row)})};Y(Z,e=>{o.choice.isSelectableMultiple&&i(N)&&4===i(T).multiChoiceCounterPosition&&e(K)}),b(()=>w(J,1,`d-column pa-0 col w-100 ${i(A)??""}`)),u(e,t)},h=e=>{var t=M(),l=D(t),r=e=>{var t=Uf(),l=D(t),r=v(l),a=e=>{var t=M(),l=D(t),r=e=>{Dt(e,{innerClass:"w-100",get text(){return o.choice.imageSourceTooltip},children:(e,t)=>{var l=qf();b(()=>{xe(l,"src",o.choice.image),we(l,i(G)),xe(l,"loading",d()?"eager":"lazy")}),u(e,l)},$$slots:{default:!0}})},a=e=>{var t=Lf();b(()=>{xe(t,"src",o.choice.image),we(t,i(G)),xe(t,"loading",d()?"eager":"lazy")}),u(e,t)};Y(l,e=>{o.choice.imageSourceTooltip?e(r):e(a,!1)}),u(e,t)};Y(r,e=>{o.choice.image&&!o.row.objectImageRemoved&&e(a)});var n=X(l,2),c=v(n),g=e=>{var t=Wf(),l=v(t);s(l,()=>nt.sanitize(xi(o.choice.title),xo)),b(()=>we(t,i(L))),u(e,t)};Y(c,e=>{""===o.choice.title||o.row.objectTitleRemoved||e(g)});var h=X(c,2),p=e=>{const t=Q(()=>i(R)&&!o.row.isInfoRow&&!o.choice.isNotSelectable);wf(e,{get isEnabled(){return i(t)},get multiChoiceButton(){return i(V)},get multiChoiceText(){return i(W)},get choice(){return o.choice},selectedOneMore:()=>ae(o.choice,o.row),selectedOneLess:()=>ne(o.choice,o.row)})};Y(h,e=>{o.choice.isSelectableMultiple&&i(N)&&0===i(T).multiChoiceCounterPosition&&e(p)});var m=X(h,2),f=e=>{var t=M(),l=D(t);Ee(l,17,()=>o.choice.scores,He,(e,t)=>{Bf(e,{get score(){return i(t)},get row(){return o.row},get choice(){return o.choice}})}),u(e,t)};Y(m,e=>{o.row.objectScoreRemoved||e(f)});var I=X(m,2),x=e=>{const t=Q(()=>i(R)&&!o.row.isInfoRow&&!o.choice.isNotSelectable);wf(e,{get isEnabled(){return i(t)},get multiChoiceButton(){return i(V)},get multiChoiceText(){return i(W)},get choice(){return o.choice},selectedOneMore:()=>ae(o.choice,o.row),selectedOneLess:()=>ne(o.choice,o.row)})};Y(I,e=>{o.choice.isSelectableMultiple&&i(N)&&1===i(T).multiChoiceCounterPosition&&e(x)});var $=X(I,2),y=e=>{var t=M(),l=D(t);Ee(l,17,()=>o.choice.requireds,He,(e,t)=>{Hm(e,{get required(){return i(t)},get scoreText(){return i(E)}})}),u(e,t)};Y($,e=>{o.row.objectRequirementRemoved||e(y)});var C=X($,2),B=e=>{const t=Q(()=>i(R)&&!o.row.isInfoRow&&!o.choice.isNotSelectable);wf(e,{get isEnabled(){return i(t)},get multiChoiceButton(){return i(V)},get multiChoiceText(){return i(W)},get choice(){return o.choice},selectedOneMore:()=>ae(o.choice,o.row),selectedOneLess:()=>ne(o.choice,o.row)})};Y(C,e=>{o.choice.isSelectableMultiple&&i(N)&&2===i(T).multiChoiceCounterPosition&&e(B)});var k=X(C,2),O=e=>{var t=Vf(),l=v(t);s(l,()=>nt.sanitize(xi(o.choice.text),xo)),b(()=>we(t,i(z))),u(e,t)};Y(k,e=>{""===o.choice.text||o.row.objectTextRemoved||e(O)});var F=X(k,2),j=e=>{const t=Q(()=>i(R)&&!o.row.isInfoRow&&!o.choice.isNotSelectable);wf(e,{get isEnabled(){return i(t)},get multiChoiceButton(){return i(V)},get multiChoiceText(){return i(W)},get choice(){return o.choice},selectedOneMore:()=>ae(o.choice,o.row),selectedOneLess:()=>ne(o.choice,o.row)})};Y(F,e=>{o.choice.isSelectableMultiple&&i(N)&&3===i(T).multiChoiceCounterPosition&&e(j)});var P=X(F,2),q=e=>{var t=Nf(),l=D(t);Ee(l,21,()=>o.choice.addons,He,(e,t)=>{pf(e,{get row(){return o.row},get choice(){return o.choice},get addon(){return i(t)},get isEnabled(){return i(R)},get windowWidth(){return o.windowWidth},get preloadImages(){return d()}})});var r=X(l,2),a=e=>{const t=Q(()=>i(R)&&!o.row.isInfoRow&&!o.choice.isNotSelectable);wf(e,{get isEnabled(){return i(t)},get multiChoiceButton(){return i(V)},get multiChoiceText(){return i(W)},get choice(){return o.choice},selectedOneMore:()=>ae(o.choice,o.row),selectedOneLess:()=>ne(o.choice,o.row)})};Y(r,e=>{o.choice.isSelectableMultiple&&i(N)&&4===i(T).multiChoiceCounterPosition&&e(a)}),b(()=>w(l,1,`d-column pa-0 col w-100 ${i(A)??""}`)),u(e,t)};Y(P,e=>{o.choice.useSeperateAddon||e(q)});var U=X(n,2),H=e=>{var t=zf(),l=v(t);Ee(l,21,()=>o.choice.addons,He,(e,t)=>{pf(e,{get row(){return o.row},get choice(){return o.choice},get addon(){return i(t)},get isEnabled(){return i(R)},get windowWidth(){return o.windowWidth},get preloadImages(){return d()}})});var r=X(l,2),a=e=>{const t=Q(()=>i(R)&&!o.row.isInfoRow&&!o.choice.isNotSelectable);wf(e,{get isEnabled(){return i(t)},get multiChoiceButton(){return i(V)},get multiChoiceText(){return i(W)},get choice(){return o.choice},selectedOneMore:()=>ae(o.choice,o.row),selectedOneLess:()=>ne(o.choice,o.row)})};Y(r,e=>{o.choice.isSelectableMultiple&&i(N)&&4===i(T).multiChoiceCounterPosition&&e(a)}),b(()=>w(l,1,`d-column pa-0 col w-100 ${i(A)??""}`)),u(e,t)};Y(U,e=>{o.choice.useSeperateAddon&&e(H)}),b(()=>{we(l,`max-width: ${i(S)??""}%`),we(n,`max-width: ${100-i(S)}%`)}),u(e,t)},a=(e,t)=>{var l=e=>{var t=Xf(),l=D(t),r=v(l),a=e=>{var t=Gf(),l=v(t);s(l,()=>nt.sanitize(xi(o.choice.title),xo)),b(()=>we(t,i(L))),u(e,t)};Y(r,e=>{""===o.choice.title||o.row.objectTitleRemoved||e(a)});var n=X(r,2),c=e=>{const t=Q(()=>i(R)&&!o.row.isInfoRow&&!o.choice.isNotSelectable);wf(e,{get isEnabled(){return i(t)},get multiChoiceButton(){return i(V)},get multiChoiceText(){return i(W)},get choice(){return o.choice},selectedOneMore:()=>ae(o.choice,o.row),selectedOneLess:()=>ne(o.choice,o.row)})};Y(n,e=>{o.choice.isSelectableMultiple&&i(N)&&0===i(T).multiChoiceCounterPosition&&e(c)});var g=X(n,2),h=e=>{var t=M(),l=D(t);Ee(l,17,()=>o.choice.scores,He,(e,t)=>{Bf(e,{get score(){return i(t)},get row(){return o.row},get choice(){return o.choice}})}),u(e,t)};Y(g,e=>{o.row.objectScoreRemoved||e(h)});var p=X(g,2),m=e=>{const t=Q(()=>i(R)&&!o.row.isInfoRow&&!o.choice.isNotSelectable);wf(e,{get isEnabled(){return i(t)},get multiChoiceButton(){return i(V)},get multiChoiceText(){return i(W)},get choice(){return o.choice},selectedOneMore:()=>ae(o.choice,o.row),selectedOneLess:()=>ne(o.choice,o.row)})};Y(p,e=>{o.choice.isSelectableMultiple&&i(N)&&1===i(T).multiChoiceCounterPosition&&e(m)});var f=X(p,2),I=e=>{var t=M(),l=D(t);Ee(l,17,()=>o.choice.requireds,He,(e,t)=>{Hm(e,{get required(){return i(t)},get scoreText(){return i(E)}})}),u(e,t)};Y(f,e=>{o.row.objectRequirementRemoved||e(I)});var x=X(f,2),$=e=>{const t=Q(()=>i(R)&&!o.row.isInfoRow&&!o.choice.isNotSelectable);wf(e,{get isEnabled(){return i(t)},get multiChoiceButton(){return i(V)},get multiChoiceText(){return i(W)},get choice(){return o.choice},selectedOneMore:()=>ae(o.choice,o.row),selectedOneLess:()=>ne(o.choice,o.row)})};Y(x,e=>{o.choice.isSelectableMultiple&&i(N)&&2===i(T).multiChoiceCounterPosition&&e($)});var y=X(x,2),C=e=>{var t=Ef(),l=v(t);s(l,()=>nt.sanitize(xi(o.choice.text),xo)),b(()=>we(t,i(z))),u(e,t)};Y(y,e=>{""===o.choice.text||o.row.objectTextRemoved||e(C)});var B=X(y,2),k=e=>{const t=Q(()=>i(R)&&!o.row.isInfoRow&&!o.choice.isNotSelectable);wf(e,{get isEnabled(){return i(t)},get multiChoiceButton(){return i(V)},get multiChoiceText(){return i(W)},get choice(){return o.choice},selectedOneMore:()=>ae(o.choice,o.row),selectedOneLess:()=>ne(o.choice,o.row)})};Y(B,e=>{o.choice.isSelectableMultiple&&i(N)&&3===i(T).multiChoiceCounterPosition&&e(k)});var O=X(B,2),F=e=>{var t=Hf(),l=D(t);Ee(l,21,()=>o.choice.addons,He,(e,t)=>{pf(e,{get row(){return o.row},get choice(){return o.choice},get addon(){return i(t)},get isEnabled(){return i(R)},get windowWidth(){return o.windowWidth},get preloadImages(){return d()}})});var r=X(l,2),a=e=>{const t=Q(()=>i(R)&&!o.row.isInfoRow&&!o.choice.isNotSelectable);wf(e,{get isEnabled(){return i(t)},get multiChoiceButton(){return i(V)},get multiChoiceText(){return i(W)},get choice(){return o.choice},selectedOneMore:()=>ae(o.choice,o.row),selectedOneLess:()=>ne(o.choice,o.row)})};Y(r,e=>{o.choice.isSelectableMultiple&&i(N)&&4===i(T).multiChoiceCounterPosition&&e(a)}),b(()=>w(l,1,`d-column pa-0 col w-100 ${i(A)??""}`)),u(e,t)};Y(O,e=>{o.choice.useSeperateAddon||e(F)});var j=X(l,2),P=v(j),q=e=>{var t=M(),l=D(t),r=e=>{Dt(e,{innerClass:"w-100",get text(){return o.choice.imageSourceTooltip},children:(e,t)=>{var l=_f();b(()=>{xe(l,"src",o.choice.image),we(l,i(G)),xe(l,"loading",d()?"eager":"lazy")}),u(e,l)},$$slots:{default:!0}})},a=e=>{var t=Jf();b(()=>{xe(t,"src",o.choice.image),we(t,i(G)),xe(t,"loading",d()?"eager":"lazy")}),u(e,t)};Y(l,e=>{o.choice.imageSourceTooltip?e(r):e(a,!1)}),u(e,t)};Y(P,e=>{o.choice.image&&!o.row.objectImageRemoved&&e(q)});var U=X(j,2),H=e=>{var t=Yf(),l=v(t);Ee(l,21,()=>o.choice.addons,He,(e,t)=>{pf(e,{get row(){return o.row},get choice(){return o.choice},get addon(){return i(t)},get isEnabled(){return i(R)},get windowWidth(){return o.windowWidth},get preloadImages(){return d()}})});var r=X(l,2),a=e=>{const t=Q(()=>i(R)&&!o.row.isInfoRow&&!o.choice.isNotSelectable);wf(e,{get isEnabled(){return i(t)},get multiChoiceButton(){return i(V)},get multiChoiceText(){return i(W)},get choice(){return o.choice},selectedOneMore:()=>ae(o.choice,o.row),selectedOneLess:()=>ne(o.choice,o.row)})};Y(r,e=>{o.choice.isSelectableMultiple&&i(N)&&4===i(T).multiChoiceCounterPosition&&e(a)}),b(()=>w(l,1,`d-column pa-0 col w-100 ${i(A)??""}`)),u(e,t)};Y(U,e=>{o.choice.useSeperateAddon&&e(H)}),b(()=>{we(l,`max-width: ${100-i(S)}%`),we(j,`max-width: ${i(S)??""}%`)}),u(e,t)};Y(e,e=>{3===o.choice.template&&e(l)},t)};Y(l,e=>{2===o.choice.template?e(r):e(a,!1)}),u(e,t)};Y(c,e=>{o.choice.template>=4||1===o.choice.template||o.windowWidth<=960||o.row.choicesShareTemplate?e(g):e(h,!1)}),b((e,n)=>{w(t,1,e),r=w(l,1,"d-flex",null,r,n),w(a,1,`row row-${o.row.id??""} choice-${o.choice.id??""} ${i(j)?"choice-selected":"choice-unselected"} ${i(R)?"choice-enabled":"choice-disabled"} ${i(j)&&i($).selOverlayOnImage||!i(R)&&i($).reqOverlayOnImage?"bg-overlay":""} w-100`),we(a,i(U))},[()=>I(function(){let e=o.choice.objectWidth||o.row.objectWidth,t=fi(e),i="col-6"===app.objectsPerRow?2:"col-4"===app.objectsPerRow?3:4;if(n()>1280)return e;if(!(n()>720))return n()>480?1===t?"col-12":"col-6":"col-12";switch(t){case 1:return"col-12";case 2:return"col-6";case 3:return i>2?"col-4":app.objectsPerRow;case 4:return i>3?"col-3":app.objectsPerRow;default:return app.objectsPerRow}}()),()=>({fullHeight:i(P)})]),u(e,t)};Y(de,e=>{!i(R)&&i($).reqFilterVisibleIsOn||e(ce)});var ue=X(de,2),ge=e=>{const t=Q(()=>"dlgCommon"===i(k));Tm(e,{get open(){return i(t)},onclose:()=>c(k,"none"),title:"",get context(){return m.context},closeHandler:(e,t)=>{"accept"===e.detail.action&&m.choice&&m.row?(F=!0,m.isWord&&(m.choice.wordChangeSelect=t),re(m.choice,m.row),F=!1):F=!1},get isWord(){return m.isWord},get prevText(){return m.prevText}})};Y(ue,e=>{"dlgCommon"===i(k)&&e(ge)}),u(e,se);var ve=g({activateObject:ie});return a(),ve}he(["click"]);var eb=n('<img alt=""/>'),tb=n('<img alt=""/>'),ob=n('<h2 class="mb-0"><!></h2>'),ib=n('<img alt=""/>'),lb=n('<img alt=""/>'),rb=n('<p class="mb-0"><!></p>'),ab=n('<img alt=""/>'),nb=n('<img alt=""/>'),sb=n('<div class="col-12 m-0 p-0"><!> <!> <!> <!> <!></div>'),db=n('<h2 class="mb-0"><!></h2>'),cb=n('<p class="mb-0"><!></p>'),ub=n('<img alt=""/>'),gb=n('<img alt=""/>'),vb=n('<div class="col p-0 text-center"><!> <!></div> <div class="col p-0 text-center"><!></div>',1),hb=n('<img alt=""/>'),pb=n('<img alt=""/>'),mb=n('<h2 class="mb-0"><!></h2>'),fb=n('<p class="mb-0"><!></p>'),bb=n('<div class="col p-0 text-center"><!></div> <div class="col p-0 text-center"><!> <!></div>',1),wb=n("<div><!></div>"),Ib=n("<div><!></div>"),xb=n("<div><!> <!></div>");function $b(e,r){t(r,!0);const a=h(r,"preloadImages",3,!1),n=h(r,"isBackpack",3,!1);let p=l(void 0),m=Q(()=>$i("privateBackgroundIsOn",r.row)),f=Q(()=>$i("privateRowImageIsOn",r.row)),I=Q(()=>$i("privateRowIsOn",r.row)),x=Q(()=>$i("privateTextIsOn",r.row)),$=l(0),T=Q(()=>void 0!==i(f).rowImageBoxWidth?i(f).rowImageBoxWidth:50),y=Q(()=>Si(r.row.requireds)),C=Q(()=>r.row.onlyIfNoChoices&&0!==r.row.currentChoices),B=Q(()=>r.row.rowJustify?`justify-${r.row.rowJustify}`:""),S=Q(()=>{const e=[];if(void 0!==r.row.resultGroupId&&""!==r.row.resultGroupId&&r.row.resultGroupId)for(const[t]of lo){const o=co.get(t);if(void 0!==o){const t=o.choice,i=o.row;if(!t.isNotResult)if(r.row.resultGroupId===i.resultGroupId)e.push({choice:t,row:i});else if(void 0!==t.groups)for(let o=0;o<t.groups.length;o++)if(t.groups[o]===r.row.resultGroupId){e.push({choice:t,row:i});break}}}else for(const[t]of lo){const o=co.get(t);if(void 0!==o){const t=o.choice,i=o.row;t.isNotResult||e.push({choice:t,row:i})}}return e.sort((e,t)=>e.row.index!==t.row.index?e.row.index-t.row.index:e.choice.index-t.choice.index),e}),k=Q(()=>{if(void 0!==r.row.styling&&r.row.isPrivateStyling&&r.row.privateBackgroundIsOn&&r.row.styling.backgroundImage)return r.row.styling;if(void 0!==app.rowDesignGroups&&r.row.rowDesignGroups)for(let e=0;e<r.row.rowDesignGroups.length;e++){let t=po.get(r.row.rowDesignGroups[e]);if(void 0!==t&&t.privateBackgroundIsOn&&t.styling.backgroundImage){let e=t.activatedId,o=go.get(e);if(""===e||Ci(t.activatedId))return t.styling;if(void 0!==app.globalRequirements&&void 0!==o&&Si(o.requireds))return t.styling}}return!1}),O=Q(()=>{if(void 0!==r.row.styling&&r.row.isPrivateStyling&&r.row.privateBackgroundIsOn&&r.row.styling.bgColorIsOn&&r.row.styling.backgroundColor)return r.row.styling;if(void 0!==app.rowDesignGroups&&r.row.rowDesignGroups)for(let e=0;e<r.row.rowDesignGroups.length;e++){let t=po.get(r.row.rowDesignGroups[e]);if(void 0!==t&&t.privateBackgroundIsOn&&t.styling.bgColorIsOn&&t.styling.backgroundColor){let e=t.activatedId,o=go.get(e);if(""===e||Ci(t.activatedId))return t.styling;if(void 0!==app.globalRequirements&&void 0!==o&&Si(o.requireds))return t.styling}}return!1}),F=Q(()=>{let e=[];return e.push(`margin: ${i(I).rowBodyMarginTop}px ${i(I).rowBodyMarginSides}% ${i(I).rowBodyMarginBottom}px ${i(I).rowBodyMarginSides}%;`),i(k)&&e.push(`background-image: url('${i(k).backgroundImage}'); ${i(k).isBackgroundRepeat?"background-repeat: repeat;":i(k).isBackgroundFitIn?"background-size: 100% 100%;":"background-size: cover;"}`),i(O)&&e.push(`background-color: ${Pl(i(O).backgroundColor)};`),e.join(" ")}),R=Q(()=>{let e=i(I).rowBorderRadiusIsPixels?"px":"%",t=[];return i(I).rowBorderImage&&t.push(`border-image: url('${i(I).rowBorderImage}') ${i(I).rowBorderImageSliceTop} ${i(I).rowBorderImageSliceRight} ${i(I).rowBorderImageSliceBottom} ${i(I).rowBorderImageSliceLeft} / ${i(I).rowBorderImageWidth}px ${i(I).rowBorderImageRepeat}; border-style: solid; padding: ${i(I).rowBorderImageWidth}px;`),i(m).rowBackgroundImage&&t.push(`background-image: url('${i(m).rowBackgroundImage}'); ${i(m).isRowBackgroundRepeat?"background-repeat: repeat;":i(m).isRowBackgroundFitIn?"background-size: 100% 100%;":"background-size: cover;"}`),i(m).rowBgColorIsOn&&t.push(`background-color: ${Pl(i(m).rowBgColor)};`),t.push(`margin-left: ${i(I).rowMargin}%; margin-right: ${i(I).rowMargin}%;`),i(I).rowGradientIsOn&&t.push(`background-image: linear-gradient(${i(I).rowGradient});`),t.push(`border-radius: ${i(I).rowBorderRadiusTopLeft}${e} ${i(I).rowBorderRadiusTopRight}${e} ${i(I).rowBorderRadiusBottomRight}${e} ${i(I).rowBorderRadiusBottomLeft}${e};`),i(I).rowOverflowIsOn&&t.push("overflow: hidden;"),i(I).rowBorderIsOn&&t.push(`border: ${i(I).rowBorderWidth}px ${i(I).rowBorderStyle} ${Pl(i(I).rowBorderColor)};`),i(I).rowDropShadowIsOn&&(i(I).rowUseBoxShadowIsOn?t.push(`box-shadow: ${i(I).rowDropShadowH}px ${i(I).rowDropShadowV}px ${i(I).rowDropShadowBlur}px ${Pl(i(I).rowDropShadowColor)};`):t.push(`filter: drop-shadow(${i(I).rowDropShadowH}px ${i(I).rowDropShadowV}px ${i(I).rowDropShadowBlur}px ${Pl(i(I).rowDropShadowColor)});`)),t.join(" ")}),A=Q(()=>`font-family: ${i(x).rowTitle}; font-size: ${i(x).rowTitleTextSize}%; text-align: ${i(x).rowTitleAlign}; color: ${Pl(i(x).rowTitleColor)}`),j=Q(()=>`white-space: pre-wrap; font-family: ${i(x).rowText}; font-size: ${i(x).rowTextTextSize}%; text-align: ${i(x).rowTextAlign}; color: ${Pl(i(x).rowTextColor)}; padding: ${i(I).rowTextPaddingX}px ${i(I).rowTextPaddingY}% ${i(I).rowTextPaddingX}px ${i(I).rowTextPaddingY}%;`),P=Q(()=>{let e=i(f).rowImgBorderRadiusIsPixels?"px":"%",t=[];return t.push(`width: ${i(f).rowImageWidth}%; margin-top: ${i(f).rowImageMarginTop}%; margin-bottoom: ${i(f).rowImageMarginBottom}%;`),t.push(`border-radius: ${i(f).rowImgBorderRadiusTopLeft}${e} ${i(f).rowImgBorderRadiusTopRight}${e} ${i(f).rowImgBorderRadiusBottomRight}${e} ${i(f).rowImgBorderRadiusBottomLeft}${e};`),i(f).rowImgOverflowIsOn&&t.push("overflow: hidden;"),i(f).rowImgBorderIsOn&&t.push(`border: ${i(f).rowImgBorderWidth}px ${i(f).rowImgBorderStyle} ${Pl(i(f).rowImgBorderColor)};`),t.join(" ")}),q=Q(()=>`padding-left: ${i(I).rowButtonYPadding}px; padding-right: ${i(I).rowButtonYPadding}px; padding-top: ${i(I).rowButtonXPadding}px; padding-bottom: ${i(I).rowButtonXPadding}px;`);function L(){if(r.row.btnPointAddon&&"sumaddon"===r.row.buttonTypeRadio&&void 0!==r.row.pointTypeRandom){const e=r.row.randomMax||0,t=r.row.randomMin||0,o=Math.floor(Math.random()*(e-t)+t),i=no.get(r.row.pointTypeRandom);return void(void 0!==i&&(i.startingSum+=o))}if(r.row.buttonRandom){const e=[],t=r.row.objects.filter(e=>Si(e.requireds)&&!e.isNotSelectable);if(r.row.isWeightedRandom){let e=0;for(let o=0;o<t.length;o++){e+=t[o].randomWeight||100}if(void 0!==r.row.buttonRandomNumber)for(let o=0;o<r.row.buttonRandomNumber;o++){const o=Math.floor(Math.random()*e);let l=0;for(let e=0;e<t.length;e++){const a=t[e];if(l+=a.randomWeight||100,o<l){i(p).activateObject(a,r.row);break}}}}else if(void 0!==r.row.buttonRandomNumber)for(let o=0;o<r.row.buttonRandomNumber;o++){let o,l,a=0,n=100;do{l=Math.floor(Math.random()*t.length),o=t[l],a++}while(r.row.onlyUnselectedChoices&&(-1!==e.indexOf(l)||lo.has(o.id))&&a<n);o&&-1===e.indexOf(l)&&(e.push(l),i(p).activateObject(o,r.row))}}else if(void 0!==r.row.buttonId){const e=ho.get(r.row.buttonId);void 0!==e&&(lo.has(e.id)?r.row.buttonType&&(e.isTrue=!1,lo.delete(e.id)):(e.isTrue=!0,lo.set(e.id,{multiple:0,isVariable:!0})))}}o(()=>{if(r.row.deselectChoices&&!i(y))for(let e=0;e<r.row.objects.length;e++){const t=r.row.objects[e];t.isActive&&i(p).activateObject(t,r.row)}});var W=xb(),V=v(W),N=e=>{var t=wb(),o=v(t),l=e=>{var t=sb(),o=v(t),l=e=>{var t=M(),o=D(t),l=e=>{const t=Q(()=>!r.row.buttonType&&void 0!==r.row.buttonId&&lo.has(r.row.buttonId)||i(C));ue(e,{onclick:L,get disabled(){return i(t)},get style(){return i(q)},variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=M(),i=D(o);s(i,()=>void 0!==r.row.buttonText?r.row.buttonText:"Click"),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},n=(e,t)=>{var o=e=>{var t=M(),o=D(t),l=e=>{Dt(e,{innerClass:"w-100",get text(){return r.row.imageSourceTooltip},children:(e,t)=>{var o=eb();b(()=>{xe(o,"src",r.row.image),we(o,i(P)),xe(o,"loading",a()?"eager":"lazy")}),u(e,o)},$$slots:{default:!0}})},n=e=>{var t=tb();b(()=>{xe(t,"src",r.row.image),we(t,i(P)),xe(t,"loading",a()?"eager":"lazy")}),u(e,t)};Y(o,e=>{r.row.imageSourceTooltip?e(l):e(n,!1)}),u(e,t)};Y(e,e=>{r.row.image&&e(o)},t)};Y(o,e=>{r.row.isButtonRow?e(l):e(n,!1)}),u(e,t)};Y(o,e=>{(1===r.row.template||r.windowWidth<=960)&&e(l)});var n=X(o,2),d=e=>{var t=ob(),o=v(t);s(o,()=>nt.sanitize(xi(r.row.title),xo)),b(()=>we(t,i(A))),u(e,t)};Y(n,e=>{""!==r.row.title&&e(d)});var c=X(n,2),g=e=>{var t=M(),o=D(t),l=e=>{const t=Q(()=>!r.row.buttonType&&void 0!==r.row.buttonId&&lo.has(r.row.buttonId)||i(C));ue(e,{onclick:L,get disabled(){return i(t)},get style(){return i(q)},variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=M(),i=D(o);s(i,()=>void 0!==r.row.buttonText?r.row.buttonText:"Click"),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},n=(e,t)=>{var o=e=>{var t=M(),o=D(t),l=e=>{Dt(e,{innerClass:"w-100",get text(){return r.row.imageSourceTooltip},children:(e,t)=>{var o=ib();b(()=>{xe(o,"src",r.row.image),we(o,i(P)),xe(o,"loading",a()?"eager":"lazy")}),u(e,o)},$$slots:{default:!0}})},n=e=>{var t=lb();b(()=>{xe(t,"src",r.row.image),we(t,i(P)),xe(t,"loading",a()?"eager":"lazy")}),u(e,t)};Y(o,e=>{r.row.imageSourceTooltip?e(l):e(n,!1)}),u(e,t)};Y(e,e=>{r.row.image&&e(o)},t)};Y(o,e=>{r.row.isButtonRow?e(l):e(n,!1)}),u(e,t)};Y(c,e=>{5===r.row.template&&e(g)});var h=X(c,2),p=e=>{var t=rb(),o=v(t);s(o,()=>nt.sanitize(xi(r.row.titleText),xo)),b(()=>we(t,i(j))),u(e,t)};Y(h,e=>{""!==r.row.titleText&&e(p)});var m=X(h,2),f=e=>{var t=M(),o=D(t),l=e=>{const t=Q(()=>!r.row.buttonType&&void 0!==r.row.buttonId&&lo.has(r.row.buttonId)||i(C));ue(e,{onclick:L,get disabled(){return i(t)},get style(){return i(q)},variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=M(),i=D(o);s(i,()=>void 0!==r.row.buttonText?r.row.buttonText:"Click"),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},n=(e,t)=>{var o=e=>{var t=M(),o=D(t),l=e=>{Dt(e,{innerClass:"w-100",get text(){return r.row.imageSourceTooltip},children:(e,t)=>{var o=ab();b(()=>{xe(o,"src",r.row.image),we(o,i(P)),xe(o,"loading",a()?"eager":"lazy")}),u(e,o)},$$slots:{default:!0}})},n=e=>{var t=nb();b(()=>{xe(t,"src",r.row.image),we(t,i(P)),xe(t,"loading",a()?"eager":"lazy")}),u(e,t)};Y(o,e=>{r.row.imageSourceTooltip?e(l):e(n,!1)}),u(e,t)};Y(e,e=>{r.row.image&&e(o)},t)};Y(o,e=>{r.row.isButtonRow?e(l):e(n,!1)}),u(e,t)};Y(m,e=>{4===r.row.template&&e(f)}),u(e,t)},n=e=>{var t=M(),o=D(t),l=e=>{var t=vb(),o=D(t),l=v(o),n=e=>{var t=db(),o=v(t);s(o,()=>nt.sanitize(xi(r.row.title),xo)),b(()=>we(t,i(A))),u(e,t)};Y(l,e=>{""!==r.row.title&&e(n)});var d=X(l,2),c=e=>{var t=cb(),o=v(t);s(o,()=>nt.sanitize(xi(r.row.titleText),xo)),b(()=>we(t,i(j))),u(e,t)};Y(d,e=>{""!==r.row.titleText&&e(c)});var g=X(o,2),h=v(g),p=e=>{const t=Q(()=>!r.row.buttonType&&void 0!==r.row.buttonId&&lo.has(r.row.buttonId)||i(C));ue(e,{onclick:L,get disabled(){return i(t)},get style(){return i(q)},variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=M(),i=D(o);s(i,()=>void 0!==r.row.buttonText?r.row.buttonText:"Click"),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},m=(e,t)=>{var o=e=>{var t=M(),o=D(t),l=e=>{Dt(e,{innerClass:"w-100",get text(){return r.row.imageSourceTooltip},children:(e,t)=>{var o=ub();b(()=>{xe(o,"src",r.row.image),we(o,i(P)),xe(o,"loading",a()?"eager":"lazy")}),u(e,o)},$$slots:{default:!0}})},n=e=>{var t=gb();b(()=>{xe(t,"src",r.row.image),we(t,i(P)),xe(t,"loading",a()?"eager":"lazy")}),u(e,t)};Y(o,e=>{r.row.imageSourceTooltip?e(l):e(n,!1)}),u(e,t)};Y(e,e=>{r.row.image&&e(o)},t)};Y(h,e=>{r.row.isButtonRow?e(p):e(m,!1)}),b(()=>{we(o,`max-width: ${100-i(T)}%`),we(g,`max-width: ${i(T)??""}%`)}),u(e,t)},n=(e,t)=>{var o=e=>{var t=bb(),o=D(t),l=v(o),n=e=>{const t=Q(()=>!r.row.buttonType&&void 0!==r.row.buttonId&&lo.has(r.row.buttonId)||i(C));ue(e,{onclick:L,get disabled(){return i(t)},get style(){return i(q)},variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var o=M(),i=D(o);s(i,()=>void 0!==r.row.buttonText?r.row.buttonText:"Click"),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},d=(e,t)=>{var o=e=>{var t=M(),o=D(t),l=e=>{Dt(e,{innerClass:"w-100",get text(){return r.row.imageSourceTooltip},children:(e,t)=>{var o=hb();b(()=>{xe(o,"src",r.row.image),we(o,i(P)),xe(o,"loading",a()?"eager":"lazy")}),u(e,o)},$$slots:{default:!0}})},n=e=>{var t=pb();b(()=>{xe(t,"src",r.row.image),we(t,i(P)),xe(t,"loading",a()?"eager":"lazy")}),u(e,t)};Y(o,e=>{r.row.imageSourceTooltip?e(l):e(n,!1)}),u(e,t)};Y(e,e=>{r.row.image&&e(o)},t)};Y(l,e=>{r.row.isButtonRow?e(n):e(d,!1)});var c=X(o,2),g=v(c),h=e=>{var t=mb(),o=v(t);s(o,()=>nt.sanitize(xi(r.row.title),xo)),b(()=>we(t,i(A))),u(e,t)};Y(g,e=>{""!==r.row.title&&e(h)});var p=X(g,2),m=e=>{var t=fb(),o=v(t);s(o,()=>nt.sanitize(xi(r.row.titleText),xo)),b(()=>we(t,i(j))),u(e,t)};Y(p,e=>{""!==r.row.titleText&&e(m)}),b(()=>{we(o,`max-width: ${i(T)??""}%`),we(c,`max-width: ${100-i(T)}%`)}),u(e,t)};Y(e,e=>{3===r.row.template&&e(o)},t)};Y(o,e=>{2===r.row.template?e(l):e(n,!1)}),u(e,t)};Y(o,e=>{r.row.template>=4||1===r.row.template||r.windowWidth<=960?e(l):e(n,!1)}),b(()=>{w(t,1,`row gx-0 row-${r.row.id??""}`),we(t,""!==r.row.title?i(R):"")}),u(e,t)};Y(V,e=>{i(y)&&e(N)});var z=X(V,2),U=e=>{var t=Ib(),o=v(t),l=e=>{var t=M(),o=D(t);Ee(o,17,()=>i(S),He,(e,t,o)=>{d(Qf(e,{get row(){return r.row},get choice(){return i(t).choice},index:o,get windowWidth(){return r.windowWidth},get preloadImages(){return a()}}),e=>c(p,e,!0),()=>i(p))}),u(e,t)},s=e=>{var t=M(),o=D(t);Ee(o,17,()=>r.row.objects,He,(e,t,o)=>{d(Qf(e,{get row(){return r.row},get choice(){return i(t)},index:o,get windowWidth(){return r.windowWidth},get preloadImages(){return a()},get isBackpack(){return n()},get mainDiv(){return r.mainDiv}}),e=>c(p,e,!0),()=>i(p))}),u(e,t)};Y(o,e=>{r.row.isResultRow?e(l):e(s,!1)}),b(()=>w(t,1,`row gx-0 m-0 p-0 ${i(B)??""}`)),u(e,t)};Y(z,e=>{i(y)&&e(U)}),b(()=>{w(W,1,`row-${r.row.id??""}-bg text-center ${i(y)?"":"hidden"}`),we(W,i(F))}),at(W,"clientWidth",e=>c($,e)),u(e,W),g()}var Tb=n('<div><span><!> <!> <span translate="no"> </span> <!> <!></span></div>');var yb=n("<!> <!>",1),Cb=n('<div class="p-0 col-12"><!></div>'),Bb=n("<div><!></div>"),Sb=n('<div class="container-fluid p-0 h-100"><div class="row gx-0"></div></div>'),kb=n("<!> <!> <!>",1);var Ob=n('<div class="col-12 px-3 mt-0"><!></div>'),Fb=n('<div class="container-fluid p-0"><div class="row gy-3"><div class="col-12"><!></div> <div class="col-12"><!></div> <!> <div class="col-12"><!></div> <div class="col-12"><!></div> <div class="col-12"><!></div> <div class="col-12"><!></div></div></div>'),Rb=n("<b>Interactive CYOA Creator Plus</b>"),Ab=n('<div class="container-fluid p-0"><div class="row gy-3"><div class="col-12 text-right"> <br/></div></div></div>'),jb=n("<!> <!>",1),Mb=n("<!> <!>",1),Db=n("<!> <!> <!>",1);function Pb(e,o){t(o,!0);let r=h(o,"open",7);const a=[{text:"2 Per Row",value:"col-6"},{text:"3 Per Row",value:"col-4"},{text:"4 Per Row",value:"col-3"}];let n=l("General");function s(){_o&&_o.abort(),Xo()}function d(){const e=Bo.allowDeselect;for(let t=0;t<app.backpack.length;t++){const o=app.backpack[t];o.isResultRow&&(o.isInfoRow=!e)}}se(e,{surface$style:"width: 600px; max-width: calc(100vw - 32px);",get onSMUIDialogClosed(){return o.onclose},get open(){return r()},set open(e){r(e)},children:(e,t)=>{var o=Db(),l=D(o);de(l,{class:"text-left dialog-title",tabindex:0,autofocus:!0,children:(e,t)=>{var o=le("Settings");u(e,o)},$$slots:{default:!0}});var r=X(l,2);ce(r,{children:(e,t)=>{var o=Mb(),l=D(o);{const e=(e,t=f)=>{Ae(e,{get tab(){return t()},children:(e,o)=>{ge(e,{children:(e,o)=>{var i=le();b(()=>re(i,t())),u(e,i)},$$slots:{default:!0}})},$$slots:{default:!0}})};Oe(l,{tabs:["General","About"],get active(){return i(n)},set active(e){c(n,e,!0)},tab:e,$$slots:{tab:!0}})}var r=X(l,2),g=e=>{Fe(e,{role:"tabpanel",variant:"unelevated",children:(e,t)=>{Re(e,{children:(e,t)=>{var o=Fb(),l=v(o),r=v(l);{const e=e=>{var t=le("Maximum number of choices per row for screens between 720px and 1280px.");u(e,t)};ia(v(r),{label:"Choices Per Row",variant:"standard",alwaysFloat:!0,get value(){return app.objectsPerRow},set value(e){app.objectsPerRow=e},helperText:e,children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>a,e=>e.text,(e,t)=>{la(e,{get value(){return i(t).value},children:(e,o)=>{var l=le();b(()=>re(l,i(t).text)),u(e,l)},$$slots:{default:!0}})}),u(e,o)},$$slots:{helperText:!0,default:!0}})}var n=X(r,2),c=v(n);Se(c,{label:e=>{var t=le("Enable Auto Save");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return app.buildAutoSaveIsOn||!1},set checked(e){var t;t=e,app.buildAutoSaveIsOn=t},onSMUISwitchChange:()=>{app.buildAutoSaveIsOn&&s()},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var g=X(n,2),h=e=>{var t=Ob(),o=v(t);Jl(o,{get value(){return app.buildAutoSaveInterval||10},set value(e){var t;t=e,app.buildAutoSaveInterval=t},label:"Auto Save Interval",type:"number",suffix:"min",variant:"standard",style:"max-width: 200px",input$class:"text-right",input$min:"1",onchange:()=>{app.buildAutoSaveInterval<1&&(app.buildAutoSaveInterval=1),s()}}),u(e,t)};Y(g,e=>{app.buildAutoSaveIsOn&&e(h)});var p=X(g,2),m=v(p);Se(m,{label:e=>{var t=le("Preload Images in Backpack");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return app.preloadImages||!1},set checked(e){var t;t=e,app.preloadImages=t},color:"secondary",class:"switch-scale"})},$$slots:{label:!0,default:!0}});var f=X(p,2),w=v(f);Se(w,{label:e=>{var t=le("Allow Deselecting Choices in Backpack");u(e,t)},children:(e,t)=>{ke(e,{onSMUISwitchChange:d,color:"secondary",class:"switch-scale",get checked(){return Bo.allowDeselect},set checked(e){Bo.allowDeselect=e}})},$$slots:{label:!0,default:!0}});var I=X(f,2),x=v(I);Dt(x,{text:"Enabling this option may cause image downloads to fail or reduce the image resolution.",children:(e,t)=>{Se(e,{label:e=>{var t=le("Download Images as Single File");u(e,t)},children:(e,t)=>{ke(e,{color:"secondary",class:"switch-scale",get checked(){return Bo.isSingleFile},set checked(e){Bo.isSingleFile=e}})},$$slots:{label:!0,default:!0}})},$$slots:{default:!0}});var $=X(I,2),T=v($);Se(T,{label:e=>{var t=le("Show Background Music Player");u(e,t)},children:(e,t)=>{ke(e,{get checked(){return app.showMusicPlayer||!1},set checked(e){var t;t=e,app.showMusicPlayer=t},color:"secondary",class:"switch-scale",onchange:()=>{if(app.showMusicPlayer){const e=O($o);if(e){let t=0,o=0;0!==To.bgmTitleInterval&&(clearInterval(To.bgmTitleInterval),To.bgmTitleInterval=0),To.bgmTitleInterval=window.setInterval(()=>{if(void 0!==e.playerInfo.videoData&&""!==To.bgmObjectId){const t=co.get(To.bgmObjectId);if(void 0!==t){const o=t.choice;e.playerInfo.videoData.video_id===o.bgmId&&void 0!==e.playerInfo.videoData.title&&""!==e.playerInfo.videoData.title&&(To.bgmTitle=e.playerInfo.videoData.title,To.curBgmLength=e.getDuration(),clearInterval(To.bgmTitleInterval),To.bgmTitleInterval=0)}}},1e3),0!==To.bgmPlayInterval&&(clearInterval(To.bgmPlayInterval),To.bgmPlayInterval=0),To.bgmPlayInterval=window.setInterval(()=>{if(void 0!==e.playerInfo.videoData&&!To.isSeeking&&1===e.getPlayerState()){const i=Math.floor(e.getCurrentTime());i!==To.curBgmTime?t!==i?To.curBgmTime=i:(o++,o>To.curBgmLength&&(o=1),To.curBgmTime=o):(t=i,o=i+1,To.curBgmTime=o)}},1e3)}}else To.bgmIsPlaying&&(0!==To.bgmTitleInterval&&(clearInterval(To.bgmTitleInterval),To.bgmTitleInterval=0),0!==To.bgmPlayInterval&&(clearInterval(To.bgmPlayInterval),To.bgmPlayInterval=0))}})},$$slots:{label:!0,default:!0}});u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},h=(e,t)=>{var o=e=>{Fe(e,{role:"tabpanel",variant:"unelevated",children:(e,t)=>{var o=jb(),i=D(o);Bt(i,{class:"text-center",children:(e,t)=>{var o=Rb();u(e,o)},$$slots:{default:!0}});var l=X(i,2);Re(l,{children:(e,t)=>{var o=Ab(),i=v(o),l=v(i),r=v(l);b(()=>re(r,`v${Ut}`)),u(e,o)},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}})};Y(e,e=>{"About"===i(n)&&e(o)},t)};Y(r,e=>{"General"===i(n)?e(g):e(h,!1)}),u(e,o)},$$slots:{default:!0}});var g=X(r,2);ve(g,{children:(e,t)=>{ue(e,{action:"close",children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Close");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),g()}var qb=n('<i class="mdi mdi-chevron-left"></i>'),Lb=n("<!> <!>",1),Wb=(e,t)=>bl(i(t)),Vb=n("<!> <!>",1),Nb=n('<div class="col-8"><!></div> <div class="col-2"><!></div> <div class="col-2"><input type="file" accept=".json, .zip" style="display: none;"/> <!></div>',1),zb=n("<!> <!>",1),Ub=n("<!> <!>",1),Gb=n("<!> <!>",1),Eb=n("<!> <!>",1),Hb=n("<!> <!>",1),_b=n("<!> <!>",1),Jb=n("<!> <!> <!> <!> <!> <!> <!>",1),Yb=n("<i></i>"),Xb=n('<i class="mdi mdi-stop"></i>'),Zb=n("<i></i>"),Kb=n('<!> <!> <!> <div class="px-1" style="max-width: 104px; width: 100%"><!></div> <div class="ps-1" style="max-width:150px; overflow: hidden;"><span class="scrolling-text"> </span></div> <div class="px-1 col"><!></div> <div class="text-center" style="width: 180px"> </div>',1),Qb=n('<i class="mdi mdi-format-list-checks"></i>'),ew=n('<div class="py-0 justify-center"><!></div>'),tw=n('<i class="mdi mdi-checkbox-marked-circle-outline"></i>'),ow=n("<!> <!> <!>",1),iw=n("<div><!></div>"),lw=n('<div class="ab-0"><div class="fadeOverlay"></div> <!> <!> <!> <div class="s-main"><!> <!> <div class="container-fluid p-0"><div class="row gx-0"></div></div></div></div> <!> <!> <!>',1);function rw(e,r){t(r,!0);let a=l(!1),n=l(!1),p=l("none"),m=Q(()=>i(n)?app.showMusicPlayer?"top: 32px;":"top: 0;":"bottom: 0;"),f=Q(()=>i(n)?app.showMusicPlayer?"margin-top: 88px;":"margin-top: 56px;":app.showMusicPlayer?"margin-top: 32px;":""),x=Q(()=>`opacity: ${app.fadeTransitionIsOn?1:0}; transition: opacity ${app.fadeTransitionTime}s ease-out; background-color: ${Pl(app.fadeTransitionColor)}; pointer-events: ${app.fadeTransitionIsOn?"auto":"none"}; cursor: ${app.fadeTransitionIsOn?"none":"auto"};`),$=l(0),T=l(void 0),y=l(void 0),C=l(null),B=l(void 0),S=Q(()=>app.pointTypes.length>0||app.backpack.length>0||app.importedChoicesIsOpen),k=Q(()=>`background-color: ${Pl(app.styling.barBackgroundColor)};margin:${app.styling.barMargin}px;padding:${app.styling.barPadding}px;${i(m)}`),F=Q(()=>`color: ${Pl(app.styling.barTextColor)};margin: ${app.styling.barTextMargin}px;padding: ${app.styling.barTextPadding}px;font-family: "${app.styling.barTextFont}";font-size: ${app.styling.barTextSize}px`),R=Q(()=>`color: ${Pl(app.styling.barIconColor)};`),A=Q(()=>{let e=[];return app.styling.backgroundImage&&e.push(`background-image: url('${app.styling.backgroundImage}');`),e.push(`background-color: ${Pl(app.styling.backgroundColor)};`),app.styling.isBackgroundRepeat?e.push("background-repeat: repeat;"):app.styling.isBackgroundFitIn?e.push("background-size: 100% 100%;"):e.push("background-size: cover;"),i(S)&&e.push("padding-bottom: 56px;"),app.useVW&&e.push("font-size: 0.835vw;"),e.join("")}),j=Q(()=>{let e=[];return app.showMusicPlayer&&e.push("padding-top: 32px;"),e.join("")}),P=Q(()=>`${V(To.curBgmTime)} | ${V(To.curBgmLength)}`),q=l(0),L=l(100),W=l(!1);function V(e){const t=Math.floor(e/3600),o=Math.floor(e%3600/60),i=Math.floor(e%60),l=String(o).padStart(2,"0"),r=String(i).padStart(2,"0");return t>0?`${t}:${l}:${r}`:`${l}:${r}`}function N(){const e=localStorage.getItem("theme");Io.value="dark"===e?"light":"dark";let t=document.head.querySelector("#theme-dark"),o=document.head.querySelector("#theme-light");"dark"===Io.value?(t&&(t.media="screen and (prefers-color-scheme: light)"),o&&(o.media="screen and (prefers-color-scheme: dark)")):(t&&(t.media="screen and (prefers-color-scheme: dark)"),o&&(o.media="screen and (prefers-color-scheme: light)")),localStorage.setItem("theme",Io.value)}function z(){if($o&&0!==To.curBgmLength){const e=O($o);if(e)if(To.bgmIsPlaying)e.pauseVideo(),To.bgmIsPlaying=!1,0!==To.bgmPlayInterval&&(clearInterval(To.bgmPlayInterval),To.bgmPlayInterval=0);else{let t=0,o=0;0!==To.bgmPlayInterval&&(clearInterval(To.bgmPlayInterval),To.bgmPlayInterval=0),e.playVideo(),To.bgmIsPlaying=!0,To.bgmPlayInterval=window.setInterval(()=>{if(void 0!==e.playerInfo.videoData&&!To.isSeeking&&1===e.getPlayerState()){const i=Math.floor(e.getCurrentTime());i!==To.curBgmTime?t!==i?To.curBgmTime=i:(o++,o>To.curBgmLength&&(o=1),To.curBgmTime=o):(t=i,o=i+1,To.curBgmTime=o)}},1e3)}}}function U(){if($o&&To.bgmIsPlaying&&0!==To.curBgmLength){const e=O($o);e&&(e.stopVideo(),To.bgmIsPlaying=!1,To.curBgmTime=0,0!==To.bgmPlayInterval&&(clearInterval(To.bgmPlayInterval),To.bgmPlayInterval=0))}}function G(){if(app.isMute=!app.isMute,$o){const e=O($o);e&&(app.isMute?e.mute():e.unMute())}}function E(){$o&&To.bgmIsPlaying&&(To.isSeeking=!0)}function H(){if($o&&To.bgmIsPlaying){const e=O($o);e&&(e.seekTo(i(q),!0),To.curBgmTime=i(q)),To.isSeeking=!1}document.activeElement?.blur()}function _(){c(W,!0)}function J(){if(app.curVolume=i(L),$o){const e=O($o);e&&e.setVolume(i(L))}c(W,!1),document.activeElement?.blur()}o(()=>{To.isSeeking||c(q,To.curBgmTime,!0)}),o(()=>{i(W)||c(L,app.curVolume,!0)});var Z=lw(),K=D(Z),ee=v(K),te=X(ee,2);Tt(te,{class:"viewer-menu",get style(){return i(f)},variant:"static",children:(e,t)=>{yt(e,{children:(e,t)=>{Ct(e,{class:"py-0 justify-left",children:(e,t)=>{var o=Nb(),l=D(o),r=v(l);Ye(r,{onclick:()=>wo.value="appMain",size:"mini",children:(e,t)=>{var o=qb();u(e,o)},$$slots:{default:!0}});var a=X(l,2),n=v(a);ue(n,{onclick:()=>Cl(i(T)),variant:"unelevated",children:(e,t)=>{var o=Lb(),i=D(o);dt(i,{class:"mdi mdi-file-image"});var l=X(i,2);ge(l,{children:(e,t)=>{var o=le("Download Image");u(e,o)},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}});var s=X(a,2),g=v(s);g.__change=[Wb,C],d(g,e=>c(B,e),()=>i(B));var h=X(g,2);ue(h,{onclick:()=>i(B)?.click(),variant:"unelevated",children:(e,t)=>{var o=Vb(),i=D(o);dt(i,{class:"mdi mdi-upload"});var l=X(i,2);ge(l,{children:(e,t)=>{var o=le("Load Project");u(e,o)},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),ht(g,()=>i(C),e=>c(C,e)),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}});var oe=X(te,2);wt(oe,{style:"top: 0;",variant:"modal",get open(){return i(a)},set open(e){c(a,e,!0)},children:(e,t)=>{It(e,{class:"navigation-drawer",children:(e,t)=>{qe(e,{children:(e,t)=>{var o=Jb(),l=D(o);Ne(l,{onSMUIAction:()=>c(a,!1),class:"my-0",children:(e,t)=>{var o=zb(),i=D(o);xt(i,{class:"mdi mdi-chevron-left"});var l=X(i,2);Xe(l,{class:"w-100 list-text text-center",children:(e,t)=>{var o=le("Close Menu");u(e,o)},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}});var r=X(l,2);$t(r,{class:"my-3"});var s=X(r,2);Ne(s,{onSMUIAction:N,class:"my-0",children:(e,t)=>{var o=Ub(),i=D(o);xt(i,{class:"mdi mdi-theme-light-dark"});var l=X(i,2);Xe(l,{class:"w-100 list-text text-center",children:(e,t)=>{var o=le("Toogle Dark/Light Theme");u(e,o)},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}});var d=X(s,2);Ne(d,{onSMUIAction:()=>c(n,!i(n)),class:"my-0",children:(e,t)=>{var o=Gb(),i=D(o);xt(i,{class:"mdi mdi-swap-vertical"});var l=X(i,2);Xe(l,{class:"w-100 list-text text-center",children:(e,t)=>{var o=le("Top/Bottom Point Bar");u(e,o)},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}});var g=X(d,2);Ne(g,{get onSMUIAction(){return Wi},class:"my-0",children:(e,t)=>{var o=Eb(),i=D(o);xt(i,{class:"mdi mdi-select-off"});var l=X(i,2);Xe(l,{class:"w-100 list-text text-center",children:(e,t)=>{var o=le("Clean Selected Choices");u(e,o)},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}});var v=X(g,2),h=e=>{Ne(e,{onSMUIAction:()=>{c(p,"appSaveLoad"),c(a,!1)},class:"my-0",children:(e,t)=>{var o=Hb(),i=D(o);xt(i,{class:"mdi mdi-content-save"});var l=X(i,2);Xe(l,{class:"w-100 list-text text-center",children:(e,t)=>{var o=le("Save/Load Build");u(e,o)},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}})};Y(v,e=>{app.importedChoicesIsOpen&&e(h)});var m=X(v,2);Ne(m,{onSMUIAction:()=>{c(p,"appGlobalSettings"),c(a,!1)},class:"my-0",children:(e,t)=>{var o=_b(),i=D(o);xt(i,{class:"mdi mdi-cog"});var l=X(i,2);Xe(l,{class:"w-100 list-text text-center",children:(e,t)=>{var o=le("Settings");u(e,o)},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}});var ie=X(oe,2);St(ie,{});var ae=X(ie,2),ne=v(ae),he=e=>{Tt(e,{class:"music-player",variant:"fixed",children:(e,t)=>{yt(e,{class:"music-player--row",children:(e,t)=>{Ct(e,{class:"px-2 justify-left",children:(e,t)=>{var o=Kb(),l=D(o);Ye(l,{class:"music-player--button",onclick:z,size:"button","aria-label":"Play",children:(e,t)=>{var o=Yb();b(()=>w(o,1,I(To.bgmIsPlaying?"mdi mdi-pause":"mdi mdi-play"))),u(e,o)},$$slots:{default:!0}});var r=X(l,2);Ye(r,{class:"music-player--button",onclick:U,size:"button","aria-label":"Stop",children:(e,t)=>{var o=Xb();u(e,o)},$$slots:{default:!0}});var a=X(r,2);Ye(a,{class:"music-player--button",onclick:G,size:"button","aria-label":"Mute",children:(e,t)=>{var o=Zb();b(()=>w(o,1,I(app.isMute?"mdi mdi-volume-off":"mdi mdi-volume-high"))),u(e,o)},$$slots:{default:!0}});var n=X(a,2),s=v(n);st(s,{min:0,max:100,step:1,class:"mx-2",onpointerdown:_,onpointerup:J,get disabled(){return app.isMute},get value(){return i(L)},set value(e){c(L,e,!0)}});var d=X(n,2),g=v(d),h=v(g),p=X(d,2),m=v(p);const f=Q(()=>To.curBgmLength||1);st(m,{min:0,get max(){return i(f)},step:1,class:"mx-2",onpointerdown:E,onpointerup:H,get value(){return i(q)},set value(e){c(q,e,!0)}});var x=X(p,2),$=v(x);b(()=>{re(h,To.bgmTitle),re($,i(P))}),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}})};Y(ne,e=>{app.showMusicPlayer&&e(he)});var pe=X(ne,2),me=e=>{Tt(e,{class:"pointBar",get style(){return i(k)},variant:"fixed",color:"secondary",children:(e,o)=>{yt(e,{class:"justify-space-around",children:(e,o)=>{var l=ow(),r=D(l);Ct(r,{class:"py-0 justify-center",children:(e,t)=>{Ye(e,{class:"pointbar-icons",onclick:()=>c(a,!0),"aria-label":"Open Import Window",get style(){return i(R)},children:(e,t)=>{var o=Qb();u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var n=X(r,2);Ct(n,{class:"pointbar-center--viewer",children:(e,o)=>{var l=M(),r=D(l);Ee(r,17,()=>app.pointTypes,He,(e,o)=>{var l=M(),r=D(l),a=e=>{var l=ew();!function(e,o){t(o,!0);let l=Q(()=>`color: ${Pl(app.styling.barTextColor)};margin: ${app.styling.barTextMargin}px;padding: ${app.styling.barTextPadding}px;font-family: "${app.styling.barTextFont}";font-size: ${app.styling.barTextSize}px`),r=Q(()=>{if(o.point.startingSum>=0){if(void 0!==app.styling.barPointPos)return`color: ${Pl(app.styling.barPointPos)};`}else if(void 0!==app.styling.barPointNeg)return`color: ${Pl(app.styling.barPointNeg)};`;return""});function a(e,t){const o=t?e.negativeImage:e.image,i=t?e.negativeIconWidth:e.iconWidth,l=t?e.negativeIconHeight:e.iconHeight;return o?`<img src="${o}" style="width: ${i}px; height:${l}px;" alt="">`:""}var n=Tb(),d=v(n),c=v(d),h=e=>{var t=M(),i=D(t),l=e=>{var t=M(),i=D(t),l=e=>{var t=M(),i=D(t);s(i,()=>a(o.point,!0)),u(e,t)};Y(i,e=>{o.point.negativeImageOnSide||o.point.negativeImageSidePlacement||e(l)}),u(e,t)},r=e=>{var t=M(),i=D(t),l=e=>{var t=M(),i=D(t);s(i,()=>a(o.point,!1)),u(e,t)};Y(i,e=>{o.point.imageOnSide||o.point.imageSidePlacement||e(l)}),u(e,t)};Y(i,e=>{o.point.negativeIconIsOn&&o.point.startingSum<0?e(l):e(r,!1)}),u(e,t)};Y(c,e=>{o.point.iconIsOn&&e(h)});var p=X(c),m=X(p),f=e=>{var t=M(),i=D(t),l=e=>{var t=M(),i=D(t),l=e=>{var t=M(),i=D(t);s(i,()=>a(o.point,!0)),u(e,t)};Y(i,e=>{o.point.negativeImageOnSide&&!o.point.negativeImageSidePlacement&&e(l)}),u(e,t)},r=e=>{var t=M(),i=D(t),l=e=>{var t=M(),i=D(t);s(i,()=>a(o.point,!1)),u(e,t)};Y(i,e=>{o.point.imageOnSide&&!o.point.imageSidePlacement&&e(l)}),u(e,t)};Y(i,e=>{o.point.negativeIconIsOn&&o.point.startingSum<0?e(l):e(r,!1)}),u(e,t)};Y(m,e=>{o.point.iconIsOn&&e(f)});var w=X(m,2),I=v(w),x=X(w,2),$=e=>{var t=M(),i=D(t),l=e=>{var t=M(),i=D(t),l=e=>{var t=M(),i=D(t);s(i,()=>a(o.point,!0)),u(e,t)};Y(i,e=>{!o.point.negativeImageOnSide&&o.point.negativeImageSidePlacement&&e(l)}),u(e,t)},r=e=>{var t=M(),i=D(t),l=e=>{var t=M(),i=D(t);s(i,()=>a(o.point,!1)),u(e,t)};Y(i,e=>{!o.point.imageOnSide&&o.point.imageSidePlacement&&e(l)}),u(e,t)};Y(i,e=>{o.point.negativeIconIsOn&&o.point.startingSum<0?e(l):e(r,!1)}),u(e,t)};Y(x,e=>{o.point.iconIsOn&&e($)});var T=X(x),y=X(T),C=e=>{var t=M(),i=D(t),l=e=>{var t=M(),i=D(t),l=e=>{var t=M(),i=D(t);s(i,()=>a(o.point,!0)),u(e,t)};Y(i,e=>{o.point.negativeImageOnSide&&o.point.negativeImageSidePlacement&&e(l)}),u(e,t)},r=e=>{var t=M(),i=D(t),l=e=>{var t=M(),i=D(t);s(i,()=>a(o.point,!1)),u(e,t)};Y(i,e=>{o.point.imageOnSide&&o.point.imageSidePlacement&&e(l)}),u(e,t)};Y(i,e=>{o.point.negativeIconIsOn&&o.point.startingSum<0?e(l):e(r,!1)}),u(e,t)};Y(y,e=>{o.point.iconIsOn&&e(C)}),b((e,t)=>{we(n,i(l)),we(d,e),re(p,` ${o.point.beforeText??""} `),we(w,i(r)),re(I,t),re(T,` ${o.point.afterText??""} `)},[()=>o.point.pointPrivateColorIsOn?`color: ${o.point.startingSum>=0?Pl(o.point.privateColor):Pl(o.point.privateNegativeColor)}`:"",()=>o.point.startingSum%1==0?o.point.startingSum:parseFloat(o.point.startingSum.toFixed(void 0!==o.point.decimalPlaces?o.point.decimalPlaces:2))]),u(e,n),g()}(v(l),{get point(){return i(o)}}),b(()=>we(l,i(F))),u(e,l)};Y(r,e=>{yi(i(o))&&e(a)}),u(e,l)}),u(e,l)},$$slots:{default:!0}});var d=X(n,2);Ct(d,{class:"py-0 justify-center",children:(e,t)=>{var o=M(),l=D(o),r=e=>{Ye(e,{class:"pointbar-icons",onclick:()=>c(p,"dlgBackpack"),"aria-label":"Open Backpack Window",get style(){return i(R)},children:(e,t)=>{var o=tw();u(e,o)},$$slots:{default:!0}})};Y(l,e=>{app.backpack.length>0&&(void 0===app.hideBackpackBtn||0===app.hideBackpackBtn||app.hideBackpackBtn>0&&app.hideBackpackBtn===app.btnBackpackIsOn)&&e(r)}),u(e,o)},$$slots:{default:!0}}),u(e,l)},$$slots:{default:!0}})},$$slots:{default:!0}})};Y(pe,e=>{i(S)&&e(me)});var fe=X(pe,2),be=v(fe);Ee(be,21,()=>app.rows,He,(e,t)=>{var o=iw();$b(v(o),{get row(){return i(t)},get windowWidth(){return i($)},get mainDiv(){return i(y)}}),b(()=>w(o,1,I(i(t).width?"col-6":"col-12"))),u(e,o)}),d(be,e=>c(y,e),()=>i(y)),d(K,e=>c(T,e),()=>i(T));var Ie=X(K,2),xe=e=>{const t=Q(()=>"appSaveLoad"===i(p));Um(e,{get open(){return i(t)},onclose:()=>c(p,"none")})},$e=(e,o)=>{var r=e=>{const o=Q(()=>"dlgBackpack"===i(p));!function(e,o){t(o,!0);let r=h(o,"open",7),a=l(0),n=l(void 0),s=l(void 0),p=Q(()=>{let e=[];return e.push("overflow-wrap: break-word;"),e.push("white-space: normal;"),app.styling.useBackpackDesign?(app.styling.backpackBgImage&&e.push(`background-image: url('${app.styling.backpackBgImage}');`),e.push(`background-color: ${Pl(app.styling.backpackBgColor)};`),app.styling.isBackpackBgRepeat?e.push("background-repeat: repeat;"):app.styling.isBackpackBgFitIn?e.push("background-size: 100% 100%;"):e.push("background-size: cover;")):(app.styling.backgroundImage&&e.push(`background-image: url('${app.styling.backgroundImage}');`),e.push(`background-color: ${Pl(app.styling.backgroundColor)};`),app.styling.isBackgroundRepeat?e.push("background-repeat: repeat;"):app.styling.isBackgroundFitIn?e.push("background-size: 100% 100%;"):e.push("background-size: cover;")),e.join(" ")});const m=Q(()=>"dlgBackpack"!==yo.currentDialog?"close":""),f=Q(()=>"dlgBackpack"!==yo.currentDialog?"close":""),x=Q(()=>void 0!==app.styling.backPackWidth?app.styling.backPackWidth:1200);se(e,{get escapeKeyAction(){return i(m)},get scrimClickAction(){return i(f)},get surface$style(){return`width: ${i(x)??""}px; max-width: 100vw;`},get onSMUIDialogClosed(){return o.onclose},get open(){return r()},set open(e){r(e)},children:(e,t)=>{var o=kb(),l=D(o);de(l,{class:"p-0 m-0 row",tabindex:0,autofocus:!0,children:(e,t)=>{var o=Cb(),l=v(o);ue(l,{onclick:()=>Cl(i(n)),class:"h-100",children:(e,t)=>{var o=yb(),i=D(o);dt(i,{class:"mdi mdi-file-image"});var l=X(i,2);ge(l,{children:(e,t)=>{var o=le("Download Image");u(e,o)},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}});var r=X(l,2);ce(r,{id:"backpackDialog",class:"p-0",children:(e,t)=>{var o=Sb(),l=v(o);Ee(l,21,()=>app.backpack,He,(e,t)=>{var o=Bb();$b(v(o),{get row(){return i(t)},get windowWidth(){return i(a)},get preloadImages(){return app.preloadImages},isBackpack:!0}),b(()=>w(o,1,I(i(t).width?"col-6":"col-12"))),u(e,o)}),d(l,e=>c(s,e),()=>i(s)),d(o,e=>c(n,e),()=>i(n)),b(()=>we(o,i(p))),at(o,"clientWidth",e=>c(a,e)),u(e,o)},$$slots:{default:!0}});var g=X(r,2);ve(g,{class:"p-0",style:"min-height: 36px",children:(e,t)=>{ue(e,{action:"close",children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Close");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),g()}(e,{get open(){return i(o)},onclose:()=>c(p,"none")})},a=(e,t)=>{var o=e=>{const t=Q(()=>"appGlobalSettings"===i(p));Pb(e,{get open(){return i(t)},onclose:()=>c(p,"none")})};Y(e,e=>{"appGlobalSettings"===i(p)&&e(o)},t)};Y(e,e=>{"dlgBackpack"===i(p)?e(r):e(a,!1)},o)};Y(Ie,e=>{"appSaveLoad"===i(p)?e(xe):e($e,!1)});var Te=X(Ie,2),ye=e=>{const t=Q(()=>"appImageUpload"===yo.currentDialog);Xr(e,{get open(){return i(t)},onclose:()=>yo.currentDialog="none",get imgObject(){return yo.data},get imgProp(){return yo.imgProp}})},Ce=(e,t)=>{var o=e=>{const t=Q(()=>"dlgCommon"===yo.currentDialog);Tm(e,{get open(){return i(t)},onclose:()=>yo.currentDialog="none",get closeHandler(){return yo.cFunc},get title(){return yo.title},get context(){return yo.context},get isWord(){return yo.isWord}})};Y(e,e=>{"dlgCommon"===yo.currentDialog&&void 0!==yo.cFunc&&void 0!==yo.title&&void 0!==yo.context&&e(o)},t)};Y(Te,e=>{"appImageUpload"===yo.currentDialog&&void 0!==yo.data&&void 0!==yo.imgProp?e(ye):e(Ce,!1)}),jt(X(Te,2),{}),b(()=>{we(K,i(A)),we(ee,i(x)),we(ae,i(j))}),at(K,"clientWidth",e=>c($,e)),u(e,Z),g()}he(["change"]);var aw=n("<i></i>"),nw=n('<span style="white-space: pre-line"><!></span>'),sw=n("<!> <!>",1);function dw(e,t){let o=h(t,"open",7,!1);Es(e,{get open(){return o()},set open(e){o(e)},children:(e,i)=>{var l=sw(),r=D(l);Xs(r,{icon:e=>{var t=aw();b(()=>w(t,1,`mdi ${o()?"mdi-chevron-up":"mdi-chevron-down"} mdi--big`)),u(e,t)},children:(e,o)=>{var i=le();b(()=>re(i,t.title)),u(e,i)},$$slots:{icon:!0,default:!0}});var a=X(r,2);Re(a,{children:(e,o)=>{var i=nw(),l=v(i);s(l,()=>t.text),u(e,i)},$$slots:{default:!0}}),u(e,l)},$$slots:{default:!0}})}var cw=n('<i class="mdi mdi-chevron-left"></i>'),uw=n('<div class="col-12"><!></div>'),gw=n('<i class="mdi mdi-menu-left"></i>'),vw=n('<i class="mdi mdi-menu-right"></i>'),hw=n('<div class="col pb-2"><div class="d-row align-items-center justify-end"><!> <span class="list-text px-2"> </span> <!></div></div> <!>',1),pw=n('<i class="mdi mdi-menu-left"></i>'),mw=n('<i class="mdi mdi-menu-right"></i>'),fw=n('<div class="col pb-2"><div class="d-row align-items-center justify-end"><!> <span class="list-text px-2"> </span> <!></div></div> <!>',1),bw=n("<!> <!> <!>",1);var ww=n('<span class="main-title">Interactive CYOA Creator Plus</span> <span class="sub-title">Created by MeanDelay / Recreated by Wahaha303</span> <span class="sub-title--version"> </span> <span class="sub-title--date"> </span>',1),Iw=n("<div><!></div>"),xw=n("<!> <!>",1),$w=n("<!> <!>",1),Tw=n('<div class="row g-4"><!> <div class="col-12"><!></div> <div class="col-12"><!> <!></div></div>'),yw=n("<!> <!>",1),Cw=n('<div id="bgm-player" style="display:none"></div> <!> <!>',1);void 0===window.ResizeObserver&&(window.ResizeObserver=Ot),[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach(function(e){e.hasOwnProperty("append")||Object.defineProperty(e,"append",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Array.prototype.slice.call(arguments),t=document.createDocumentFragment();e.forEach(function(e){t.appendChild(e instanceof Node?e:document.createTextNode(String(e)))}),this.appendChild(t)}})}),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(e){e.hasOwnProperty("before")||Object.defineProperty(e,"before",{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Array.prototype.slice.call(arguments),t=document.createDocumentFragment();e.forEach(function(e){t.appendChild(e instanceof Node?e:document.createTextNode(String(e)))}),this.parentNode.insertBefore(t,this)}})}),"function"!=typeof queueMicrotask&&(window.queueMicrotask=function(e){Promise.resolve().then(e).catch(e=>setTimeout(()=>{throw e},0))});const Bw=e=>{e.preventDefault(),e.returnValue=""};window.addEventListener?window.addEventListener("beforeunload",Bw):window.onbeforeunload=Bw,Ft(function(e,r){t(r,!0);let n,s=l(!0);const h=[{component:"appCyoaCreator",text:"Open Cyoa Creator (Alt + 1)"},{component:"appCyoaViewer",text:"Open Cyoa Viewer (Alt + 2)"},{component:"appInformation",text:"Help And Instructions (Alt + 3)"}];p(()=>{window.debugApp=app,function(){let e=localStorage.getItem("theme"),t=document.head.querySelector("#theme-dark"),o=document.head.querySelector("#theme-light"),i=Bl();"dark"===e?i?(t&&(t.media="screen and (prefers-color-scheme: light)"),o&&(o.media="screen and (prefers-color-scheme: dark)"),Io.value="dark"):(t&&(t.media="all"),o&&(o.media="not all")):i||(o&&(o.media="all"),t&&(t.media="not all"))}(),Qo(),async function(){const e=(await Eo()).transaction("buildStore","readonly").objectStore("buildStore"),t=location.pathname.replace(/\/index\.html$/,"/");await new Promise((o,i)=>{const l=e.openCursor();l.onsuccess=e=>{const i=e.target.result;if(!i)return void o();const l=i.key,r=i.value;if("string"==typeof l&&l.startsWith(t)){const e=l.slice(t.length);if("autoSave"===e)Oo.stored=!0,Oo.time=r.time,Oo.app=r.app;else{const t=e.match(/^slot-(\d+)$/),o=Number(t?.[1]);Fo[o].stored=!0,Fo[o].name=void 0!==r.name?r.name:`Slot ${o+1}`,Fo[o].time=r.time,Fo[o].app=r.app}}i.continue()},l.onerror=i})}(),app.enableShortcut&&window.addEventListener("keydown",Sl),a(()=>{$o.update(e=>(e?.destroy(),null)),window.removeEventListener("keydown",Sl)})}),o(()=>{app.enableShortcut?window.addEventListener("keydown",Sl):window.removeEventListener("keydown",Sl)}),o(()=>{Co.isOpen&&(n.close(),n.open(),Co.isOpen=!1)});var m=Cw(),I=X(D(m),2),x=e=>{se(e,{escapeKeyAction:"",scrimClickAction:"",surface$style:"width: 900px; max-width: calc(100vw - 32px);",style:"text-align: center",get open(){return i(s)},set open(e){c(s,e,!0)},children:(e,t)=>{var o=yw(),i=D(o);de(i,{class:"d-flex d-column",tabindex:0,autofocus:!0,children:(e,t)=>{var o=ww(),i=X(D(o),4),l=v(i),r=X(i,2),a=v(r);b(e=>{re(l,`v${Ut}`),re(a,`Last Updated: ${e??""}`)},[()=>Al("2025-07-19T11:00:00Z")]),u(e,o)},$$slots:{default:!0}});var l=X(i,2);ce(l,{children:(e,t)=>{var o=Tw(),i=v(o);Ee(i,17,()=>h,He,(e,t,o)=>{var i=Iw();w(i,1,"col-12 "+(0===o?"mt-0":""));var l=v(i);ue(l,{onclick:()=>{wo.value=h[o].component,document.body.classList.remove("mdc-dialog-scroll-lock")},variant:"raised",children:(e,t)=>{ge(e,{children:(e,t)=>{var i=le();b(()=>re(i,h[o].text)),u(e,i)},$$slots:{default:!0}})},$$slots:{default:!0}}),u(e,i)});var l=X(i,2),r=v(l);ue(r,{href:"https://github.com/wahaha303/ICCPlus/releases/latest",target:"_blank",children:(e,t)=>{ge(e,{class:"dialog-actions--btn",children:(e,t)=>{var o=le("Download Viewer");u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}});var a=X(l,2),n=v(a);ue(n,{variant:"raised",href:"https://github.com/wahaha303/ICCPlus",target:"_blank",class:"m-1 w-auto",children:(e,t)=>{var o=xw(),i=D(o);dt(i,{class:"mdi mdi-github"});var l=X(i,2);ge(l,{style:"text-transform:none",children:(e,t)=>{var o=le("View on GitHub");u(e,o)},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}});var s=X(n,2);ue(s,{variant:"raised",href:"https://ko-fi.com/wahaha303",target:"_blank",class:"m-1 w-auto",children:(e,t)=>{var o=$w(),i=D(o);dt(i,{class:"mdi mdi-heart-box"});var l=X(i,2);ge(l,{style:"text-transform:none",children:(e,t)=>{var o=le("Support me on Ko-fi");u(e,o)},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}})},$=(e,o)=>{var r=e=>{bm(e,{bCreatorMode:!0})},a=(e,o)=>{var r=e=>{rw(e,{})},a=(e,o)=>{var r=e=>{!function(e,o){t(o,!0);const r=[{title:"How do I show off my CYOA?",text:'1. Host it yourself on a free hosting service.\n\n            <b>You have two options:</b>\n\n            A. Download the Viewer from the link below. Then, open the <b>JSON</b> file of the project and the <b>app.XXXXXXX.js</b> file in a text editor such as Notepad. Copy all contents from your project and paste them into the space between /*! Delete ~ */ and /*! End */ in the js file.\n\n            <b>OR</b>\n\n            B. Download the Viewer from the link below. Get your project <b>JSON</b> file and make sure it is named <b>project.json</b>. Place this file next to the <b>index.html</b> file inside the Viewer folder.\n            Note: This method will not work when running locally from your computer—it must be uploaded to a hosting service. However, once it\'s hosted, you can easily update your project by simply replacing the project file. This is the more convenient and scalable solution.\n\n            <b>Next:</b>\n\n            Create a user on Neocities or another free hosting service, move to the \'Edit your page\' part of the site and upload the Viewer, anyone that enters the page will now see the CYOA.\n            \n            <a href="https://github.com/wahaha303/ICCPlus/releases/latest" target="_blank">ICC Plus Viewer</a>\n            https://github.com/wahaha303/ICCPlus/releases/latest\n        '},{title:"Can I use a single Viewer for multiple CYOAs?",text:'Place the <b>css</b>, <b>js</b> and <b>fonts</b> folders (excluding the loading.css file) in your desired directory.\n        Then, open the <b>index.html</b> file and modify the path in <code>&lt;script src="./js/core.js"&gt;&lt;/script&gt;</code> to match the location of the <b>core.js</b> file.\n        After that, each CYOA directory only needs to contain the <b>index.html</b>, <b>css/loading.css</b>, and <b>project.json</b> files.\n        '},{title:"Can I create static Image CYOA's with this?",text:'Yes, you can!\n                In the top menu of the Viewer Mode, you will see a button labeled "Download image". Click this button to start downloading the image of your project. The larger your project is, the longer it may take for the download to begin, and the bigger the resulting file will be.\n\n                If your project is too large, it will be automatically split into multiple image files. If you see <i>\'_part\'</i> at the end of the downloading file names, please do not leave the page until all parts have finished downloading.\n\n                If the image doesn\'t download properly or other issues occur, it might be wiser to use an extension with more options, such as <a href="https://www.awesomescreenshot.com/" target="_blank">Awesome Screenshot</a>, which allows you to save your project as a PDF or capture only a specific part of it.'},{title:"How should I go about creating a CYOA with this?",text:'First off, after figuring out what you want to make a CYOA about, find a color palette that fits the theme, you can use a <a href="https://color.adobe.com/nb/create/" target="_blank">Color theme generator</a> if you need help. Placing a repeating image in the background that fits the theme is always a good idea.\n\n        Create the point system if you have one, it\'s not necessary, you can always go for the \'select x from each row\' type of Cyoa. Now create the rows you have planned before-hand, give them names, and add any choices you have planned.'},{title:"What is a requirement and how do I create one?",text:"A requirement is something that can be created on both rows and choices and will decide if the row is visible, or if the choice can be activated.\n\n        A requirement can be added to a row by pressing the key+ symbol in the right corner, and on the choice by pressing the button that says 'Requirement'.\n\n        When one of these buttons is pressed you a dialog opens up where you have to choose what condition you'll want.\n\n        1. The first one will let the user activate the choice if the choice with the id is already activated.\n        2. The second will let the user activate the choice only if the choice the id belongs to is not already pressed.\n        3. The third will only let the choice be activated if the selected point type is less than the value you write in.\n        4. The fourth will only let the choice be activated if the selected point type is equal or more to the value you write in.\n\n        More than one of these requirements can be added to each row and choice."},{title:"What is a Point-type and how do I create one?",text:"A point-type is a system where you can create some type of valuta, be it gold points, XP or just points, that the player can spend and earn trough their choices. These can be created in the dialog that pops up when you press the 'Feature' button in the top menu and can be added to choices by pressing the 'Score' button on a choice.\n\n        In the 'Point Type' select you choose the point-type you have created, the value which needs to be in the negative if you want it to give the player points, and the text that will be shown before and after.\n\n        If the 'Show Score?' checkbox is unchecked then the value and text will not show on the choice, in case you want to write it in the text or you want it to be hidden."},{title:"How do I load and save my proejct?",text:"In the left sidebar of the creator, you'll see a button named 'Save/Load Project'. Pressing this button will lead you to a dialog where you can find a button that says 'Save to Disk'.\n\n        Pressing on the button will take you to the explorer where you'll need to choose where to store it and what name to give it."},{title:"How do I change the design of my project?",text:"If you look at the top bar in the image designer you'll see a button named 'Modify Design', click on this and a dialog with a lot of buttons will show itself. Each of these buttons will open another dialog where you can make changes to the design of whatever is written on it.\n\n        An example will be that the 'Manage Filters' button will let you change the look of the deactivated and activated filters, and the 'Text' button will let you change the color, size, and font of the different texts on the page.\n\n        Each row can have different designs if you press the Cog in the right corner of the row and flips the switch 'Use private styling?' in the dialog that pops up. Now the styling of the row will be whatever you change in the buttons that show up under."},{title:"What is variables used for?",text:"At this point, variables can only be used with button rows and can be attached to a button when it is created. Clicking a button with a variable attached to it will push the id of the variable into the array where the ids of selected choices lie. This makes it possible to use the id in requirements for rows and choices."},{title:"What is allowed choices and selected choices?",text:"In the edit-mode of the row, there is a text field that says 'Allowed Choices' and a text field that says 'Selected Choices'. The 'Allowed Choices' decides how many choices that the player can select at one time, write 1 in the text field and the user may only choose one. If there is no limit then let it stay 0.\n\n        The 'Selected Choices' will show how many that is currently selected, and should normally be 0, if it is something else and none is selected then some wonky shit has happened, and you can clear it by changing the value to 0.\n        "},{title:"What does the three switches on a row do?",text:"The three switches in the row when it is on edit-mode changes how the rows operate when pressed.\n\n        The first one named 'Button?' will switch the image of the row out with a button, which in turn can be used to activate or deactivate variables, whose ids can be used in requirements.\n\n        The second button will make it impossible for a player to change any of the choices, if one is selected then it will stay selected and visa versa. Good to use when the user should be given information or story, and not choices.\n\n        The third button named 'Selected Choices?' can be used to make the row show all choices that have been selected, good to use at the end of the project to let the player see the choices they have made. A private row design should be used to make filters invisible."},{title:"What is an Addon?",text:"An Addon is going to be a smaller choice in the choices but is currently only an under title and undertext of the choice it is attached to."},{title:"What is the image cropper and compressor?",text:"The image cropper and compressor can be found when someone presses the 'Change Image'-button on either a row or a choice and will open up in its own dialog.\n\n        The cropper lets you change the height and width aspect of your image, and cut off parts that you don't need. To change the aspect you'll have to change the value of the two text fields, and then press the 'Change Aspect'-button. To crop the image you need to press the 'Crop Image'-button.\n\n        The compressor cuts down the size of the image at the cost of its quality, which everyone should do to keep the project file small and thus the same with the bandwidth and storage cost. The image quality and the image scale text field shows the percentage to cut down to in quality and scale.\n\n        Cutting down to 40sih percent quality will make little visible difference in most cases, but shave off up to 60-70 percent of the image file size."}],a=[{open:!0,title:`v2.1.1 ~ v2.1.6 / ${Al("2025-07-19T11:00:00Z")}`,text:'<span style="color: green">Choice</span>\n        - Fixed issue where self-invalidating choices were not deselected upon selection.\n        - Fixed issue where Other Choices Function was not rendering properly.\n        - Fixed issue where forcibly activated choice didn\'t reset state when using Clean Selected Choices.\n        - Fixed issue where justify didn\'t work properly.\n        - Fixed issue where score was not recalculated.\n\n        <span style="color: green">Addon</span>\n        - Fixed issue where text-align didn\'t apply to short lines.\n        - Fixed issue where filter design was not being applied properly.\n\n        <span style="color: green">Backpack</span>\n        - Fixed issue where image downloads didn\'t work properly in some browsers.\n\n        <span style="color: green">Tooltip</span>\n        - Fixed issue where applying tooltip caused image size to shrink.\n\n        <span style="color: green">Viewer - Settings</span>\n        - Added option to download Backpack image as single file.\n\n        <span style="color: green">Miscellaneous</span>\n        - Changed text cursor color to make it more visible in dark mode.\n        '},{open:!1,title:`v2.1.0 / ${Al("2025-07-14T16:00:00Z")}`,text:'<span style="color: green">Design</span>\n        - Fixed issue where gradient was not rendering.\n        - Fixed issue where importing private styling didn\'t work properly.\n\n        <span style="color: green">Choice</span>\n        - Added option to confirm dialog before select.\n        - Added option to copy Score. To paste, right-click Create button.\n        - Added option to copy Addon. To paste, right-click Create button.\n        - Fixed issue where score was not recalculated when choice was deselected.\n\n        <span style="color: green">Requirement</span>\n        - Added option to add requirements in Score/Addon\'s requirements.\n        - Added option to check Word\'s text.\n\n        <span style="color: green">UI</span>\n        - Fixed issue where initial UI overlapped in some dialogs.\n\n        <span style="color: green">Miscellaneous</span>\n        - Extended compatibility with older browser versions.\n        '},{open:!1,title:`v2.0.1 ~ v2.0.8 / ${Al("2025-07-12T12:00:00Z")}`,text:'<span style="color: green">Row</span>\n        - Fixed issue where whitespace characters in Row\'s Title occupied space in layout.\n        \n        <span style="color: green">Choice</span>\n        - Fixed issue where score didn\'t update correctly when lower limit set to negative value in Multiple Select.\n        - Fixed issue where score value didn\'t display if point-type not assigned.\n        - Fixed issue where canceling the discount choice caused incorrect score calculation.\n        - Fixed issue where choices were sticking together when \'Identical Height\' was disabled.\n        - Fixed issue where gradient was not rendering.\n\n        <span style="color: green">Requirement</span>\n        - Fixed issue where \'X of These is Not Selected\' requirement was not working properly.\n\n        <span style="color: green">Global Settings</span>\n        - Changed minimum screen width for applying maximum choices per row from 960px to 760px.\n        - Added option to toggle adding prefix when generating ID.\n\n        <span style="color: green">Backpack</span>\n        - Fixed issue where separate background was not displayed in Viewer mode even when \'Use Separate Design\' was enabled for Backpack.\n\n        <span style="color: green">Point Bar</span>\n        - Adjusted point position on the point bar to better match the previous settings.\n\n        <span style="color: green">Word</span>\n        - Fixed issue where Word didn\'t work properly when one Word ID was a substring of another.\n\n        <span style="color: green">Miscellaneous</span>\n        - Fixed issue where <a> tags with target="_blank" were not working.\n        - Extended compatibility with older browser versions.\n        '},{open:!1,title:`v2.0.0 / ${Al("2025-07-08T15:00:00Z")}`,text:'<span style="color: green">Framework Migration</span>\n        - Rebuilt the entire codebase and migrated from Vue 2.6.11 to Svelte 5.\n        - Enhanced overall performance and responsiveness.\n\n        <span style="color: green">Save System</span>\n        - Added support for manual project saving via IndexedDB (Up to 99 save slots + 1 autosave slot).\n    \n        <span style="color: green">Dark Mode</span>\n        - Dark mode preference is now stored in IndexedDB.\n\n        <span style="color: green">UI Renewal</span>\n        - Added button to insert new Row between existing ones.\n        - Added button to add new Choice after the last one within Row.\n        - Removed the Alternate Menu option.\n\n        <span style="color: green">Point Type</span>\n        - Added option to choose between integer and floating-point values for points.\n        - Added option to set custom icon for negative point values.\n        - \'<i>Id Needed to Show</i>\' now also tracks variable IDs.\n\n        <span style="color: green">Point Bar</span>\n        - When the number of points increases, the bar becomes scrollable instead of being compressed.\n\n        <span style="color: green">Backpack</span>\n        - Moved the enable/disable switch for build save/load to Global Settings.\n        - Images are now preloaded automatically for download, even if not yet visible via scroll.\n        - Fixed issue where image downloads were forcefully downscaled.\n        - Fixed issue with segmented image downloads not working correctly.\n        - Fixed issue where image downloads would fail in the Firefox browser.\n\n        <span style="color: green">Manage Design</span>\n        - Separated the design management UI into dedicated dialog, instead of displaying it at the top of the page.\n        - Added option to use box-shadow instead of drop-shadow.\n        - Fixed issue where Border Radius values were applied at 10× the intended value.\n\n        <span style="color: green">Manage Features</span>\n        - Improved performance when opening various feature dialogs.\n\n        <span style="color: green">Global Settings</span>\n        - Organized settings into categorized groups.\n        - Added option to move Row addition buttons into toolbar buttons.\n        - Added option to set autosave interval.\n        - Added option to disable image rendering in Edit Mode.\n        - Added option to inject custom CSS directly into project.\n        - Added option to import external CSS via URL for custom fonts (CORS support required — e.g., Neocities requires supporter account to enable CORS).\n\n        <span style="color: green">BGM Player</span>\n        - Improved slider responsiveness.\n        - YouTube API will no longer load if BGM is not used in CYOA (Prevents memory and data leaks).\n\n        <span style="color: green">Requirement</span>\n        - Global Requirements can now reference other Global Requirements.\n        - \'<i>Hide when Requirement is met</i>\' now applies per requirement, not only when all are satisfied.\n\n        <span style="color: green">Choice</span>\n        - Organized Choice functions into categories.\n        - Added option for Addons to ignore Image Template Left/Right of Choice.\n        - Added option to enable slider support when using Multiple Select.\n        - Added option to specify Rows for applying discount.\n        - Added option to force-show all Addons, ignoring requirements.\n        - Added option to change Image Template per Row/Choice/Group.\n        - Added option to change Choice Per Row per Row/Choice/Group.\n        - Added option to set Fade-in times for screen transitions.\n        - Choice selection is delayed, and the cursor is automatically hidden until the fade-in completes.\n        - When using \'Force Other Choices to Be Active\', choices inactive due to unmet requirements will be automatically activated once the requirements are fulfilled.\n        - Fixed issue where overlapping change image/background function would erase default values upon cancel.\n        - Fixed issue where point requirements triggered by selecting choice were not properly applied.\n\n        <span style="color: green">Viewer</span>\n        - Separated the build save feature into its own dialog.\n        - Builds are now saved per CYOA link.\n        - Added autosave for builds.\n        - Added option to adjust Choices per Row for screens between 960px and 1280px.\n        - Added option to allow deselecting choices in the backpack.\n        - Displayed the viewer version used for the current CYOA.'},{open:!1,title:Al("2025-01-25T10:00:00Z"),text:'<span style="color: blue">New Features:</span>\n        - Added a feature to use group IDs to the \'Forces Active\' function.\n        - Added a feature to scroll to the corresponding item in the Open Row List.\n        - Added a feature to set the Choice ID instead of Row ID in the scroll function.\n\n        <span style="color: red">Fixed:</span>\n        - Fixed an issue where the feature to save a project with separate images was not working properly.\n        - Fixed an issue where Styling data was being inserted into each row even when Private Styling wasn\'t used.'},{open:!1,title:Al("2025-01-18T10:00:00Z"),text:'<span style="color: blue">New Features:</span>\n        - Added a feature to prevent the generation of duplicate IDs when creating Row or Choice.\n        - Added a feature to apply justify to the addons.\n        - Added a feature to set tooltip in External URL Image.\n        - Added an option in Global Settings to import custom fonts from Google Fonts.\n        - Added an option in Global Settings to change the cursor type when hovering over choices.\n\n        <span style="color: red">Fixed:</span>\n        - Fixed an issue where lazy load was not applied to the addon image.\n        - Fixed an issue where the multi-choice with the \'Select Impossible\' function enabled could still be selected.'},{open:!1,title:Al("2025-01-03T10:00:00Z"),text:'<span style="color: blue">New Features:</span>\n        - Added an option in Global Settings to enable Music Player.\n        - Added a feature to enable Music Player in Viewer.\n        - Added a feature to search items in the dropdown menu.\n\n        <span style="color: red">Fixed:</span>\n        - Fixed an issue where the default value of the Multi Choice Design was not being set automatically.\n        - Fixed an issue where Multi Choice Design could not be set in the Private Styling/Design Group.\n        - Fixed an issue where Addon Design/Addon Image Design could not be set in the Design Group.'},{open:!1,title:Al("2024-12-28T10:00:00Z"),text:"<span style=\"color: blue\">New Features:</span>\n        - Added a feature to set Addon Design/Addon Image Design.\n        - Added a feature to allow uploading .avif format images.\n        - Added a feature to allow setting the Global Requirement for the 'Id Needed To Show' of Points.\n        - Added a feature to allow setting the Global Requirement for the 'Id Needed To Show' of Design Groups.\n\n        <span style=\"color: red\">Fixed:</span>\n        - Fixed an issue where the display of discounted scores was not refreshing.\n        - Fixed an issue where the choice with the discount function could not be deselected.\n        - Fixed an issue where discounted scores were displayed incorrectly.\n        - Fixed an issue where the border-radius was not applied to the Addon Image."},{open:!1,title:Al("2024-12-08T10:00:00Z"),text:"<span style=\"color: blue\">New Features:</span>\n        - Added a feature to set 'Image Center' option in Row/Choice/Addon Templates.\n        - Added a feature to set a Debug Title for each Choice. \n        - Added a feature to allow selecting choices directly instead of using groups for the discount function.\n        - Added a feature to allow stacking the discount function multiple times.\n        - Added an option in Global Settings to preload external images in Viewer.\n        - Added a feature to set fade-in and fade-out in the BGM function.\n\n        <span style=\"color: red\">Fixed:</span>\n        - Fixed an issue where some UIs in editor mode were not rendering correctly.\n        - Fixed an issue where the Debug Title was not displaying in the Row List and ID/Title List.\n        - Fixed an issue where discounted scores were displayed incorrectly.\n        - Fixed an issue where the 'Fit-in' option of the background did not work in the Viewer.\n        - Fixed an issue where the buttons did not work when clicking outside the icon area."},{open:!1,title:Al("2024-11-15T10:00:00Z"),text:'<span style="color: blue">New Features:</span>\n        - Added a feature to remove the space between addons in choice design.\n        - Added a feature to remove an image in the external image URL tab of the Change Image window.\n        - Updated the UI design for downloading the build as an image.\n\n        <span style="color: red">Fixed:</span>\n        - Fixed an issue where the page froze when dragging to reorder objects in the Objects list.\n        - Fixed an issue where the requirements could not delete in Manage Global Requirements.\n        - Fixed an issue where empty space appeared at the top and right of the downloaded build image.\n        - Fixed an issue where the UI in editor mode was not rendering correctly on small screens.\n        - Fixed an issue where white space appeared on the right side of the screen in mobile environments.\n        - Fixed an issue where other Viewer features were unavailable when Import Choices was disabled.\n        - Fixed an issue where the loading screen background color was overlaying the CYOA background color.'},{open:!1,title:Al("2024-11-05T10:00:00Z"),text:'<span style="color: blue">New Features:</span>\n        - Added a feature to set the Image template in the Addon.\n        - Added a feature to change the file extension before downloading the build as an image.\n        - Added a feature to allow the build code generated by Import Choice to save random selections.\n        - Added a feature to set the value of the variables by selecting a choice.\n        - Added a feature to scroll the Point Bar in a mobile environment.\n        - Added a feature to position the Point Bar at the top in the Viewer.\n        - Added a feature to save the builds in the Viewer.\n        - Added a feature to set dark mode in the Viewer.\n        - Added a feature to clean Selected Choices in the Viewer.\n        - Added a feature to select multiple PointTypes in the Multiply/Divide functions.\n\n        <span style="color: red">Fixed:</span>\n        - Fixed an issue where the padding in Choice Design was not applied to the Addon.\n        - Fixed an issue where the BGM did not change when using multiple BGM choices.\n        - Fixed an issue where performance dropped when opening the Import Choice window.\n        - Fixed an issue where the focus didn\'t change correctly when typing in a dropdown menu.\n        - Fixed an issue where the page froze when dragging to reorder rows in the Rows list.\n        - Fixed an issue where the scores did not update when import choices included Multiply/Divide functions.'},{open:!1,title:Al("2024-10-01T10:00:00Z"),text:"<span style=\"color: blue\">New Features:</span>\n        - Added an option in Global Settings to hide 'Scores Updated On' Message.\n        - Added an option in Global Settings to enable shortcuts for switching between Editor and Viewer modes.\n        - Added an option in Global Settings to use vw instead of px for the default font-size.\n        - Assigned CSS class names generated from their IDs to each row and choice.\n        - Added a feature to create multiple choices at once.\n        - Added a feature to move a choice within its row.\n        - Added a feature to set Global Requirements.\n        - Added a feature to set the background image fit in choice/row/window.\n        - Added a feature to set width of image box in 'Manage Rows/Choices Image Design'.\n        - Added a feature to set default text of 'Or/Selected From Requirements'.\n        - Added a feature to print simple variable of multi-select using Word.\n\n        <span style=\"color: red\">Fixed:</span>\n        - Fixed an issue where the 'Half of the screen' option did not work in backpack.\n        - Fixed an issue where the 'Object Gradient' did not work properly.\n        - Fixed an issue where the point discount feature did not work properly.\n        - Fixed an issue where the 'Score Updated On' did not work properly with multi-select choices.\n        - Fixed an issue where the multi-select choice did not work properly when decreased below 0.\n        - Fixed an issue where the 'Import Choices' feature did not work properly.\n        - Fixed an issue where performance degraded when the number of Word variables was high.\n        - Fixed an issue where the last Word was always deleted when attempting to remove a Word."},{open:!1,title:Al("2024-08-30T10:00:00Z"),text:"<span style=\"color: blue\">New Features:</span>\n        - Added a feature to choose all items in the dropdown menu at once.\n        - Added a feature to set which points to discount.\n        - Added a feature to set Design Groups for backpack.\n        - Added a feature to hide contents outside of backpack.\n        - Added a feature to multiply the score by the number of selections when using multi-select.\n        - Added a feature that allows multi-select choices to adjust Allowed Choices.\n        - Added a feature to set the size/position of the counter for multi-select choices.\n        - Added a feature to hide the counter when the choice is missing requirements.\n        - Added a feature to keep the choice selected when the Clean Activated feature is used.\n        - Added a feature to disable 'Use Alternate Menu' in Config Global Settings.\n\n        <span style=\"color: red\">Fixed:</span>\n        - Fixed an issue where the copy/paste requirement feature was not working correctly in certain situations.\n        - Fixed an issue where the Clean Activated feature did not update visual effects correctly.\n        - Fixed an issue where scores in multi-select choices were not calculated properly when a simple variable was not used.\n        - Fixed an issue where multi-select choices were not being properly canceled.\n        - Fixed an issue where choices couldn't be selected after deleting a choice.\n        - Fixed an issue where the 'player image upload' function did not work with the other choice functions."},{open:!1,title:Al("2024-08-20T10:00:00Z"),text:"<span style=\"color: blue\">New Features:</span>\n        - Added an option in 'Score' to determine whether the 'Scores Updated On' should be activated.\n        - Added a feature to use the modulo operator in 'point comparison' requirements.\n        - Added a feature to directly load a project from the 'CYOA.zip' file.\n        - Added a feature to copy/paste a requirement.\n        - Added a feature to merge duplicate images when exporting a project as a zip file.\n        - Added a feature to increase or decrease the 'Number of requirements' for 'X of these'.\n        - Added an option in Global Settings to enable or disable automatic image conversion.\n        - Added an option in Global Settings to enable image preloading in the backpack.\n        - Added a feature to display the discounted score.\n        - Added a feature to export ID/Name list as a CSV file.\n        - Added a feature to choose the display type in the loading animation (see index.html).\n\n        <span style=\"color: red\">Fixed:</span>\n        - Fixed an issue where 'Will make another choice unselected' feature was not working correctly.\n        - Fixed an issue where 'Multiply/Divide' features were not working correctly.\n        - Fixed an issue where the toggle buttons of 'Show Score/Hide Value' were not working correctly.\n        - Fixed an issue where choices activated by 'Forces another choice active' were de-selectable.\n        - Fixed an issue where image split downloads do not work correctly in the Firefox browser."},{open:!1,title:Al("2024-08-11T10:00:00Z"),text:"<span style=\"color: blue\">New Features:</span>\n        - Added a feature to set the row background in the row private settings.\n        - Added a feature to import/export design settings.\n        - Added a feature to hide score value.\n        - Added a feature to toggle 'Show Score/Hide Value' for all choices.\n        - Added a feature to manage backpack design.\n        - Added a feature to change the design of point bar when a choice is selected.\n        - Added a feature to set filter designs for unselected choices.\n        - Added an option in 'Force Active' to make other choices deselectable.\n        - Added a feature to change focus in the dropdown menu based on key inputs.\n        - Added a feature to put the font name directly for using custom fonts.\n\n        <span style=\"color: red\">Fixed:</span>\n        - Fixed an issue where changing the Group/Design group's ID did not apply to choices.\n        - Fixed an issue where problems occurred when conditions were not met due to score changes.\n        - Fixed an issue where the score was sometimes not updated correctly after using the Import Choices."},{open:!1,title:Al("2024-08-06T10:00:00Z"),text:"<span style=\"color: blue\">New Features:</span>\n        - Added a feature to change the order of Scores/Requirements/Addons in the choices.\n        - Added a feature to set ID to activate the Design Groups.\n        - Added an option in 'Force Active' that keeps other choices active when a choice is deselected.\n        - Expanded the 'Remove the text of the choices' Feature:\n        　- Now can choose which contents to remove from the title, image, text, score, requirement, or addon. \n        - Added a feature to allow users to use the 'Remove the contents of the choices'.\n        - Added a feature to mute background music when a choice is selected.\n        - Added a feature to hide the requirement when it is met.\n\n        <span style=\"color: red\">Fixed:</span>\n        - Fixed an issue where Design Groups were not being properly loaded in the Viewer.\n        - Fixed an issue where Scroll feature did not work properly in the Viewer.\n        - Fixed an issue where background changes were not reset when 'Clean Activated' was used.\n        - Fixed an issue where 'Id Needed To Show' in 'Points' did not work properly.\n        - Fixed an issue where choices set to 1 per row were being forced to 2 per row in mobile environments."},{open:!1,title:Al("2024-08-01T10:00:00Z"),text:'<span style="color: blue">New Features:</span>\n        - Added a feature to set whether the background music should loop or not.\n        - Added a feature to display titles of Rows/Choices in the Groups/Design Groups settings.\n        - Added a feature to import custom words using the import choices feature.\n        - Added a feature to set the length of Row/Choice IDs to be generated in global settings.\n\n        <span style="color: red">Fixed:</span>\n        - Fixed an issue where points were not properly refunded when choices were canceled.\n        - Fixed an issue where Private Styling doesn\'t work properly.\n        - Fixed an issue where Debug Title doesn\'t be shown in copy rows features.\n        - Fixed an issue where hidden rows in Backpack were still occupying space.\n        - Fixed an issue in Choice Design Groups where a choice once set was not being canceled.\n        - Fixed an issue where choices created in Backpack could not be deleted.\n        - Fixed an issue where choices were not canceled when some requirements were not met.\n        - Fixed an issue where project file was not being saved.\n        - Fixed an issue where Rows/Choices were not being deleted correctly.\n        - Fixed an issue where Addons were not affected by Design Groups.\n        - Fixed an issue where Design Groups were not being properly loaded in the Viewer.'},{open:!1,title:Al("2024-07-25T10:00:00Z"),text:"<span style=\"color: blue\">New Features:</span>\n        - Added a feature to hide choices in the Backpack.\n        - Added a feature to hide the button that displays the Backpack.\n        - Added a feature where the player can input their own words when selecting choice.\n        - Added a feature to check how many choices from groups have been selected.\n        - Added a feature to choose whether points will be shown on the points bar/choices.\n        - Added a feature to change the scroll position when a choice is selected.\n        - Added a feature to set background music when a choice is selected.\n        - Added a feature to change the background-color or background-image when a choice is selected.\n        - Added a feature to choose whether the filter color will overlay on background-image.\n        - Added a feature to manage Private Styles separately for each design feature.\n        - Added a feature to manage Private Styles for design groups globally.\n\n        <span style=\"color: red\">Fixed:</span>\n        - Fixed an issue where the browser would freeze when saving project with separate images.\n        - Fixed issues with 'Clean Activated' feature.\n        - Fixed issues with 'Scores Updated On'."},{open:!1,title:Al("2024-07-20T10:00:00Z"),text:"<span style=\"color: blue\">New Features:</span>\n        - Added a feature to Auto-save in local storage.\n        - Added requirements to check how many choices have been selected in rows/entire.\n        - Added a feature to set Border Color and Text Color in Filter design.\n        - Added a feature to apply a discount to all Choices within Groups.\n        - Added a feature to set the initial value of points applied when using Clean Activated.\n        - Added a feature to customize the color of each point text in the point bar.\n\n        <span style=\"color: red\">Fixed:</span>\n        - Fixed an issue where Forces Another Choice couldn't be used with multi-select.\n        - Fixed an issue where the choices in hidden rows weren't deselected automatically.\n        - Fixed an issue where 'X of these is selected' couldn't be set X to 0.\n        - Fixed an issue where words were not resetting with Clean Activated.\n        - Fixed an issue where Manage Groups didn't synchronize with the Group settings in Choices.\n        - A slight performance improvement."},{open:!1,title:Al("2024-07-11T10:00:00Z"),text:"<span style=\"color: red\">Fixed:</span>\n        - Fixed an issue where multi-selects did not refund points when canceled.\n        - Fixed an issue where the position of the point-icon was not displayed correctly.\n        - Fixed an issue where the points icon was not being displayed on the points bar.\n        - Fixed an issue where tags couldn't be used in Show Score.\n        - Fixed an issue where Forces Another Choice couldn't be used with multi-select."},{open:!1,title:Al("2024-07-09T10:00:00Z"),text:'<span style="color: blue">New Features:</span>\n        - Added a feature to change the order of points.\n        - Added Global Settings Config: Auto-save, Check before delete, Dark Mode.\n\n        <span style="color: red">Fixed:</span>\n        - Fixed an issue where multi-select bypass points were allowed to go negative.\n        - Fixed issues with \'Scores Updated On\':\n        　- Now it only works when all conditions are met.\n        　- Instead of canceling choices, scores are recalculated.'},{open:!1,title:Al("2024-07-05T10:00:00Z"),text:'<span style="color: blue">New Features:</span>\n        - Added a feature to the choice function where \'Selecting this choice will duplicate a row\'\n        - Added a feature where change the icon color in the point bar.\n        - Added a feature to specify whether the background image should repeat.\n        - Added a feature to display the amount of data loaded so far during loading.\n        - Added the feature to use multi-select as a requirement (ex. ID/ON#3).\n\n        <span style="color: red">Fixed:</span>\n        - Fixed an issue where Clean Activated feature was not working properly.\n        - Fixed the issue where multi-select choices were not deselected when losing requirements.\n        - Fixed the issue of loading not completing properly when loading a large project.json file.\n        - Fixed the issue where the Import Choices feature was not working properly.\n        - Fixed the issue where the random choices activation feature would select choices that were already selected.'},{open:!1,title:Al("2024-07-01T10:00:00Z"),text:"<span style=\"color: blue\">New Features:</span>\n        - Added a feature that 'X of these is selected' requirement.\n        - Added a feature that 'Force another choice active' at random.\n        - Added a feature that costs points at random.\n        - Added a feature that prevents each choice from being unselected.\n        - Added a feature that 'Point Comparison' requirement can reference multiple point-type."},{open:!1,title:Al("2024-06-26T10:00:00Z"),text:'<span style="color: red">Fixed:</span>\n        - Fixed an issue where the highlighting didn\'t display when multi-select was selected.\n        - Fixed an issue where the subtract feature of multi-select was not working properly.\n        - Fixed an issue where the Background Image was not visible when downloading Backpack as an image.\n        - Fixed an issue where Clean Activated feature was not working properly.'},{open:!1,title:Al("2024-06-22T10:00:00Z"),text:"<span style=\"color: blue\">New Features:</span>\n        - Added a feature that automatically converts PNG or JPEG files larger than 500KB to WebP format upon set Choce/Row images.\n        - Added a feature to set Border-Image in Manage Choice/Row Design.\n        - Added a feature to download images of backpacks by splitting them if the size is too large for successful download.\n        - Added a feature to manipulate choices that can be selected multiple times using 'Force another choice active' (e.g., id/ON#3).\n        - Added a loading animation to the viewer.\n\n        <span style=\"color: red\">Fixed:</span>\n        - Fixed an issue where background images were set for each row, obscuring the overall background image when 'private styling' was not enabled.\n        - Fixed an issue where choices would not appear when 'private styling' was enabled and the requirements were not met.\n        - Fixed an issue where choices activated by 'Force another choice active' feature could be deselected by clicking on them.\n        - Fixed an issue where Addons were not being removed when the 'Remove the text of the choices' feature was activated in Backpack.\n        - Fixed an issue where 'Point Comparison Requirements' could not be applied to points and addons."}];let n=l("Changelog"),s=Q(()=>Math.ceil(a.length/6)),d=l(1),h=Q(()=>6*(i(d)-1)),p=Q(()=>Math.min(i(h)+6-1,a.length-1)),m=Q(()=>a.slice(i(h),i(p)+1)),w=Q(()=>Math.ceil(r.length/6)),I=l(1),x=Q(()=>6*(i(I)-1)),$=Q(()=>Math.min(i(x)+6-1,r.length-1)),T=Q(()=>r.slice(i(x),i($)+1));Ue(e,{class:"h-100",children:(e,t)=>{Ge(e,{class:"p-0",children:(e,t)=>{var o=bw(),l=D(o);Tt(l,{class:"viewer-menu",variant:"static",children:(e,t)=>{yt(e,{children:(e,t)=>{Ct(e,{class:"py-0 justify-left",children:(e,t)=>{var o=uw(),i=v(o);Ye(i,{onclick:()=>wo.value="appMain",size:"mini",children:(e,t)=>{var o=cw();u(e,o)},$$slots:{default:!0}}),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},$$slots:{default:!0}});var r=X(l,2);{const e=(e,t=f)=>{Ae(e,{get tab(){return t()},children:(e,o)=>{ge(e,{children:(e,o)=>{var i=le();b(()=>re(i,t())),u(e,i)},$$slots:{default:!0}})},$$slots:{default:!0}})};Oe(r,{tabs:["Changelog","QnA"],get active(){return i(n)},set active(e){c(n,e,!0)},tab:e,$$slots:{tab:!0}})}var a=X(r,2),g=e=>{Fe(e,{role:"tabpanel",variant:"unelevated",children:(e,t)=>{Re(e,{children:(e,t)=>{var o=hw(),l=D(o),r=v(l),a=v(r);Ye(a,{onclick:()=>i(d)>1?c(d,i(d)-1):c(d,i(s),!0),children:(e,t)=>{var o=gw();u(e,o)},$$slots:{default:!0}});var n=X(a,2),g=v(n),h=X(n,2);Ye(h,{onclick:()=>i(d)<i(s)?c(d,i(d)+1):c(d,1),children:(e,t)=>{var o=vw();u(e,o)},$$slots:{default:!0}}),Gs(X(l,2),{children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>i(m),He,(e,t)=>{dw(e,{get title(){return i(t).title},get text(){return i(t).text},get open(){return i(t).open}})}),u(e,o)},$$slots:{default:!0}}),b(()=>re(g,`Page ${i(d)??""}`)),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})},h=(e,t)=>{var o=e=>{Fe(e,{role:"tabpanel",variant:"unelevated",children:(e,t)=>{Re(e,{children:(e,t)=>{var o=fw(),l=D(o),r=v(l),a=v(r);Ye(a,{onclick:()=>i(I)>1?c(I,i(I)-1):c(I,i(w),!0),children:(e,t)=>{var o=pw();u(e,o)},$$slots:{default:!0}});var n=X(a,2),s=v(n),d=X(n,2);Ye(d,{onclick:()=>i(I)<i(w)?c(I,i(I)+1):c(I,1),children:(e,t)=>{var o=mw();u(e,o)},$$slots:{default:!0}}),Gs(X(l,2),{children:(e,t)=>{var o=M(),l=D(o);Ee(l,17,()=>i(T),He,(e,t)=>{dw(e,{get title(){return i(t).title},get text(){return i(t).text}})}),u(e,o)},$$slots:{default:!0}}),b(()=>re(s,`Page ${i(I)??""}`)),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}})};Y(e,e=>{"QnA"===i(n)&&e(o)},t)};Y(a,e=>{"Changelog"===i(n)?e(g):e(h,!1)}),u(e,o)},$$slots:{default:!0}})},$$slots:{default:!0}}),g()}(e,{})};Y(e,e=>{"appInformation"===wo.value&&e(r)},o)};Y(e,e=>{"appCyoaViewer"===wo.value?e(r):e(a,!1)},o)};Y(e,e=>{"appCyoaCreator"===wo.value?e(r):e(a,!1)},o)};Y(I,e=>{"appMain"===wo.value?e(x):e($,!1)});var T=X(I,2);d(kt(T,{get labelText(){return Co.labelText},get timeoutMs(){return Co.timeoutMs},children:(e,t)=>{ge(e,{class:"text-center"})},$$slots:{default:!0}}),e=>n=e,()=>n),u(e,m),g()},{target:document.getElementById("app")});
